(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rv={exports:{}},kc={},kv={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP;function Eq(){if(EP)return He;EP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=p&&B[p]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function w(B,H,le){this.props=B,this.context=H,this.refs=S,this.updater=le||_}w.prototype.isReactComponent={},w.prototype.setState=function(B,H){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,H,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=w.prototype;function M(B,H,le){this.props=B,this.context=H,this.refs=S,this.updater=le||_}var k=M.prototype=new O;k.constructor=M,T(k,w.prototype),k.isPureReactComponent=!0;var L=Array.isArray,I=Object.prototype.hasOwnProperty,R={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function P(B,H,le){var xe,Oe={},je=null,ze=null;if(H!=null)for(xe in H.ref!==void 0&&(ze=H.ref),H.key!==void 0&&(je=""+H.key),H)I.call(H,xe)&&!x.hasOwnProperty(xe)&&(Oe[xe]=H[xe]);var Fe=arguments.length-2;if(Fe===1)Oe.children=le;else if(1<Fe){for(var pe=Array(Fe),Ie=0;Ie<Fe;Ie++)pe[Ie]=arguments[Ie+2];Oe.children=pe}if(B&&B.defaultProps)for(xe in Fe=B.defaultProps,Fe)Oe[xe]===void 0&&(Oe[xe]=Fe[xe]);return{$$typeof:t,type:B,key:je,ref:ze,props:Oe,_owner:R.current}}function C(B,H){return{$$typeof:t,type:B.type,key:H,ref:B.ref,props:B.props,_owner:B._owner}}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function D(B){var H={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(le){return H[le]})}var $=/\/+/g;function j(B,H){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):H.toString(36)}function X(B,H,le,xe,Oe){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(je){case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case t:case e:ze=!0}}if(ze)return ze=B,Oe=Oe(ze),B=xe===""?"."+j(ze,0):xe,L(Oe)?(le="",B!=null&&(le=B.replace($,"$&/")+"/"),X(Oe,H,le,"",function(Ie){return Ie})):Oe!=null&&(V(Oe)&&(Oe=C(Oe,le+(!Oe.key||ze&&ze.key===Oe.key?"":(""+Oe.key).replace($,"$&/")+"/")+B)),H.push(Oe)),1;if(ze=0,xe=xe===""?".":xe+":",L(B))for(var Fe=0;Fe<B.length;Fe++){je=B[Fe];var pe=xe+j(je,Fe);ze+=X(je,H,le,pe,Oe)}else if(pe=y(B),typeof pe=="function")for(B=pe.call(B),Fe=0;!(je=B.next()).done;)je=je.value,pe=xe+j(je,Fe++),ze+=X(je,H,le,pe,Oe);else if(je==="object")throw H=String(B),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ze}function J(B,H,le){if(B==null)return B;var xe=[],Oe=0;return X(B,xe,"","",function(je){return H.call(le,je,Oe++)}),xe}function re(B){if(B._status===-1){var H=B._result;H=H(),H.then(function(le){(B._status===0||B._status===-1)&&(B._status=1,B._result=le)},function(le){(B._status===0||B._status===-1)&&(B._status=2,B._result=le)}),B._status===-1&&(B._status=0,B._result=H)}if(B._status===1)return B._result.default;throw B._result}var ie={current:null},Q={transition:null},ne={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:Q,ReactCurrentOwner:R};function ae(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:J,forEach:function(B,H,le){J(B,function(){H.apply(this,arguments)},le)},count:function(B){var H=0;return J(B,function(){H++}),H},toArray:function(B){return J(B,function(H){return H})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},He.Component=w,He.Fragment=n,He.Profiler=i,He.PureComponent=M,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,He.act=ae,He.cloneElement=function(B,H,le){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var xe=T({},B.props),Oe=B.key,je=B.ref,ze=B._owner;if(H!=null){if(H.ref!==void 0&&(je=H.ref,ze=R.current),H.key!==void 0&&(Oe=""+H.key),B.type&&B.type.defaultProps)var Fe=B.type.defaultProps;for(pe in H)I.call(H,pe)&&!x.hasOwnProperty(pe)&&(xe[pe]=H[pe]===void 0&&Fe!==void 0?Fe[pe]:H[pe])}var pe=arguments.length-2;if(pe===1)xe.children=le;else if(1<pe){Fe=Array(pe);for(var Ie=0;Ie<pe;Ie++)Fe[Ie]=arguments[Ie+2];xe.children=Fe}return{$$typeof:t,type:B.type,key:Oe,ref:je,props:xe,_owner:ze}},He.createContext=function(B){return B={$$typeof:s,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},He.createElement=P,He.createFactory=function(B){var H=P.bind(null,B);return H.type=B,H},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:l,render:B}},He.isValidElement=V,He.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:re}},He.memo=function(B,H){return{$$typeof:f,type:B,compare:H===void 0?null:H}},He.startTransition=function(B){var H=Q.transition;Q.transition={};try{B()}finally{Q.transition=H}},He.unstable_act=ae,He.useCallback=function(B,H){return ie.current.useCallback(B,H)},He.useContext=function(B){return ie.current.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B){return ie.current.useDeferredValue(B)},He.useEffect=function(B,H){return ie.current.useEffect(B,H)},He.useId=function(){return ie.current.useId()},He.useImperativeHandle=function(B,H,le){return ie.current.useImperativeHandle(B,H,le)},He.useInsertionEffect=function(B,H){return ie.current.useInsertionEffect(B,H)},He.useLayoutEffect=function(B,H){return ie.current.useLayoutEffect(B,H)},He.useMemo=function(B,H){return ie.current.useMemo(B,H)},He.useReducer=function(B,H,le){return ie.current.useReducer(B,H,le)},He.useRef=function(B){return ie.current.useRef(B)},He.useState=function(B){return ie.current.useState(B)},He.useSyncExternalStore=function(B,H,le){return ie.current.useSyncExternalStore(B,H,le)},He.useTransition=function(){return ie.current.useTransition()},He.version="18.3.1",He}var TP;function QE(){return TP||(TP=1,kv.exports=Eq()),kv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function Tq(){if(SP)return kc;SP=1;var t=QE(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var d,p={},y=null,_=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(_=c.ref);for(d in c)r.call(c,d)&&!o.hasOwnProperty(d)&&(p[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:l,key:y,ref:_,props:p,_owner:i.current}}return kc.Fragment=n,kc.jsx=s,kc.jsxs=s,kc}var xP;function Sq(){return xP||(xP=1,Rv.exports=Tq()),Rv.exports}var te=Sq(),de=QE();const W=vt(de);var Xd={},Nv={exports:{}},Zn={},Mv={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AP;function xq(){return AP||(AP=1,function(t){function e(Q,ne){var ae=Q.length;Q.push(ne);e:for(;0<ae;){var B=ae-1>>>1,H=Q[B];if(0<i(H,ne))Q[B]=ne,Q[ae]=H,ae=B;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ne=Q[0],ae=Q.pop();if(ae!==ne){Q[0]=ae;e:for(var B=0,H=Q.length,le=H>>>1;B<le;){var xe=2*(B+1)-1,Oe=Q[xe],je=xe+1,ze=Q[je];if(0>i(Oe,ae))je<H&&0>i(ze,Oe)?(Q[B]=ze,Q[je]=ae,B=je):(Q[B]=Oe,Q[xe]=ae,B=xe);else if(je<H&&0>i(ze,ae))Q[B]=ze,Q[je]=ae,B=je;else break e}}return ne}function i(Q,ne){var ae=Q.sortIndex-ne.sortIndex;return ae!==0?ae:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],d=1,p=null,y=3,_=!1,T=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var ne=n(f);ne!==null;){if(ne.callback===null)r(f);else if(ne.startTime<=Q)r(f),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(f)}}function L(Q){if(S=!1,k(Q),!T)if(n(c)!==null)T=!0,re(I);else{var ne=n(f);ne!==null&&ie(L,ne.startTime-Q)}}function I(Q,ne){T=!1,S&&(S=!1,O(P),P=-1),_=!0;var ae=y;try{for(k(ne),p=n(c);p!==null&&(!(p.expirationTime>ne)||Q&&!D());){var B=p.callback;if(typeof B=="function"){p.callback=null,y=p.priorityLevel;var H=B(p.expirationTime<=ne);ne=t.unstable_now(),typeof H=="function"?p.callback=H:p===n(c)&&r(c),k(ne)}else r(c);p=n(c)}if(p!==null)var le=!0;else{var xe=n(f);xe!==null&&ie(L,xe.startTime-ne),le=!1}return le}finally{p=null,y=ae,_=!1}}var R=!1,x=null,P=-1,C=5,V=-1;function D(){return!(t.unstable_now()-V<C)}function $(){if(x!==null){var Q=t.unstable_now();V=Q;var ne=!0;try{ne=x(!0,Q)}finally{ne?j():(R=!1,x=null)}}else R=!1}var j;if(typeof M=="function")j=function(){M($)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=$,j=function(){J.postMessage(null)}}else j=function(){w($,0)};function re(Q){x=Q,R||(R=!0,j())}function ie(Q,ne){P=w(function(){Q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){T||_||(T=!0,re(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var ae=y;y=ne;try{return Q()}finally{y=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=y;y=Q;try{return ne()}finally{y=ae}},t.unstable_scheduleCallback=function(Q,ne,ae){var B=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,Q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,Q={id:d++,callback:ne,priorityLevel:Q,startTime:ae,expirationTime:H,sortIndex:-1},ae>B?(Q.sortIndex=ae,e(f,Q),n(c)===null&&Q===n(f)&&(S?(O(P),P=-1):S=!0,ie(L,ae-B))):(Q.sortIndex=H,e(c,Q),T||_||(T=!0,re(I))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var ne=y;return function(){var ae=y;y=ne;try{return Q.apply(this,arguments)}finally{y=ae}}}}(Dv)),Dv}var PP;function Aq(){return PP||(PP=1,Mv.exports=xq()),Mv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP;function Pq(){if(IP)return Zn;IP=1;var t=QE(),e=Aq();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function y(a){return c.call(p,a)?!0:c.call(d,a)?!1:f.test(a)?p[a]=!0:(d[a]=!0,!1)}function _(a,u,h,g){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,u,h,g){if(u===null||typeof u>"u"||_(a,u,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(a,u,h,g,v,E,N){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=a,this.type=u,this.sanitizeURL=E,this.removeEmptyString=N}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){w[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];w[u]=new S(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){w[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){w[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){w[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){w[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){w[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){w[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){w[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function M(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(O,M);w[u]=new S(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(O,M);w[u]=new S(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(O,M);w[u]=new S(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){w[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){w[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,u,h,g){var v=w.hasOwnProperty(u)?w[u]:null;(v!==null?v.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(T(u,h,v,g)&&(h=null),g||v===null?y(u)&&(h===null?a.removeAttribute(u):a.setAttribute(u,""+h)):v.mustUseProperty?a[v.propertyName]=h===null?v.type===3?!1:"":h:(u=v.attributeName,g=v.attributeNamespace,h===null?a.removeAttribute(u):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,g?a.setAttributeNS(g,u,h):a.setAttribute(u,h))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),R=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),D=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,B;function H(a){if(B===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);B=u&&u[1]||""}return`
`+B+a}var le=!1;function xe(a,u){if(!a||le)return"";le=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Z){var g=Z}Reflect.construct(a,[],u)}else{try{u.call()}catch(Z){g=Z}a.call(u.prototype)}else{try{throw Error()}catch(Z){g=Z}a()}}catch(Z){if(Z&&g&&typeof Z.stack=="string"){for(var v=Z.stack.split(`
`),E=g.stack.split(`
`),N=v.length-1,q=E.length-1;1<=N&&0<=q&&v[N]!==E[q];)q--;for(;1<=N&&0<=q;N--,q--)if(v[N]!==E[q]){if(N!==1||q!==1)do if(N--,q--,0>q||v[N]!==E[q]){var U=`
`+v[N].replace(" at new "," at ");return a.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",a.displayName)),U}while(1<=N&&0<=q);break}}}finally{le=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?H(a):""}function Oe(a){switch(a.tag){case 5:return H(a.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return a=xe(a.type,!1),a;case 11:return a=xe(a.type.render,!1),a;case 1:return a=xe(a.type,!0),a;default:return""}}function je(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case R:return"Portal";case C:return"Profiler";case P:return"StrictMode";case j:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case D:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case $:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case J:return u=a.displayName||null,u!==null?u:je(a.type)||"Memo";case re:u=a._payload,a=a._init;try{return je(a(u))}catch{}}return null}function ze(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Fe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function pe(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ie(a){var u=pe(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,E=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return v.call(this)},set:function(N){g=""+N,E.call(this,N)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function De(a){a._valueTracker||(a._valueTracker=Ie(a))}function ce(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return a&&(g=pe(a)?a.checked?"true":"false":a.value),a=g,a!==h?(u.setValue(a),!0):!1}function ut(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ue(a,u){var h=u.checked;return ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function _t(a,u){var h=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;h=Fe(u.value!=null?u.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function xt(a,u){u=u.checked,u!=null&&k(a,"checked",u,!1)}function Ut(a,u){xt(a,u);var h=Fe(u.value),g=u.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?ur(a,u.type,h):u.hasOwnProperty("defaultValue")&&ur(a,u.type,Fe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function sr(a,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,h||u===a.value||(a.value=u),a.defaultValue=u}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function ur(a,u,h){(u!=="number"||ut(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Wn=Array.isArray;function yn(a,u,h,g){if(a=a.options,u){u={};for(var v=0;v<h.length;v++)u["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=u.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Fe(h),u=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}u!==null||a[v].disabled||(u=a[v])}u!==null&&(u.selected=!0)}}function lr(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function vi(a,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(n(92));if(Wn(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),h=u}a._wrapperState={initialValue:Fe(h)}}function Bi(a,u){var h=Fe(u.value),g=Fe(u.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),u.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function Io(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Yt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Yt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ui,Bl=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,g,v){MSApp.execUnsafeLocalFunction(function(){return a(u,h,g,v)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ui.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Co(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ca=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(a){Ca.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Ia[u]=Ia[a]})});function Ul(a,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||Ia.hasOwnProperty(a)&&Ia[a]?(""+u).trim():u+"px"}function zl(a,u){a=a.style;for(var h in u)if(u.hasOwnProperty(h)){var g=h.indexOf("--")===0,v=Ul(h,u[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,v):a[h]=v}}var Wl=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(a,u){if(u){if(Wl[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Gl(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Ds(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var js=null,Ar=null,_i=null;function Ls(a){if(a=yc(a)){if(typeof js!="function")throw Error(n(280));var u=a.stateNode;u&&(u=fd(u),js(a.stateNode,a.type,u))}}function wi(a){Ar?_i?_i.push(a):_i=[a]:Ar=a}function Kl(){if(Ar){var a=Ar,u=_i;if(_i=Ar=null,Ls(a),u)for(a=0;a<u.length;a++)Ls(u[a])}}function Ra(a,u){return a(u)}function Ql(){}var zi=!1;function Yl(a,u,h){if(zi)return a(u,h);zi=!0;try{return Ra(a,u,h)}finally{zi=!1,(Ar!==null||_i!==null)&&(Ql(),Kl())}}function Vt(a,u){var h=a.stateNode;if(h===null)return null;var g=fd(h);if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var $s=!1;if(l)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){$s=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{$s=!1}function ka(a,u,h,g,v,E,N,q,U){var Z=Array.prototype.slice.call(arguments,3);try{u.apply(h,Z)}catch(he){this.onError(he)}}var Na=!1,Vs=null,Wr=!1,Xl=null,oy={onError:function(a){Na=!0,Vs=a}};function Fs(a,u,h,g,v,E,N,q,U){Na=!1,Vs=null,ka.apply(oy,arguments)}function jh(a,u,h,g,v,E,N,q,U){if(Fs.apply(this,arguments),Na){if(Na){var Z=Vs;Na=!1,Vs=null}else throw Error(n(198));Wr||(Wr=!0,Xl=Z)}}function Hr(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function Ma(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Gr(a){if(Hr(a)!==a)throw Error(n(188))}function Lh(a){var u=a.alternate;if(!u){if(u=Hr(a),u===null)throw Error(n(188));return u!==a?null:a}for(var h=a,g=u;;){var v=h.return;if(v===null)break;var E=v.alternate;if(E===null){if(g=v.return,g!==null){h=g;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===h)return Gr(v),a;if(E===g)return Gr(v),u;E=E.sibling}throw Error(n(188))}if(h.return!==g.return)h=v,g=E;else{for(var N=!1,q=v.child;q;){if(q===h){N=!0,h=v,g=E;break}if(q===g){N=!0,g=v,h=E;break}q=q.sibling}if(!N){for(q=E.child;q;){if(q===h){N=!0,h=E,g=v;break}if(q===g){N=!0,g=E,h=v;break}q=q.sibling}if(!N)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:u}function Jl(a){return a=Lh(a),a!==null?qs(a):null}function qs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=qs(a);if(u!==null)return u;a=a.sibling}return null}var Bs=e.unstable_scheduleCallback,Zl=e.unstable_cancelCallback,$h=e.unstable_shouldYield,ay=e.unstable_requestPaint,wt=e.unstable_now,Vh=e.unstable_getCurrentPriorityLevel,Da=e.unstable_ImmediatePriority,Oo=e.unstable_UserBlockingPriority,Pr=e.unstable_NormalPriority,ec=e.unstable_LowPriority,Fh=e.unstable_IdlePriority,ja=null,cr=null;function qh(a){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(ja,a,void 0,(a.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:Uh,tc=Math.log,Bh=Math.LN2;function Uh(a){return a>>>=0,a===0?32:31-(tc(a)/Bh|0)|0}var Us=64,zs=4194304;function Ro(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function La(a,u){var h=a.pendingLanes;if(h===0)return 0;var g=0,v=a.suspendedLanes,E=a.pingedLanes,N=h&268435455;if(N!==0){var q=N&~v;q!==0?g=Ro(q):(E&=N,E!==0&&(g=Ro(E)))}else N=h&~v,N!==0?g=Ro(N):E!==0&&(g=Ro(E));if(g===0)return 0;if(u!==0&&u!==g&&!(u&v)&&(v=g&-g,E=u&-u,v>=E||v===16&&(E&4194240)!==0))return u;if(g&4&&(g|=h&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)h=31-Vn(u),v=1<<h,g|=a[h],u&=~v;return g}function sy(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wi(a,u){for(var h=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,E=a.pendingLanes;0<E;){var N=31-Vn(E),q=1<<N,U=v[N];U===-1?(!(q&h)||q&g)&&(v[N]=sy(q,u)):U<=u&&(a.expiredLanes|=q),E&=~q}}function fr(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function $a(){var a=Us;return Us<<=1,!(Us&4194240)&&(Us=64),a}function ko(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function No(a,u,h){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Vn(u),a[u]=h}function mt(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var v=31-Vn(h),E=1<<v;u[v]=0,g[v]=-1,a[v]=-1,h&=~E}}function Mo(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var g=31-Vn(h),v=1<<g;v&u|a[g]&u&&(a[g]|=u),h&=~v}}var Je=0;function Do(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var zh,Ws,Wh,Hh,Gh,nc=!1,bi=[],vn=null,Kr=null,Qr=null,jo=new Map,Ir=new Map,Ei=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kh(a,u){switch(a){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":jo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(u.pointerId)}}function Hn(a,u,h,g,v,E){return a===null||a.nativeEvent!==E?(a={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[v]},u!==null&&(u=yc(u),u!==null&&Ws(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),a)}function ly(a,u,h,g,v){switch(u){case"focusin":return vn=Hn(vn,a,u,h,g,v),!0;case"dragenter":return Kr=Hn(Kr,a,u,h,g,v),!0;case"mouseover":return Qr=Hn(Qr,a,u,h,g,v),!0;case"pointerover":var E=v.pointerId;return jo.set(E,Hn(jo.get(E)||null,a,u,h,g,v)),!0;case"gotpointercapture":return E=v.pointerId,Ir.set(E,Hn(Ir.get(E)||null,a,u,h,g,v)),!0}return!1}function Qh(a){var u=Ua(a.target);if(u!==null){var h=Hr(u);if(h!==null){if(u=h.tag,u===13){if(u=Ma(h),u!==null){a.blockedOn=u,Gh(a.priority,function(){Wh(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Hi(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=Hs(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Oa=g,h.target.dispatchEvent(g),Oa=null}else return u=yc(h),u!==null&&Ws(u),a.blockedOn=h,!1;u.shift()}return!0}function Va(a,u,h){Hi(a)&&h.delete(u)}function Yh(){nc=!1,vn!==null&&Hi(vn)&&(vn=null),Kr!==null&&Hi(Kr)&&(Kr=null),Qr!==null&&Hi(Qr)&&(Qr=null),jo.forEach(Va),Ir.forEach(Va)}function Yr(a,u){a.blockedOn===u&&(a.blockedOn=null,nc||(nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yh)))}function Xr(a){function u(v){return Yr(v,a)}if(0<bi.length){Yr(bi[0],a);for(var h=1;h<bi.length;h++){var g=bi[h];g.blockedOn===a&&(g.blockedOn=null)}}for(vn!==null&&Yr(vn,a),Kr!==null&&Yr(Kr,a),Qr!==null&&Yr(Qr,a),jo.forEach(u),Ir.forEach(u),h=0;h<Ei.length;h++)g=Ei[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<Ei.length&&(h=Ei[0],h.blockedOn===null);)Qh(h),h.blockedOn===null&&Ei.shift()}var Gi=L.ReactCurrentBatchConfig,Lo=!0;function Ot(a,u,h,g){var v=Je,E=Gi.transition;Gi.transition=null;try{Je=1,rc(a,u,h,g)}finally{Je=v,Gi.transition=E}}function cy(a,u,h,g){var v=Je,E=Gi.transition;Gi.transition=null;try{Je=4,rc(a,u,h,g)}finally{Je=v,Gi.transition=E}}function rc(a,u,h,g){if(Lo){var v=Hs(a,u,h,g);if(v===null)by(a,u,g,Fa,h),Kh(a,g);else if(ly(v,a,u,h,g))g.stopPropagation();else if(Kh(a,g),u&4&&-1<uy.indexOf(a)){for(;v!==null;){var E=yc(v);if(E!==null&&zh(E),E=Hs(a,u,h,g),E===null&&by(a,u,g,Fa,h),E===v)break;v=E}v!==null&&g.stopPropagation()}else by(a,u,g,null,h)}}var Fa=null;function Hs(a,u,h,g){if(Fa=null,a=Ds(g),a=Ua(a),a!==null)if(u=Hr(a),u===null)a=null;else if(h=u.tag,h===13){if(a=Ma(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Fa=a,null}function ic(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vh()){case Da:return 1;case Oo:return 4;case Pr:case ec:return 16;case Fh:return 536870912;default:return 16}default:return 16}}var hr=null,Gs=null,Gn=null;function oc(){if(Gn)return Gn;var a,u=Gs,h=u.length,g,v="value"in hr?hr.value:hr.textContent,E=v.length;for(a=0;a<h&&u[a]===v[a];a++);var N=h-a;for(g=1;g<=N&&u[h-g]===v[E-g];g++);return Gn=v.slice(a,1<g?1-g:void 0)}function Ks(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Ti(){return!0}function ac(){return!1}function _n(a){function u(h,g,v,E,N){this._reactName=h,this._targetInst=v,this.type=g,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(h=a[q],this[q]=h?h(E):E[q]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ti:ac,this.isPropagationStopped=ac,this}return ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),u}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=_n(Jr),Si=ae({},Jr,{view:0,detail:0}),fy=_n(Si),Ys,Ki,$o,qa=ae({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$o&&($o&&a.type==="mousemove"?(Ys=a.screenX-$o.screenX,Ki=a.screenY-$o.screenY):Ki=Ys=0,$o=a),Ys)},movementY:function(a){return"movementY"in a?a.movementY:Ki}}),Xs=_n(qa),sc=ae({},qa,{dataTransfer:0}),Xh=_n(sc),Js=ae({},Si,{relatedTarget:0}),Zs=_n(Js),Jh=ae({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qi=_n(Jh),Zh=ae({},Jr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ed=_n(Zh),td=ae({},Jr,{data:0}),uc=_n(td),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rd(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=nd[a])?!!u[a]:!1}function xi(){return rd}var m=ae({},Si,{key:function(a){if(a.key){var u=eu[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Ks(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Fn[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(a){return a.type==="keypress"?Ks(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ks(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),b=_n(m),A=ae({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F=_n(A),G=ae({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),ee=_n(G),ve=ae({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=_n(ve),Jt=ae({},qa,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=_n(Jt),un=[9,13,27,32],zt=l&&"CompositionEvent"in window,Cr=null;l&&"documentMode"in document&&(Cr=document.documentMode);var dr=l&&"TextEvent"in window&&!Cr,Ba=l&&(!zt||Cr&&8<Cr&&11>=Cr),tu=" ",gx=!1;function yx(a,u){switch(a){case"keyup":return un.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nu=!1;function _4(a,u){switch(a){case"compositionend":return vx(u);case"keypress":return u.which!==32?null:(gx=!0,tu);case"textInput":return a=u.data,a===tu&&gx?null:a;default:return null}}function w4(a,u){if(nu)return a==="compositionend"||!zt&&yx(a,u)?(a=oc(),Gn=Gs=hr=null,nu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ba&&u.locale!=="ko"?null:u.data;default:return null}}var b4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!b4[a.type]:u==="textarea"}function wx(a,u,h,g){wi(g),u=ud(u,"onChange"),0<u.length&&(h=new Qs("onChange","change",null,h,g),a.push({event:h,listeners:u}))}var lc=null,cc=null;function E4(a){$x(a,0)}function id(a){var u=su(a);if(ce(u))return a}function T4(a,u){if(a==="change")return u}var bx=!1;if(l){var hy;if(l){var dy="oninput"in document;if(!dy){var Ex=document.createElement("div");Ex.setAttribute("oninput","return;"),dy=typeof Ex.oninput=="function"}hy=dy}else hy=!1;bx=hy&&(!document.documentMode||9<document.documentMode)}function Tx(){lc&&(lc.detachEvent("onpropertychange",Sx),cc=lc=null)}function Sx(a){if(a.propertyName==="value"&&id(cc)){var u=[];wx(u,cc,a,Ds(a)),Yl(E4,u)}}function S4(a,u,h){a==="focusin"?(Tx(),lc=u,cc=h,lc.attachEvent("onpropertychange",Sx)):a==="focusout"&&Tx()}function x4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return id(cc)}function A4(a,u){if(a==="click")return id(u)}function P4(a,u){if(a==="input"||a==="change")return id(u)}function I4(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Zr=typeof Object.is=="function"?Object.is:I4;function fc(a,u){if(Zr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var v=h[g];if(!c.call(u,v)||!Zr(a[v],u[v]))return!1}return!0}function xx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ax(a,u){var h=xx(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=u&&g>=u)return{node:h,offset:u-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=xx(h)}}function Px(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Px(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Ix(){for(var a=window,u=ut();u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=ut(a.document)}return u}function py(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function C4(a){var u=Ix(),h=a.focusedElem,g=a.selectionRange;if(u!==h&&h&&h.ownerDocument&&Px(h.ownerDocument.documentElement,h)){if(g!==null&&py(h)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(a,h.value.length);else if(a=(u=h.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var v=h.textContent.length,E=Math.min(g.start,v);g=g.end===void 0?E:Math.min(g.end,v),!a.extend&&E>g&&(v=g,g=E,E=v),v=Ax(h,E);var N=Ax(h,g);v&&N&&(a.rangeCount!==1||a.anchorNode!==v.node||a.anchorOffset!==v.offset||a.focusNode!==N.node||a.focusOffset!==N.offset)&&(u=u.createRange(),u.setStart(v.node,v.offset),a.removeAllRanges(),E>g?(a.addRange(u),a.extend(N.node,N.offset)):(u.setEnd(N.node,N.offset),a.addRange(u)))}}for(u=[],a=h;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)a=u[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var O4=l&&"documentMode"in document&&11>=document.documentMode,ru=null,my=null,hc=null,gy=!1;function Cx(a,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;gy||ru==null||ru!==ut(g)||(g=ru,"selectionStart"in g&&py(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),hc&&fc(hc,g)||(hc=g,g=ud(my,"onSelect"),0<g.length&&(u=new Qs("onSelect","select",null,u,h),a.push({event:u,listeners:g}),u.target=ru)))}function od(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var iu={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},yy={},Ox={};l&&(Ox=document.createElement("div").style,"AnimationEvent"in window||(delete iu.animationend.animation,delete iu.animationiteration.animation,delete iu.animationstart.animation),"TransitionEvent"in window||delete iu.transitionend.transition);function ad(a){if(yy[a])return yy[a];if(!iu[a])return a;var u=iu[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in Ox)return yy[a]=u[h];return a}var Rx=ad("animationend"),kx=ad("animationiteration"),Nx=ad("animationstart"),Mx=ad("transitionend"),Dx=new Map,jx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(a,u){Dx.set(a,u),o(u,[a])}for(var vy=0;vy<jx.length;vy++){var _y=jx[vy],R4=_y.toLowerCase(),k4=_y[0].toUpperCase()+_y.slice(1);Vo(R4,"on"+k4)}Vo(Rx,"onAnimationEnd"),Vo(kx,"onAnimationIteration"),Vo(Nx,"onAnimationStart"),Vo("dblclick","onDoubleClick"),Vo("focusin","onFocus"),Vo("focusout","onBlur"),Vo(Mx,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N4=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function Lx(a,u,h){var g=a.type||"unknown-event";a.currentTarget=h,jh(g,u,void 0,a),a.currentTarget=null}function $x(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],v=g.event;g=g.listeners;e:{var E=void 0;if(u)for(var N=g.length-1;0<=N;N--){var q=g[N],U=q.instance,Z=q.currentTarget;if(q=q.listener,U!==E&&v.isPropagationStopped())break e;Lx(v,q,Z),E=U}else for(N=0;N<g.length;N++){if(q=g[N],U=q.instance,Z=q.currentTarget,q=q.listener,U!==E&&v.isPropagationStopped())break e;Lx(v,q,Z),E=U}}}if(Wr)throw a=Xl,Wr=!1,Xl=null,a}function At(a,u){var h=u[Py];h===void 0&&(h=u[Py]=new Set);var g=a+"__bubble";h.has(g)||(Vx(u,a,2,!1),h.add(g))}function wy(a,u,h){var g=0;u&&(g|=4),Vx(h,a,g,u)}var sd="_reactListening"+Math.random().toString(36).slice(2);function pc(a){if(!a[sd]){a[sd]=!0,r.forEach(function(h){h!=="selectionchange"&&(N4.has(h)||wy(h,!1,a),wy(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[sd]||(u[sd]=!0,wy("selectionchange",!1,u))}}function Vx(a,u,h,g){switch(ic(u)){case 1:var v=Ot;break;case 4:v=cy;break;default:v=rc}h=v.bind(null,u,h,a),v=void 0,!$s||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(u,h,{capture:!0,passive:v}):a.addEventListener(u,h,!0):v!==void 0?a.addEventListener(u,h,{passive:v}):a.addEventListener(u,h,!1)}function by(a,u,h,g,v){var E=g;if(!(u&1)&&!(u&2)&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var q=g.stateNode.containerInfo;if(q===v||q.nodeType===8&&q.parentNode===v)break;if(N===4)for(N=g.return;N!==null;){var U=N.tag;if((U===3||U===4)&&(U=N.stateNode.containerInfo,U===v||U.nodeType===8&&U.parentNode===v))return;N=N.return}for(;q!==null;){if(N=Ua(q),N===null)return;if(U=N.tag,U===5||U===6){g=E=N;continue e}q=q.parentNode}}g=g.return}Yl(function(){var Z=E,he=Ds(h),me=[];e:{var fe=Dx.get(a);if(fe!==void 0){var be=Qs,Ae=a;switch(a){case"keypress":if(Ks(h)===0)break e;case"keydown":case"keyup":be=b;break;case"focusin":Ae="focus",be=Zs;break;case"focusout":Ae="blur",be=Zs;break;case"beforeblur":case"afterblur":be=Zs;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ee;break;case Rx:case kx:case Nx:be=Qi;break;case Mx:be=dt;break;case"scroll":be=fy;break;case"wheel":be=nt;break;case"copy":case"cut":case"paste":be=ed;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=F}var Pe=(u&4)!==0,Ft=!Pe&&a==="scroll",K=Pe?fe!==null?fe+"Capture":null:fe;Pe=[];for(var z=Z,Y;z!==null;){Y=z;var ge=Y.stateNode;if(Y.tag===5&&ge!==null&&(Y=ge,K!==null&&(ge=Vt(z,K),ge!=null&&Pe.push(mc(z,ge,Y)))),Ft)break;z=z.return}0<Pe.length&&(fe=new be(fe,Ae,null,h,he),me.push({event:fe,listeners:Pe}))}}if(!(u&7)){e:{if(fe=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",fe&&h!==Oa&&(Ae=h.relatedTarget||h.fromElement)&&(Ua(Ae)||Ae[Yi]))break e;if((be||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,be?(Ae=h.relatedTarget||h.toElement,be=Z,Ae=Ae?Ua(Ae):null,Ae!==null&&(Ft=Hr(Ae),Ae!==Ft||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(be=null,Ae=Z),be!==Ae)){if(Pe=Xs,ge="onMouseLeave",K="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=F,ge="onPointerLeave",K="onPointerEnter",z="pointer"),Ft=be==null?fe:su(be),Y=Ae==null?fe:su(Ae),fe=new Pe(ge,z+"leave",be,h,he),fe.target=Ft,fe.relatedTarget=Y,ge=null,Ua(he)===Z&&(Pe=new Pe(K,z+"enter",Ae,h,he),Pe.target=Y,Pe.relatedTarget=Ft,ge=Pe),Ft=ge,be&&Ae)t:{for(Pe=be,K=Ae,z=0,Y=Pe;Y;Y=ou(Y))z++;for(Y=0,ge=K;ge;ge=ou(ge))Y++;for(;0<z-Y;)Pe=ou(Pe),z--;for(;0<Y-z;)K=ou(K),Y--;for(;z--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=ou(Pe),K=ou(K)}Pe=null}else Pe=null;be!==null&&Fx(me,fe,be,Pe,!1),Ae!==null&&Ft!==null&&Fx(me,Ft,Ae,Pe,!0)}}e:{if(fe=Z?su(Z):window,be=fe.nodeName&&fe.nodeName.toLowerCase(),be==="select"||be==="input"&&fe.type==="file")var Ce=T4;else if(_x(fe))if(bx)Ce=P4;else{Ce=x4;var ke=S4}else(be=fe.nodeName)&&be.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ce=A4);if(Ce&&(Ce=Ce(a,Z))){wx(me,Ce,h,he);break e}ke&&ke(a,fe,Z),a==="focusout"&&(ke=fe._wrapperState)&&ke.controlled&&fe.type==="number"&&ur(fe,"number",fe.value)}switch(ke=Z?su(Z):window,a){case"focusin":(_x(ke)||ke.contentEditable==="true")&&(ru=ke,my=Z,hc=null);break;case"focusout":hc=my=ru=null;break;case"mousedown":gy=!0;break;case"contextmenu":case"mouseup":case"dragend":gy=!1,Cx(me,h,he);break;case"selectionchange":if(O4)break;case"keydown":case"keyup":Cx(me,h,he)}var Ne;if(zt)e:{switch(a){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else nu?yx(a,h)&&($e="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&($e="onCompositionStart");$e&&(Ba&&h.locale!=="ko"&&(nu||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&nu&&(Ne=oc()):(hr=he,Gs="value"in hr?hr.value:hr.textContent,nu=!0)),ke=ud(Z,$e),0<ke.length&&($e=new uc($e,a,null,h,he),me.push({event:$e,listeners:ke}),Ne?$e.data=Ne:(Ne=vx(h),Ne!==null&&($e.data=Ne)))),(Ne=dr?_4(a,h):w4(a,h))&&(Z=ud(Z,"onBeforeInput"),0<Z.length&&(he=new uc("onBeforeInput","beforeinput",null,h,he),me.push({event:he,listeners:Z}),he.data=Ne))}$x(me,u)})}function mc(a,u,h){return{instance:a,listener:u,currentTarget:h}}function ud(a,u){for(var h=u+"Capture",g=[];a!==null;){var v=a,E=v.stateNode;v.tag===5&&E!==null&&(v=E,E=Vt(a,h),E!=null&&g.unshift(mc(a,E,v)),E=Vt(a,u),E!=null&&g.push(mc(a,E,v))),a=a.return}return g}function ou(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Fx(a,u,h,g,v){for(var E=u._reactName,N=[];h!==null&&h!==g;){var q=h,U=q.alternate,Z=q.stateNode;if(U!==null&&U===g)break;q.tag===5&&Z!==null&&(q=Z,v?(U=Vt(h,E),U!=null&&N.unshift(mc(h,U,q))):v||(U=Vt(h,E),U!=null&&N.push(mc(h,U,q)))),h=h.return}N.length!==0&&a.push({event:u,listeners:N})}var M4=/\r\n?/g,D4=/\u0000|\uFFFD/g;function qx(a){return(typeof a=="string"?a:""+a).replace(M4,`
`).replace(D4,"")}function ld(a,u,h){if(u=qx(u),qx(a)!==u&&h)throw Error(n(425))}function cd(){}var Ey=null,Ty=null;function Sy(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var xy=typeof setTimeout=="function"?setTimeout:void 0,j4=typeof clearTimeout=="function"?clearTimeout:void 0,Bx=typeof Promise=="function"?Promise:void 0,L4=typeof queueMicrotask=="function"?queueMicrotask:typeof Bx<"u"?function(a){return Bx.resolve(null).then(a).catch($4)}:xy;function $4(a){setTimeout(function(){throw a})}function Ay(a,u){var h=u,g=0;do{var v=h.nextSibling;if(a.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(g===0){a.removeChild(v),Xr(u);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=v}while(h);Xr(u)}function Fo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function Ux(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}var au=Math.random().toString(36).slice(2),Ai="__reactFiber$"+au,gc="__reactProps$"+au,Yi="__reactContainer$"+au,Py="__reactEvents$"+au,V4="__reactListeners$"+au,F4="__reactHandles$"+au;function Ua(a){var u=a[Ai];if(u)return u;for(var h=a.parentNode;h;){if(u=h[Yi]||h[Ai]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=Ux(a);a!==null;){if(h=a[Ai])return h;a=Ux(a)}return u}a=h,h=a.parentNode}return null}function yc(a){return a=a[Ai]||a[Yi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function su(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function fd(a){return a[gc]||null}var Iy=[],uu=-1;function qo(a){return{current:a}}function Pt(a){0>uu||(a.current=Iy[uu],Iy[uu]=null,uu--)}function bt(a,u){uu++,Iy[uu]=a.current,a.current=u}var Bo={},Pn=qo(Bo),Kn=qo(!1),za=Bo;function lu(a,u){var h=a.type.contextTypes;if(!h)return Bo;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var v={},E;for(E in h)v[E]=u[E];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=v),v}function Qn(a){return a=a.childContextTypes,a!=null}function hd(){Pt(Kn),Pt(Pn)}function zx(a,u,h){if(Pn.current!==Bo)throw Error(n(168));bt(Pn,u),bt(Kn,h)}function Wx(a,u,h){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var v in g)if(!(v in u))throw Error(n(108,ze(a)||"Unknown",v));return ae({},h,g)}function dd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Bo,za=Pn.current,bt(Pn,a),bt(Kn,Kn.current),!0}function Hx(a,u,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=Wx(a,u,za),g.__reactInternalMemoizedMergedChildContext=a,Pt(Kn),Pt(Pn),bt(Pn,a)):Pt(Kn),bt(Kn,h)}var Xi=null,pd=!1,Cy=!1;function Gx(a){Xi===null?Xi=[a]:Xi.push(a)}function q4(a){pd=!0,Gx(a)}function Uo(){if(!Cy&&Xi!==null){Cy=!0;var a=0,u=Je;try{var h=Xi;for(Je=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}Xi=null,pd=!1}catch(v){throw Xi!==null&&(Xi=Xi.slice(a+1)),Bs(Da,Uo),v}finally{Je=u,Cy=!1}}return null}var cu=[],fu=0,md=null,gd=0,Or=[],Rr=0,Wa=null,Ji=1,Zi="";function Ha(a,u){cu[fu++]=gd,cu[fu++]=md,md=a,gd=u}function Kx(a,u,h){Or[Rr++]=Ji,Or[Rr++]=Zi,Or[Rr++]=Wa,Wa=a;var g=Ji;a=Zi;var v=32-Vn(g)-1;g&=~(1<<v),h+=1;var E=32-Vn(u)+v;if(30<E){var N=v-v%5;E=(g&(1<<N)-1).toString(32),g>>=N,v-=N,Ji=1<<32-Vn(u)+v|h<<v|g,Zi=E+a}else Ji=1<<E|h<<v|g,Zi=a}function Oy(a){a.return!==null&&(Ha(a,1),Kx(a,1,0))}function Ry(a){for(;a===md;)md=cu[--fu],cu[fu]=null,gd=cu[--fu],cu[fu]=null;for(;a===Wa;)Wa=Or[--Rr],Or[Rr]=null,Zi=Or[--Rr],Or[Rr]=null,Ji=Or[--Rr],Or[Rr]=null}var pr=null,mr=null,Rt=!1,ei=null;function Qx(a,u){var h=Dr(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=a,u=a.deletions,u===null?(a.deletions=[h],a.flags|=16):u.push(h)}function Yx(a,u){switch(a.tag){case 5:var h=a.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,pr=a,mr=Fo(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,pr=a,mr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=Wa!==null?{id:Ji,overflow:Zi}:null,a.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=Dr(18,null,null,0),h.stateNode=u,h.return=a,a.child=h,pr=a,mr=null,!0):!1;default:return!1}}function ky(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ny(a){if(Rt){var u=mr;if(u){var h=u;if(!Yx(a,u)){if(ky(a))throw Error(n(418));u=Fo(h.nextSibling);var g=pr;u&&Yx(a,u)?Qx(g,h):(a.flags=a.flags&-4097|2,Rt=!1,pr=a)}}else{if(ky(a))throw Error(n(418));a.flags=a.flags&-4097|2,Rt=!1,pr=a}}}function Xx(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;pr=a}function yd(a){if(a!==pr)return!1;if(!Rt)return Xx(a),Rt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Sy(a.type,a.memoizedProps)),u&&(u=mr)){if(ky(a))throw Jx(),Error(n(418));for(;u;)Qx(a,u),u=Fo(u.nextSibling)}if(Xx(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(u===0){mr=Fo(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}a=a.nextSibling}mr=null}}else mr=pr?Fo(a.stateNode.nextSibling):null;return!0}function Jx(){for(var a=mr;a;)a=Fo(a.nextSibling)}function hu(){mr=pr=null,Rt=!1}function My(a){ei===null?ei=[a]:ei.push(a)}var B4=L.ReactCurrentBatchConfig;function vc(a,u,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var v=g,E=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(N){var q=v.refs;N===null?delete q[E]:q[E]=N},u._stringRef=E,u)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function vd(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Zx(a){var u=a._init;return u(a._payload)}function eA(a){function u(K,z){if(a){var Y=K.deletions;Y===null?(K.deletions=[z],K.flags|=16):Y.push(z)}}function h(K,z){if(!a)return null;for(;z!==null;)u(K,z),z=z.sibling;return null}function g(K,z){for(K=new Map;z!==null;)z.key!==null?K.set(z.key,z):K.set(z.index,z),z=z.sibling;return K}function v(K,z){return K=Xo(K,z),K.index=0,K.sibling=null,K}function E(K,z,Y){return K.index=Y,a?(Y=K.alternate,Y!==null?(Y=Y.index,Y<z?(K.flags|=2,z):Y):(K.flags|=2,z)):(K.flags|=1048576,z)}function N(K){return a&&K.alternate===null&&(K.flags|=2),K}function q(K,z,Y,ge){return z===null||z.tag!==6?(z=xv(Y,K.mode,ge),z.return=K,z):(z=v(z,Y),z.return=K,z)}function U(K,z,Y,ge){var Ce=Y.type;return Ce===x?he(K,z,Y.props.children,ge,Y.key):z!==null&&(z.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===re&&Zx(Ce)===z.type)?(ge=v(z,Y.props),ge.ref=vc(K,z,Y),ge.return=K,ge):(ge=Bd(Y.type,Y.key,Y.props,null,K.mode,ge),ge.ref=vc(K,z,Y),ge.return=K,ge)}function Z(K,z,Y,ge){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Av(Y,K.mode,ge),z.return=K,z):(z=v(z,Y.children||[]),z.return=K,z)}function he(K,z,Y,ge,Ce){return z===null||z.tag!==7?(z=es(Y,K.mode,ge,Ce),z.return=K,z):(z=v(z,Y),z.return=K,z)}function me(K,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number")return z=xv(""+z,K.mode,Y),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return Y=Bd(z.type,z.key,z.props,null,K.mode,Y),Y.ref=vc(K,null,z),Y.return=K,Y;case R:return z=Av(z,K.mode,Y),z.return=K,z;case re:var ge=z._init;return me(K,ge(z._payload),Y)}if(Wn(z)||ne(z))return z=es(z,K.mode,Y,null),z.return=K,z;vd(K,z)}return null}function fe(K,z,Y,ge){var Ce=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ce!==null?null:q(K,z,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return Y.key===Ce?U(K,z,Y,ge):null;case R:return Y.key===Ce?Z(K,z,Y,ge):null;case re:return Ce=Y._init,fe(K,z,Ce(Y._payload),ge)}if(Wn(Y)||ne(Y))return Ce!==null?null:he(K,z,Y,ge,null);vd(K,Y)}return null}function be(K,z,Y,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return K=K.get(Y)||null,q(z,K,""+ge,Ce);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case I:return K=K.get(ge.key===null?Y:ge.key)||null,U(z,K,ge,Ce);case R:return K=K.get(ge.key===null?Y:ge.key)||null,Z(z,K,ge,Ce);case re:var ke=ge._init;return be(K,z,Y,ke(ge._payload),Ce)}if(Wn(ge)||ne(ge))return K=K.get(Y)||null,he(z,K,ge,Ce,null);vd(z,ge)}return null}function Ae(K,z,Y,ge){for(var Ce=null,ke=null,Ne=z,$e=z=0,fn=null;Ne!==null&&$e<Y.length;$e++){Ne.index>$e?(fn=Ne,Ne=null):fn=Ne.sibling;var ot=fe(K,Ne,Y[$e],ge);if(ot===null){Ne===null&&(Ne=fn);break}a&&Ne&&ot.alternate===null&&u(K,Ne),z=E(ot,z,$e),ke===null?Ce=ot:ke.sibling=ot,ke=ot,Ne=fn}if($e===Y.length)return h(K,Ne),Rt&&Ha(K,$e),Ce;if(Ne===null){for(;$e<Y.length;$e++)Ne=me(K,Y[$e],ge),Ne!==null&&(z=E(Ne,z,$e),ke===null?Ce=Ne:ke.sibling=Ne,ke=Ne);return Rt&&Ha(K,$e),Ce}for(Ne=g(K,Ne);$e<Y.length;$e++)fn=be(Ne,K,$e,Y[$e],ge),fn!==null&&(a&&fn.alternate!==null&&Ne.delete(fn.key===null?$e:fn.key),z=E(fn,z,$e),ke===null?Ce=fn:ke.sibling=fn,ke=fn);return a&&Ne.forEach(function(Jo){return u(K,Jo)}),Rt&&Ha(K,$e),Ce}function Pe(K,z,Y,ge){var Ce=ne(Y);if(typeof Ce!="function")throw Error(n(150));if(Y=Ce.call(Y),Y==null)throw Error(n(151));for(var ke=Ce=null,Ne=z,$e=z=0,fn=null,ot=Y.next();Ne!==null&&!ot.done;$e++,ot=Y.next()){Ne.index>$e?(fn=Ne,Ne=null):fn=Ne.sibling;var Jo=fe(K,Ne,ot.value,ge);if(Jo===null){Ne===null&&(Ne=fn);break}a&&Ne&&Jo.alternate===null&&u(K,Ne),z=E(Jo,z,$e),ke===null?Ce=Jo:ke.sibling=Jo,ke=Jo,Ne=fn}if(ot.done)return h(K,Ne),Rt&&Ha(K,$e),Ce;if(Ne===null){for(;!ot.done;$e++,ot=Y.next())ot=me(K,ot.value,ge),ot!==null&&(z=E(ot,z,$e),ke===null?Ce=ot:ke.sibling=ot,ke=ot);return Rt&&Ha(K,$e),Ce}for(Ne=g(K,Ne);!ot.done;$e++,ot=Y.next())ot=be(Ne,K,$e,ot.value,ge),ot!==null&&(a&&ot.alternate!==null&&Ne.delete(ot.key===null?$e:ot.key),z=E(ot,z,$e),ke===null?Ce=ot:ke.sibling=ot,ke=ot);return a&&Ne.forEach(function(bq){return u(K,bq)}),Rt&&Ha(K,$e),Ce}function Ft(K,z,Y,ge){if(typeof Y=="object"&&Y!==null&&Y.type===x&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:e:{for(var Ce=Y.key,ke=z;ke!==null;){if(ke.key===Ce){if(Ce=Y.type,Ce===x){if(ke.tag===7){h(K,ke.sibling),z=v(ke,Y.props.children),z.return=K,K=z;break e}}else if(ke.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===re&&Zx(Ce)===ke.type){h(K,ke.sibling),z=v(ke,Y.props),z.ref=vc(K,ke,Y),z.return=K,K=z;break e}h(K,ke);break}else u(K,ke);ke=ke.sibling}Y.type===x?(z=es(Y.props.children,K.mode,ge,Y.key),z.return=K,K=z):(ge=Bd(Y.type,Y.key,Y.props,null,K.mode,ge),ge.ref=vc(K,z,Y),ge.return=K,K=ge)}return N(K);case R:e:{for(ke=Y.key;z!==null;){if(z.key===ke)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){h(K,z.sibling),z=v(z,Y.children||[]),z.return=K,K=z;break e}else{h(K,z);break}else u(K,z);z=z.sibling}z=Av(Y,K.mode,ge),z.return=K,K=z}return N(K);case re:return ke=Y._init,Ft(K,z,ke(Y._payload),ge)}if(Wn(Y))return Ae(K,z,Y,ge);if(ne(Y))return Pe(K,z,Y,ge);vd(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,z!==null&&z.tag===6?(h(K,z.sibling),z=v(z,Y),z.return=K,K=z):(h(K,z),z=xv(Y,K.mode,ge),z.return=K,K=z),N(K)):h(K,z)}return Ft}var du=eA(!0),tA=eA(!1),_d=qo(null),wd=null,pu=null,Dy=null;function jy(){Dy=pu=wd=null}function Ly(a){var u=_d.current;Pt(_d),a._currentValue=u}function $y(a,u,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===h)break;a=a.return}}function mu(a,u){wd=a,Dy=pu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(Yn=!0),a.firstContext=null)}function kr(a){var u=a._currentValue;if(Dy!==a)if(a={context:a,memoizedValue:u,next:null},pu===null){if(wd===null)throw Error(n(308));pu=a,wd.dependencies={lanes:0,firstContext:a}}else pu=pu.next=a;return u}var Ga=null;function Vy(a){Ga===null?Ga=[a]:Ga.push(a)}function nA(a,u,h,g){var v=u.interleaved;return v===null?(h.next=h,Vy(u)):(h.next=v.next,v.next=h),u.interleaved=h,eo(a,g)}function eo(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,h=a.alternate,h!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}var zo=!1;function Fy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rA(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function to(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Wo(a,u,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,it&2){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,eo(a,h)}return v=g.interleaved,v===null?(u.next=u,Vy(g)):(u.next=v.next,v.next=u),g.interleaved=u,eo(a,h)}function bd(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,Mo(a,h)}}function iA(a,u){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var v=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var N={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?v=E=N:E=E.next=N,h=h.next}while(h!==null);E===null?v=E=u:E=E.next=u}else v=E=u;h={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function Ed(a,u,h,g){var v=a.updateQueue;zo=!1;var E=v.firstBaseUpdate,N=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var U=q,Z=U.next;U.next=null,N===null?E=Z:N.next=Z,N=U;var he=a.alternate;he!==null&&(he=he.updateQueue,q=he.lastBaseUpdate,q!==N&&(q===null?he.firstBaseUpdate=Z:q.next=Z,he.lastBaseUpdate=U))}if(E!==null){var me=v.baseState;N=0,he=Z=U=null,q=E;do{var fe=q.lane,be=q.eventTime;if((g&fe)===fe){he!==null&&(he=he.next={eventTime:be,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ae=a,Pe=q;switch(fe=u,be=h,Pe.tag){case 1:if(Ae=Pe.payload,typeof Ae=="function"){me=Ae.call(be,me,fe);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Pe.payload,fe=typeof Ae=="function"?Ae.call(be,me,fe):Ae,fe==null)break e;me=ae({},me,fe);break e;case 2:zo=!0}}q.callback!==null&&q.lane!==0&&(a.flags|=64,fe=v.effects,fe===null?v.effects=[q]:fe.push(q))}else be={eventTime:be,lane:fe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},he===null?(Z=he=be,U=me):he=he.next=be,N|=fe;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;fe=q,q=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);if(he===null&&(U=me),v.baseState=U,v.firstBaseUpdate=Z,v.lastBaseUpdate=he,u=v.shared.interleaved,u!==null){v=u;do N|=v.lane,v=v.next;while(v!==u)}else E===null&&(v.shared.lanes=0);Ya|=N,a.lanes=N,a.memoizedState=me}}function oA(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],v=g.callback;if(v!==null){if(g.callback=null,g=h,typeof v!="function")throw Error(n(191,v));v.call(g)}}}var _c={},Pi=qo(_c),wc=qo(_c),bc=qo(_c);function Ka(a){if(a===_c)throw Error(n(174));return a}function qy(a,u){switch(bt(bc,u),bt(wc,a),bt(Pi,_c),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Xt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Xt(u,a)}Pt(Pi),bt(Pi,u)}function gu(){Pt(Pi),Pt(wc),Pt(bc)}function aA(a){Ka(bc.current);var u=Ka(Pi.current),h=Xt(u,a.type);u!==h&&(bt(wc,a),bt(Pi,h))}function By(a){wc.current===a&&(Pt(Pi),Pt(wc))}var Nt=qo(0);function Td(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Uy=[];function zy(){for(var a=0;a<Uy.length;a++)Uy[a]._workInProgressVersionPrimary=null;Uy.length=0}var Sd=L.ReactCurrentDispatcher,Wy=L.ReactCurrentBatchConfig,Qa=0,Mt=null,Zt=null,ln=null,xd=!1,Ec=!1,Tc=0,U4=0;function In(){throw Error(n(321))}function Hy(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!Zr(a[h],u[h]))return!1;return!0}function Gy(a,u,h,g,v,E){if(Qa=E,Mt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Sd.current=a===null||a.memoizedState===null?G4:K4,a=h(g,v),Ec){E=0;do{if(Ec=!1,Tc=0,25<=E)throw Error(n(301));E+=1,ln=Zt=null,u.updateQueue=null,Sd.current=Q4,a=h(g,v)}while(Ec)}if(Sd.current=Id,u=Zt!==null&&Zt.next!==null,Qa=0,ln=Zt=Mt=null,xd=!1,u)throw Error(n(300));return a}function Ky(){var a=Tc!==0;return Tc=0,a}function Ii(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Mt.memoizedState=ln=a:ln=ln.next=a,ln}function Nr(){if(Zt===null){var a=Mt.alternate;a=a!==null?a.memoizedState:null}else a=Zt.next;var u=ln===null?Mt.memoizedState:ln.next;if(u!==null)ln=u,Zt=a;else{if(a===null)throw Error(n(310));Zt=a,a={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ln===null?Mt.memoizedState=ln=a:ln=ln.next=a}return ln}function Sc(a,u){return typeof u=="function"?u(a):u}function Qy(a){var u=Nr(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=Zt,v=g.baseQueue,E=h.pending;if(E!==null){if(v!==null){var N=v.next;v.next=E.next,E.next=N}g.baseQueue=v=E,h.pending=null}if(v!==null){E=v.next,g=g.baseState;var q=N=null,U=null,Z=E;do{var he=Z.lane;if((Qa&he)===he)U!==null&&(U=U.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),g=Z.hasEagerState?Z.eagerState:a(g,Z.action);else{var me={lane:he,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};U===null?(q=U=me,N=g):U=U.next=me,Mt.lanes|=he,Ya|=he}Z=Z.next}while(Z!==null&&Z!==E);U===null?N=g:U.next=q,Zr(g,u.memoizedState)||(Yn=!0),u.memoizedState=g,u.baseState=N,u.baseQueue=U,h.lastRenderedState=g}if(a=h.interleaved,a!==null){v=a;do E=v.lane,Mt.lanes|=E,Ya|=E,v=v.next;while(v!==a)}else v===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function Yy(a){var u=Nr(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,v=h.pending,E=u.memoizedState;if(v!==null){h.pending=null;var N=v=v.next;do E=a(E,N.action),N=N.next;while(N!==v);Zr(E,u.memoizedState)||(Yn=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),h.lastRenderedState=E}return[E,g]}function sA(){}function uA(a,u){var h=Mt,g=Nr(),v=u(),E=!Zr(g.memoizedState,v);if(E&&(g.memoizedState=v,Yn=!0),g=g.queue,Xy(fA.bind(null,h,g,a),[a]),g.getSnapshot!==u||E||ln!==null&&ln.memoizedState.tag&1){if(h.flags|=2048,xc(9,cA.bind(null,h,g,v,u),void 0,null),cn===null)throw Error(n(349));Qa&30||lA(h,u,v)}return v}function lA(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=Mt.updateQueue,u===null?(u={lastEffect:null,stores:null},Mt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function cA(a,u,h,g){u.value=h,u.getSnapshot=g,hA(u)&&dA(a)}function fA(a,u,h){return h(function(){hA(u)&&dA(a)})}function hA(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!Zr(a,h)}catch{return!0}}function dA(a){var u=eo(a,1);u!==null&&ii(u,a,1,-1)}function pA(a){var u=Ii();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:a},u.queue=a,a=a.dispatch=H4.bind(null,Mt,a),[u.memoizedState,a]}function xc(a,u,h,g){return a={tag:a,create:u,destroy:h,deps:g,next:null},u=Mt.updateQueue,u===null?(u={lastEffect:null,stores:null},Mt.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect,h===null?u.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,u.lastEffect=a)),a}function mA(){return Nr().memoizedState}function Ad(a,u,h,g){var v=Ii();Mt.flags|=a,v.memoizedState=xc(1|u,h,void 0,g===void 0?null:g)}function Pd(a,u,h,g){var v=Nr();g=g===void 0?null:g;var E=void 0;if(Zt!==null){var N=Zt.memoizedState;if(E=N.destroy,g!==null&&Hy(g,N.deps)){v.memoizedState=xc(u,h,E,g);return}}Mt.flags|=a,v.memoizedState=xc(1|u,h,E,g)}function gA(a,u){return Ad(8390656,8,a,u)}function Xy(a,u){return Pd(2048,8,a,u)}function yA(a,u){return Pd(4,2,a,u)}function vA(a,u){return Pd(4,4,a,u)}function _A(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function wA(a,u,h){return h=h!=null?h.concat([a]):null,Pd(4,4,_A.bind(null,u,a),h)}function Jy(){}function bA(a,u){var h=Nr();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&Hy(u,g[1])?g[0]:(h.memoizedState=[a,u],a)}function EA(a,u){var h=Nr();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&Hy(u,g[1])?g[0]:(a=a(),h.memoizedState=[a,u],a)}function TA(a,u,h){return Qa&21?(Zr(h,u)||(h=$a(),Mt.lanes|=h,Ya|=h,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Yn=!0),a.memoizedState=h)}function z4(a,u){var h=Je;Je=h!==0&&4>h?h:4,a(!0);var g=Wy.transition;Wy.transition={};try{a(!1),u()}finally{Je=h,Wy.transition=g}}function SA(){return Nr().memoizedState}function W4(a,u,h){var g=Qo(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},xA(a))AA(u,h);else if(h=nA(a,u,h,g),h!==null){var v=Bn();ii(h,a,g,v),PA(h,u,g)}}function H4(a,u,h){var g=Qo(a),v={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(xA(a))AA(u,v);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var N=u.lastRenderedState,q=E(N,h);if(v.hasEagerState=!0,v.eagerState=q,Zr(q,N)){var U=u.interleaved;U===null?(v.next=v,Vy(u)):(v.next=U.next,U.next=v),u.interleaved=v;return}}catch{}finally{}h=nA(a,u,v,g),h!==null&&(v=Bn(),ii(h,a,g,v),PA(h,u,g))}}function xA(a){var u=a.alternate;return a===Mt||u!==null&&u===Mt}function AA(a,u){Ec=xd=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function PA(a,u,h){if(h&4194240){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,Mo(a,h)}}var Id={readContext:kr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},G4={readContext:kr,useCallback:function(a,u){return Ii().memoizedState=[a,u===void 0?null:u],a},useContext:kr,useEffect:gA,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,Ad(4194308,4,_A.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Ad(4194308,4,a,u)},useInsertionEffect:function(a,u){return Ad(4,2,a,u)},useMemo:function(a,u){var h=Ii();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var g=Ii();return u=h!==void 0?h(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=W4.bind(null,Mt,a),[g.memoizedState,a]},useRef:function(a){var u=Ii();return a={current:a},u.memoizedState=a},useState:pA,useDebugValue:Jy,useDeferredValue:function(a){return Ii().memoizedState=a},useTransition:function(){var a=pA(!1),u=a[0];return a=z4.bind(null,a[1]),Ii().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,h){var g=Mt,v=Ii();if(Rt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),cn===null)throw Error(n(349));Qa&30||lA(g,u,h)}v.memoizedState=h;var E={value:h,getSnapshot:u};return v.queue=E,gA(fA.bind(null,g,E,a),[a]),g.flags|=2048,xc(9,cA.bind(null,g,E,h,u),void 0,null),h},useId:function(){var a=Ii(),u=cn.identifierPrefix;if(Rt){var h=Zi,g=Ji;h=(g&~(1<<32-Vn(g)-1)).toString(32)+h,u=":"+u+"R"+h,h=Tc++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=U4++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},K4={readContext:kr,useCallback:bA,useContext:kr,useEffect:Xy,useImperativeHandle:wA,useInsertionEffect:yA,useLayoutEffect:vA,useMemo:EA,useReducer:Qy,useRef:mA,useState:function(){return Qy(Sc)},useDebugValue:Jy,useDeferredValue:function(a){var u=Nr();return TA(u,Zt.memoizedState,a)},useTransition:function(){var a=Qy(Sc)[0],u=Nr().memoizedState;return[a,u]},useMutableSource:sA,useSyncExternalStore:uA,useId:SA,unstable_isNewReconciler:!1},Q4={readContext:kr,useCallback:bA,useContext:kr,useEffect:Xy,useImperativeHandle:wA,useInsertionEffect:yA,useLayoutEffect:vA,useMemo:EA,useReducer:Yy,useRef:mA,useState:function(){return Yy(Sc)},useDebugValue:Jy,useDeferredValue:function(a){var u=Nr();return Zt===null?u.memoizedState=a:TA(u,Zt.memoizedState,a)},useTransition:function(){var a=Yy(Sc)[0],u=Nr().memoizedState;return[a,u]},useMutableSource:sA,useSyncExternalStore:uA,useId:SA,unstable_isNewReconciler:!1};function ti(a,u){if(a&&a.defaultProps){u=ae({},u),a=a.defaultProps;for(var h in a)u[h]===void 0&&(u[h]=a[h]);return u}return u}function Zy(a,u,h,g){u=a.memoizedState,h=h(g,u),h=h==null?u:ae({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Cd={isMounted:function(a){return(a=a._reactInternals)?Hr(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var g=Bn(),v=Qo(a),E=to(g,v);E.payload=u,h!=null&&(E.callback=h),u=Wo(a,E,v),u!==null&&(ii(u,a,v,g),bd(u,a,v))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var g=Bn(),v=Qo(a),E=to(g,v);E.tag=1,E.payload=u,h!=null&&(E.callback=h),u=Wo(a,E,v),u!==null&&(ii(u,a,v,g),bd(u,a,v))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=Bn(),g=Qo(a),v=to(h,g);v.tag=2,u!=null&&(v.callback=u),u=Wo(a,v,g),u!==null&&(ii(u,a,g,h),bd(u,a,g))}};function IA(a,u,h,g,v,E,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,E,N):u.prototype&&u.prototype.isPureReactComponent?!fc(h,g)||!fc(v,E):!0}function CA(a,u,h){var g=!1,v=Bo,E=u.contextType;return typeof E=="object"&&E!==null?E=kr(E):(v=Qn(u)?za:Pn.current,g=u.contextTypes,E=(g=g!=null)?lu(a,v):Bo),u=new u(h,E),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Cd,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=E),u}function OA(a,u,h,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==a&&Cd.enqueueReplaceState(u,u.state,null)}function ev(a,u,h,g){var v=a.stateNode;v.props=h,v.state=a.memoizedState,v.refs={},Fy(a);var E=u.contextType;typeof E=="object"&&E!==null?v.context=kr(E):(E=Qn(u)?za:Pn.current,v.context=lu(a,E)),v.state=a.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Zy(a,u,E,h),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(u=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),u!==v.state&&Cd.enqueueReplaceState(v,v.state,null),Ed(a,h,v,g),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function yu(a,u){try{var h="",g=u;do h+=Oe(g),g=g.return;while(g);var v=h}catch(E){v=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:u,stack:v,digest:null}}function tv(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function nv(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var Y4=typeof WeakMap=="function"?WeakMap:Map;function RA(a,u,h){h=to(-1,h),h.tag=3,h.payload={element:null};var g=u.value;return h.callback=function(){jd||(jd=!0,yv=g),nv(a,u)},h}function kA(a,u,h){h=to(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;h.payload=function(){return g(v)},h.callback=function(){nv(a,u)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){nv(a,u),typeof g!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})}),h}function NA(a,u,h){var g=a.pingCache;if(g===null){g=a.pingCache=new Y4;var v=new Set;g.set(u,v)}else v=g.get(u),v===void 0&&(v=new Set,g.set(u,v));v.has(h)||(v.add(h),a=cq.bind(null,a,u,h),u.then(a,a))}function MA(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function DA(a,u,h,g,v){return a.mode&1?(a.flags|=65536,a.lanes=v,a):(a===u?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=to(-1,1),u.tag=2,Wo(h,u,1))),h.lanes|=1),a)}var X4=L.ReactCurrentOwner,Yn=!1;function qn(a,u,h,g){u.child=a===null?tA(u,null,h,g):du(u,a.child,h,g)}function jA(a,u,h,g,v){h=h.render;var E=u.ref;return mu(u,v),g=Gy(a,u,h,g,E,v),h=Ky(),a!==null&&!Yn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,no(a,u,v)):(Rt&&h&&Oy(u),u.flags|=1,qn(a,u,g,v),u.child)}function LA(a,u,h,g,v){if(a===null){var E=h.type;return typeof E=="function"&&!Sv(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=E,$A(a,u,E,g,v)):(a=Bd(h.type,null,g,u,u.mode,v),a.ref=u.ref,a.return=u,u.child=a)}if(E=a.child,!(a.lanes&v)){var N=E.memoizedProps;if(h=h.compare,h=h!==null?h:fc,h(N,g)&&a.ref===u.ref)return no(a,u,v)}return u.flags|=1,a=Xo(E,g),a.ref=u.ref,a.return=u,u.child=a}function $A(a,u,h,g,v){if(a!==null){var E=a.memoizedProps;if(fc(E,g)&&a.ref===u.ref)if(Yn=!1,u.pendingProps=g=E,(a.lanes&v)!==0)a.flags&131072&&(Yn=!0);else return u.lanes=a.lanes,no(a,u,v)}return rv(a,u,h,g,v)}function VA(a,u,h){var g=u.pendingProps,v=g.children,E=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(_u,gr),gr|=h;else{if(!(h&1073741824))return a=E!==null?E.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,bt(_u,gr),gr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:h,bt(_u,gr),gr|=g}else E!==null?(g=E.baseLanes|h,u.memoizedState=null):g=h,bt(_u,gr),gr|=g;return qn(a,u,v,h),u.child}function FA(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function rv(a,u,h,g,v){var E=Qn(h)?za:Pn.current;return E=lu(u,E),mu(u,v),h=Gy(a,u,h,g,E,v),g=Ky(),a!==null&&!Yn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,no(a,u,v)):(Rt&&g&&Oy(u),u.flags|=1,qn(a,u,h,v),u.child)}function qA(a,u,h,g,v){if(Qn(h)){var E=!0;dd(u)}else E=!1;if(mu(u,v),u.stateNode===null)Rd(a,u),CA(u,h,g),ev(u,h,g,v),g=!0;else if(a===null){var N=u.stateNode,q=u.memoizedProps;N.props=q;var U=N.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=kr(Z):(Z=Qn(h)?za:Pn.current,Z=lu(u,Z));var he=h.getDerivedStateFromProps,me=typeof he=="function"||typeof N.getSnapshotBeforeUpdate=="function";me||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q!==g||U!==Z)&&OA(u,N,g,Z),zo=!1;var fe=u.memoizedState;N.state=fe,Ed(u,g,N,v),U=u.memoizedState,q!==g||fe!==U||Kn.current||zo?(typeof he=="function"&&(Zy(u,h,he,g),U=u.memoizedState),(q=zo||IA(u,h,q,g,fe,U,Z))?(me||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=U),N.props=g,N.state=U,N.context=Z,g=q):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{N=u.stateNode,rA(a,u),q=u.memoizedProps,Z=u.type===u.elementType?q:ti(u.type,q),N.props=Z,me=u.pendingProps,fe=N.context,U=h.contextType,typeof U=="object"&&U!==null?U=kr(U):(U=Qn(h)?za:Pn.current,U=lu(u,U));var be=h.getDerivedStateFromProps;(he=typeof be=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q!==me||fe!==U)&&OA(u,N,g,U),zo=!1,fe=u.memoizedState,N.state=fe,Ed(u,g,N,v);var Ae=u.memoizedState;q!==me||fe!==Ae||Kn.current||zo?(typeof be=="function"&&(Zy(u,h,be,g),Ae=u.memoizedState),(Z=zo||IA(u,h,Z,g,fe,Ae,U)||!1)?(he||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,Ae,U),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,Ae,U)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||q===a.memoizedProps&&fe===a.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||q===a.memoizedProps&&fe===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Ae),N.props=g,N.state=Ae,N.context=U,g=Z):(typeof N.componentDidUpdate!="function"||q===a.memoizedProps&&fe===a.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||q===a.memoizedProps&&fe===a.memoizedState||(u.flags|=1024),g=!1)}return iv(a,u,h,g,E,v)}function iv(a,u,h,g,v,E){FA(a,u);var N=(u.flags&128)!==0;if(!g&&!N)return v&&Hx(u,h,!1),no(a,u,E);g=u.stateNode,X4.current=u;var q=N&&typeof h.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&N?(u.child=du(u,a.child,null,E),u.child=du(u,null,q,E)):qn(a,u,q,E),u.memoizedState=g.state,v&&Hx(u,h,!0),u.child}function BA(a){var u=a.stateNode;u.pendingContext?zx(a,u.pendingContext,u.pendingContext!==u.context):u.context&&zx(a,u.context,!1),qy(a,u.containerInfo)}function UA(a,u,h,g,v){return hu(),My(v),u.flags|=256,qn(a,u,h,g),u.child}var ov={dehydrated:null,treeContext:null,retryLane:0};function av(a){return{baseLanes:a,cachePool:null,transitions:null}}function zA(a,u,h){var g=u.pendingProps,v=Nt.current,E=!1,N=(u.flags&128)!==0,q;if((q=N)||(q=a!==null&&a.memoizedState===null?!1:(v&2)!==0),q?(E=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(v|=1),bt(Nt,v&1),a===null)return Ny(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(N=g.children,a=g.fallback,E?(g=u.mode,E=u.child,N={mode:"hidden",children:N},!(g&1)&&E!==null?(E.childLanes=0,E.pendingProps=N):E=Ud(N,g,0,null),a=es(a,g,h,null),E.return=u,a.return=u,E.sibling=a,u.child=E,u.child.memoizedState=av(h),u.memoizedState=ov,a):sv(u,N));if(v=a.memoizedState,v!==null&&(q=v.dehydrated,q!==null))return J4(a,u,N,g,q,v,h);if(E){E=g.fallback,N=u.mode,v=a.child,q=v.sibling;var U={mode:"hidden",children:g.children};return!(N&1)&&u.child!==v?(g=u.child,g.childLanes=0,g.pendingProps=U,u.deletions=null):(g=Xo(v,U),g.subtreeFlags=v.subtreeFlags&14680064),q!==null?E=Xo(q,E):(E=es(E,N,h,null),E.flags|=2),E.return=u,g.return=u,g.sibling=E,u.child=g,g=E,E=u.child,N=a.child.memoizedState,N=N===null?av(h):{baseLanes:N.baseLanes|h,cachePool:null,transitions:N.transitions},E.memoizedState=N,E.childLanes=a.childLanes&~h,u.memoizedState=ov,g}return E=a.child,a=E.sibling,g=Xo(E,{mode:"visible",children:g.children}),!(u.mode&1)&&(g.lanes=h),g.return=u,g.sibling=null,a!==null&&(h=u.deletions,h===null?(u.deletions=[a],u.flags|=16):h.push(a)),u.child=g,u.memoizedState=null,g}function sv(a,u){return u=Ud({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Od(a,u,h,g){return g!==null&&My(g),du(u,a.child,null,h),a=sv(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function J4(a,u,h,g,v,E,N){if(h)return u.flags&256?(u.flags&=-257,g=tv(Error(n(422))),Od(a,u,N,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(E=g.fallback,v=u.mode,g=Ud({mode:"visible",children:g.children},v,0,null),E=es(E,v,N,null),E.flags|=2,g.return=u,E.return=u,g.sibling=E,u.child=g,u.mode&1&&du(u,a.child,null,N),u.child.memoizedState=av(N),u.memoizedState=ov,E);if(!(u.mode&1))return Od(a,u,N,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var q=g.dgst;return g=q,E=Error(n(419)),g=tv(E,g,void 0),Od(a,u,N,g)}if(q=(N&a.childLanes)!==0,Yn||q){if(g=cn,g!==null){switch(N&-N){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(g.suspendedLanes|N)?0:v,v!==0&&v!==E.retryLane&&(E.retryLane=v,eo(a,v),ii(g,a,v,-1))}return Tv(),g=tv(Error(n(421))),Od(a,u,N,g)}return v.data==="$?"?(u.flags|=128,u.child=a.child,u=fq.bind(null,a),v._reactRetry=u,null):(a=E.treeContext,mr=Fo(v.nextSibling),pr=u,Rt=!0,ei=null,a!==null&&(Or[Rr++]=Ji,Or[Rr++]=Zi,Or[Rr++]=Wa,Ji=a.id,Zi=a.overflow,Wa=u),u=sv(u,g.children),u.flags|=4096,u)}function WA(a,u,h){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),$y(a.return,u,h)}function uv(a,u,h,g,v){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:v}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=h,E.tailMode=v)}function HA(a,u,h){var g=u.pendingProps,v=g.revealOrder,E=g.tail;if(qn(a,u,g.children,h),g=Nt.current,g&2)g=g&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&WA(a,h,u);else if(a.tag===19)WA(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(bt(Nt,g),!(u.mode&1))u.memoizedState=null;else switch(v){case"forwards":for(h=u.child,v=null;h!==null;)a=h.alternate,a!==null&&Td(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=u.child,u.child=null):(v=h.sibling,h.sibling=null),uv(u,!1,v,h,E);break;case"backwards":for(h=null,v=u.child,u.child=null;v!==null;){if(a=v.alternate,a!==null&&Td(a)===null){u.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}uv(u,!0,h,null,E);break;case"together":uv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Rd(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function no(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Ya|=u.lanes,!(h&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,h=Xo(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Xo(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function Z4(a,u,h){switch(u.tag){case 3:BA(u),hu();break;case 5:aA(u);break;case 1:Qn(u.type)&&dd(u);break;case 4:qy(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,v=u.memoizedProps.value;bt(_d,g._currentValue),g._currentValue=v;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(bt(Nt,Nt.current&1),u.flags|=128,null):h&u.child.childLanes?zA(a,u,h):(bt(Nt,Nt.current&1),a=no(a,u,h),a!==null?a.sibling:null);bt(Nt,Nt.current&1);break;case 19:if(g=(h&u.childLanes)!==0,a.flags&128){if(g)return HA(a,u,h);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),bt(Nt,Nt.current),g)break;return null;case 22:case 23:return u.lanes=0,VA(a,u,h)}return no(a,u,h)}var GA,lv,KA,QA;GA=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},lv=function(){},KA=function(a,u,h,g){var v=a.memoizedProps;if(v!==g){a=u.stateNode,Ka(Pi.current);var E=null;switch(h){case"input":v=Ue(a,v),g=Ue(a,g),E=[];break;case"select":v=ae({},v,{value:void 0}),g=ae({},g,{value:void 0}),E=[];break;case"textarea":v=lr(a,v),g=lr(a,g),E=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=cd)}Hl(h,g);var N;h=null;for(Z in v)if(!g.hasOwnProperty(Z)&&v.hasOwnProperty(Z)&&v[Z]!=null)if(Z==="style"){var q=v[Z];for(N in q)q.hasOwnProperty(N)&&(h||(h={}),h[N]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?E||(E=[]):(E=E||[]).push(Z,null));for(Z in g){var U=g[Z];if(q=v!=null?v[Z]:void 0,g.hasOwnProperty(Z)&&U!==q&&(U!=null||q!=null))if(Z==="style")if(q){for(N in q)!q.hasOwnProperty(N)||U&&U.hasOwnProperty(N)||(h||(h={}),h[N]="");for(N in U)U.hasOwnProperty(N)&&q[N]!==U[N]&&(h||(h={}),h[N]=U[N])}else h||(E||(E=[]),E.push(Z,h)),h=U;else Z==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,q=q?q.__html:void 0,U!=null&&q!==U&&(E=E||[]).push(Z,U)):Z==="children"?typeof U!="string"&&typeof U!="number"||(E=E||[]).push(Z,""+U):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(U!=null&&Z==="onScroll"&&At("scroll",a),E||q===U||(E=[])):(E=E||[]).push(Z,U))}h&&(E=E||[]).push("style",h);var Z=E;(u.updateQueue=Z)&&(u.flags|=4)}},QA=function(a,u,h,g){h!==g&&(u.flags|=4)};function Ac(a,u){if(!Rt)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Cn(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(u)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=h,u}function eq(a,u,h){var g=u.pendingProps;switch(Ry(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(u),null;case 1:return Qn(u.type)&&hd(),Cn(u),null;case 3:return g=u.stateNode,gu(),Pt(Kn),Pt(Pn),zy(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(yd(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,ei!==null&&(wv(ei),ei=null))),lv(a,u),Cn(u),null;case 5:By(u);var v=Ka(bc.current);if(h=u.type,a!==null&&u.stateNode!=null)KA(a,u,h,g,v),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Cn(u),null}if(a=Ka(Pi.current),yd(u)){g=u.stateNode,h=u.type;var E=u.memoizedProps;switch(g[Ai]=u,g[gc]=E,a=(u.mode&1)!==0,h){case"dialog":At("cancel",g),At("close",g);break;case"iframe":case"object":case"embed":At("load",g);break;case"video":case"audio":for(v=0;v<dc.length;v++)At(dc[v],g);break;case"source":At("error",g);break;case"img":case"image":case"link":At("error",g),At("load",g);break;case"details":At("toggle",g);break;case"input":_t(g,E),At("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},At("invalid",g);break;case"textarea":vi(g,E),At("invalid",g)}Hl(h,E),v=null;for(var N in E)if(E.hasOwnProperty(N)){var q=E[N];N==="children"?typeof q=="string"?g.textContent!==q&&(E.suppressHydrationWarning!==!0&&ld(g.textContent,q,a),v=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(E.suppressHydrationWarning!==!0&&ld(g.textContent,q,a),v=["children",""+q]):i.hasOwnProperty(N)&&q!=null&&N==="onScroll"&&At("scroll",g)}switch(h){case"input":De(g),sr(g,E,!0);break;case"textarea":De(g),Io(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=cd)}g=v,u.updateQueue=g,g!==null&&(u.flags|=4)}else{N=v.nodeType===9?v:v.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Yt(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=N.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=N.createElement(h,{is:g.is}):(a=N.createElement(h),h==="select"&&(N=a,g.multiple?N.multiple=!0:g.size&&(N.size=g.size))):a=N.createElementNS(a,h),a[Ai]=u,a[gc]=g,GA(a,u,!1,!1),u.stateNode=a;e:{switch(N=Gl(h,g),h){case"dialog":At("cancel",a),At("close",a),v=g;break;case"iframe":case"object":case"embed":At("load",a),v=g;break;case"video":case"audio":for(v=0;v<dc.length;v++)At(dc[v],a);v=g;break;case"source":At("error",a),v=g;break;case"img":case"image":case"link":At("error",a),At("load",a),v=g;break;case"details":At("toggle",a),v=g;break;case"input":_t(a,g),v=Ue(a,g),At("invalid",a);break;case"option":v=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},v=ae({},g,{value:void 0}),At("invalid",a);break;case"textarea":vi(a,g),v=lr(a,g),At("invalid",a);break;default:v=g}Hl(h,v),q=v;for(E in q)if(q.hasOwnProperty(E)){var U=q[E];E==="style"?zl(a,U):E==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Bl(a,U)):E==="children"?typeof U=="string"?(h!=="textarea"||U!=="")&&Co(a,U):typeof U=="number"&&Co(a,""+U):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?U!=null&&E==="onScroll"&&At("scroll",a):U!=null&&k(a,E,U,N))}switch(h){case"input":De(a),sr(a,g,!1);break;case"textarea":De(a),Io(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Fe(g.value));break;case"select":a.multiple=!!g.multiple,E=g.value,E!=null?yn(a,!!g.multiple,E,!1):g.defaultValue!=null&&yn(a,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(a.onclick=cd)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Cn(u),null;case 6:if(a&&u.stateNode!=null)QA(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(h=Ka(bc.current),Ka(Pi.current),yd(u)){if(g=u.stateNode,h=u.memoizedProps,g[Ai]=u,(E=g.nodeValue!==h)&&(a=pr,a!==null))switch(a.tag){case 3:ld(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&ld(g.nodeValue,h,(a.mode&1)!==0)}E&&(u.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Ai]=u,u.stateNode=g}return Cn(u),null;case 13:if(Pt(Nt),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Rt&&mr!==null&&u.mode&1&&!(u.flags&128))Jx(),hu(),u.flags|=98560,E=!1;else if(E=yd(u),g!==null&&g.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Ai]=u}else hu(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Cn(u),E=!1}else ei!==null&&(wv(ei),ei=null),E=!0;if(!E)return u.flags&65536?u:null}return u.flags&128?(u.lanes=h,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,u.mode&1&&(a===null||Nt.current&1?en===0&&(en=3):Tv())),u.updateQueue!==null&&(u.flags|=4),Cn(u),null);case 4:return gu(),lv(a,u),a===null&&pc(u.stateNode.containerInfo),Cn(u),null;case 10:return Ly(u.type._context),Cn(u),null;case 17:return Qn(u.type)&&hd(),Cn(u),null;case 19:if(Pt(Nt),E=u.memoizedState,E===null)return Cn(u),null;if(g=(u.flags&128)!==0,N=E.rendering,N===null)if(g)Ac(E,!1);else{if(en!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(N=Td(a),N!==null){for(u.flags|=128,Ac(E,!1),g=N.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=h,h=u.child;h!==null;)E=h,a=g,E.flags&=14680066,N=E.alternate,N===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=N.childLanes,E.lanes=N.lanes,E.child=N.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=N.memoizedProps,E.memoizedState=N.memoizedState,E.updateQueue=N.updateQueue,E.type=N.type,a=N.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return bt(Nt,Nt.current&1|2),u.child}a=a.sibling}E.tail!==null&&wt()>wu&&(u.flags|=128,g=!0,Ac(E,!1),u.lanes=4194304)}else{if(!g)if(a=Td(N),a!==null){if(u.flags|=128,g=!0,h=a.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),Ac(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!Rt)return Cn(u),null}else 2*wt()-E.renderingStartTime>wu&&h!==1073741824&&(u.flags|=128,g=!0,Ac(E,!1),u.lanes=4194304);E.isBackwards?(N.sibling=u.child,u.child=N):(h=E.last,h!==null?h.sibling=N:u.child=N,E.last=N)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=wt(),u.sibling=null,h=Nt.current,bt(Nt,g?h&1|2:h&1),u):(Cn(u),null);case 22:case 23:return Ev(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&u.mode&1?gr&1073741824&&(Cn(u),u.subtreeFlags&6&&(u.flags|=8192)):Cn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function tq(a,u){switch(Ry(u),u.tag){case 1:return Qn(u.type)&&hd(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return gu(),Pt(Kn),Pt(Pn),zy(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return By(u),null;case 13:if(Pt(Nt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));hu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Pt(Nt),null;case 4:return gu(),null;case 10:return Ly(u.type._context),null;case 22:case 23:return Ev(),null;case 24:return null;default:return null}}var kd=!1,On=!1,nq=typeof WeakSet=="function"?WeakSet:Set,Te=null;function vu(a,u){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){jt(a,u,g)}else h.current=null}function cv(a,u,h){try{h()}catch(g){jt(a,u,g)}}var YA=!1;function rq(a,u){if(Ey=Lo,a=Ix(),py(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var v=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var N=0,q=-1,U=-1,Z=0,he=0,me=a,fe=null;t:for(;;){for(var be;me!==h||v!==0&&me.nodeType!==3||(q=N+v),me!==E||g!==0&&me.nodeType!==3||(U=N+g),me.nodeType===3&&(N+=me.nodeValue.length),(be=me.firstChild)!==null;)fe=me,me=be;for(;;){if(me===a)break t;if(fe===h&&++Z===v&&(q=N),fe===E&&++he===g&&(U=N),(be=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=be}h=q===-1||U===-1?null:{start:q,end:U}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ty={focusedElem:a,selectionRange:h},Lo=!1,Te=u;Te!==null;)if(u=Te,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Te=a;else for(;Te!==null;){u=Te;try{var Ae=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Pe=Ae.memoizedProps,Ft=Ae.memoizedState,K=u.stateNode,z=K.getSnapshotBeforeUpdate(u.elementType===u.type?Pe:ti(u.type,Pe),Ft);K.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Y=u.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ge){jt(u,u.return,ge)}if(a=u.sibling,a!==null){a.return=u.return,Te=a;break}Te=u.return}return Ae=YA,YA=!1,Ae}function Pc(a,u,h){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&a)===a){var E=v.destroy;v.destroy=void 0,E!==void 0&&cv(u,h,E)}v=v.next}while(v!==g)}}function Nd(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==u)}}function fv(a){var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof u=="function"?u(a):u.current=a}}function XA(a){var u=a.alternate;u!==null&&(a.alternate=null,XA(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Ai],delete u[gc],delete u[Py],delete u[V4],delete u[F4])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function JA(a){return a.tag===5||a.tag===3||a.tag===4}function ZA(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||JA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function hv(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(a,u):h.insertBefore(a,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(a,h)):(u=h,u.appendChild(a)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=cd));else if(g!==4&&(a=a.child,a!==null))for(hv(a,u,h),a=a.sibling;a!==null;)hv(a,u,h),a=a.sibling}function dv(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(dv(a,u,h),a=a.sibling;a!==null;)dv(a,u,h),a=a.sibling}var wn=null,ni=!1;function Ho(a,u,h){for(h=h.child;h!==null;)eP(a,u,h),h=h.sibling}function eP(a,u,h){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(ja,h)}catch{}switch(h.tag){case 5:On||vu(h,u);case 6:var g=wn,v=ni;wn=null,Ho(a,u,h),wn=g,ni=v,wn!==null&&(ni?(a=wn,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):wn.removeChild(h.stateNode));break;case 18:wn!==null&&(ni?(a=wn,h=h.stateNode,a.nodeType===8?Ay(a.parentNode,h):a.nodeType===1&&Ay(a,h),Xr(a)):Ay(wn,h.stateNode));break;case 4:g=wn,v=ni,wn=h.stateNode.containerInfo,ni=!0,Ho(a,u,h),wn=g,ni=v;break;case 0:case 11:case 14:case 15:if(!On&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var E=v,N=E.destroy;E=E.tag,N!==void 0&&(E&2||E&4)&&cv(h,u,N),v=v.next}while(v!==g)}Ho(a,u,h);break;case 1:if(!On&&(vu(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(q){jt(h,u,q)}Ho(a,u,h);break;case 21:Ho(a,u,h);break;case 22:h.mode&1?(On=(g=On)||h.memoizedState!==null,Ho(a,u,h),On=g):Ho(a,u,h);break;default:Ho(a,u,h)}}function tP(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new nq),u.forEach(function(g){var v=hq.bind(null,a,g);h.has(g)||(h.add(g),g.then(v,v))})}}function ri(a,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];try{var E=a,N=u,q=N;e:for(;q!==null;){switch(q.tag){case 5:wn=q.stateNode,ni=!1;break e;case 3:wn=q.stateNode.containerInfo,ni=!0;break e;case 4:wn=q.stateNode.containerInfo,ni=!0;break e}q=q.return}if(wn===null)throw Error(n(160));eP(E,N,v),wn=null,ni=!1;var U=v.alternate;U!==null&&(U.return=null),v.return=null}catch(Z){jt(v,u,Z)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)nP(u,a),u=u.sibling}function nP(a,u){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ri(u,a),Ci(a),g&4){try{Pc(3,a,a.return),Nd(3,a)}catch(Pe){jt(a,a.return,Pe)}try{Pc(5,a,a.return)}catch(Pe){jt(a,a.return,Pe)}}break;case 1:ri(u,a),Ci(a),g&512&&h!==null&&vu(h,h.return);break;case 5:if(ri(u,a),Ci(a),g&512&&h!==null&&vu(h,h.return),a.flags&32){var v=a.stateNode;try{Co(v,"")}catch(Pe){jt(a,a.return,Pe)}}if(g&4&&(v=a.stateNode,v!=null)){var E=a.memoizedProps,N=h!==null?h.memoizedProps:E,q=a.type,U=a.updateQueue;if(a.updateQueue=null,U!==null)try{q==="input"&&E.type==="radio"&&E.name!=null&&xt(v,E),Gl(q,N);var Z=Gl(q,E);for(N=0;N<U.length;N+=2){var he=U[N],me=U[N+1];he==="style"?zl(v,me):he==="dangerouslySetInnerHTML"?Bl(v,me):he==="children"?Co(v,me):k(v,he,me,Z)}switch(q){case"input":Ut(v,E);break;case"textarea":Bi(v,E);break;case"select":var fe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!E.multiple;var be=E.value;be!=null?yn(v,!!E.multiple,be,!1):fe!==!!E.multiple&&(E.defaultValue!=null?yn(v,!!E.multiple,E.defaultValue,!0):yn(v,!!E.multiple,E.multiple?[]:"",!1))}v[gc]=E}catch(Pe){jt(a,a.return,Pe)}}break;case 6:if(ri(u,a),Ci(a),g&4){if(a.stateNode===null)throw Error(n(162));v=a.stateNode,E=a.memoizedProps;try{v.nodeValue=E}catch(Pe){jt(a,a.return,Pe)}}break;case 3:if(ri(u,a),Ci(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Xr(u.containerInfo)}catch(Pe){jt(a,a.return,Pe)}break;case 4:ri(u,a),Ci(a);break;case 13:ri(u,a),Ci(a),v=a.child,v.flags&8192&&(E=v.memoizedState!==null,v.stateNode.isHidden=E,!E||v.alternate!==null&&v.alternate.memoizedState!==null||(gv=wt())),g&4&&tP(a);break;case 22:if(he=h!==null&&h.memoizedState!==null,a.mode&1?(On=(Z=On)||he,ri(u,a),On=Z):ri(u,a),Ci(a),g&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!he&&a.mode&1)for(Te=a,he=a.child;he!==null;){for(me=Te=he;Te!==null;){switch(fe=Te,be=fe.child,fe.tag){case 0:case 11:case 14:case 15:Pc(4,fe,fe.return);break;case 1:vu(fe,fe.return);var Ae=fe.stateNode;if(typeof Ae.componentWillUnmount=="function"){g=fe,h=fe.return;try{u=g,Ae.props=u.memoizedProps,Ae.state=u.memoizedState,Ae.componentWillUnmount()}catch(Pe){jt(g,h,Pe)}}break;case 5:vu(fe,fe.return);break;case 22:if(fe.memoizedState!==null){oP(me);continue}}be!==null?(be.return=fe,Te=be):oP(me)}he=he.sibling}e:for(he=null,me=a;;){if(me.tag===5){if(he===null){he=me;try{v=me.stateNode,Z?(E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(q=me.stateNode,U=me.memoizedProps.style,N=U!=null&&U.hasOwnProperty("display")?U.display:null,q.style.display=Ul("display",N))}catch(Pe){jt(a,a.return,Pe)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=Z?"":me.memoizedProps}catch(Pe){jt(a,a.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:ri(u,a),Ci(a),g&4&&tP(a);break;case 21:break;default:ri(u,a),Ci(a)}}function Ci(a){var u=a.flags;if(u&2){try{e:{for(var h=a.return;h!==null;){if(JA(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Co(v,""),g.flags&=-33);var E=ZA(a);dv(a,E,v);break;case 3:case 4:var N=g.stateNode.containerInfo,q=ZA(a);hv(a,q,N);break;default:throw Error(n(161))}}catch(U){jt(a,a.return,U)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function iq(a,u,h){Te=a,rP(a)}function rP(a,u,h){for(var g=(a.mode&1)!==0;Te!==null;){var v=Te,E=v.child;if(v.tag===22&&g){var N=v.memoizedState!==null||kd;if(!N){var q=v.alternate,U=q!==null&&q.memoizedState!==null||On;q=kd;var Z=On;if(kd=N,(On=U)&&!Z)for(Te=v;Te!==null;)N=Te,U=N.child,N.tag===22&&N.memoizedState!==null?aP(v):U!==null?(U.return=N,Te=U):aP(v);for(;E!==null;)Te=E,rP(E),E=E.sibling;Te=v,kd=q,On=Z}iP(a)}else v.subtreeFlags&8772&&E!==null?(E.return=v,Te=E):iP(a)}}function iP(a){for(;Te!==null;){var u=Te;if(u.flags&8772){var h=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:On||Nd(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!On)if(h===null)g.componentDidMount();else{var v=u.elementType===u.type?h.memoizedProps:ti(u.type,h.memoizedProps);g.componentDidUpdate(v,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&oA(u,E,g);break;case 3:var N=u.updateQueue;if(N!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}oA(u,N,h)}break;case 5:var q=u.stateNode;if(h===null&&u.flags&4){h=q;var U=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&h.focus();break;case"img":U.src&&(h.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Z=u.alternate;if(Z!==null){var he=Z.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Xr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}On||u.flags&512&&fv(u)}catch(fe){jt(u,u.return,fe)}}if(u===a){Te=null;break}if(h=u.sibling,h!==null){h.return=u.return,Te=h;break}Te=u.return}}function oP(a){for(;Te!==null;){var u=Te;if(u===a){Te=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Te=h;break}Te=u.return}}function aP(a){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Nd(4,u)}catch(U){jt(u,h,U)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var v=u.return;try{g.componentDidMount()}catch(U){jt(u,v,U)}}var E=u.return;try{fv(u)}catch(U){jt(u,E,U)}break;case 5:var N=u.return;try{fv(u)}catch(U){jt(u,N,U)}}}catch(U){jt(u,u.return,U)}if(u===a){Te=null;break}var q=u.sibling;if(q!==null){q.return=u.return,Te=q;break}Te=u.return}}var oq=Math.ceil,Md=L.ReactCurrentDispatcher,pv=L.ReactCurrentOwner,Mr=L.ReactCurrentBatchConfig,it=0,cn=null,Wt=null,bn=0,gr=0,_u=qo(0),en=0,Ic=null,Ya=0,Dd=0,mv=0,Cc=null,Xn=null,gv=0,wu=1/0,ro=null,jd=!1,yv=null,Go=null,Ld=!1,Ko=null,$d=0,Oc=0,vv=null,Vd=-1,Fd=0;function Bn(){return it&6?wt():Vd!==-1?Vd:Vd=wt()}function Qo(a){return a.mode&1?it&2&&bn!==0?bn&-bn:B4.transition!==null?(Fd===0&&(Fd=$a()),Fd):(a=Je,a!==0||(a=window.event,a=a===void 0?16:ic(a.type)),a):1}function ii(a,u,h,g){if(50<Oc)throw Oc=0,vv=null,Error(n(185));No(a,h,g),(!(it&2)||a!==cn)&&(a===cn&&(!(it&2)&&(Dd|=h),en===4&&Yo(a,bn)),Jn(a,g),h===1&&it===0&&!(u.mode&1)&&(wu=wt()+500,pd&&Uo()))}function Jn(a,u){var h=a.callbackNode;Wi(a,u);var g=La(a,a===cn?bn:0);if(g===0)h!==null&&Zl(h),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(h!=null&&Zl(h),u===1)a.tag===0?q4(uP.bind(null,a)):Gx(uP.bind(null,a)),L4(function(){!(it&6)&&Uo()}),h=null;else{switch(Do(g)){case 1:h=Da;break;case 4:h=Oo;break;case 16:h=Pr;break;case 536870912:h=Fh;break;default:h=Pr}h=gP(h,sP.bind(null,a))}a.callbackPriority=u,a.callbackNode=h}}function sP(a,u){if(Vd=-1,Fd=0,it&6)throw Error(n(327));var h=a.callbackNode;if(bu()&&a.callbackNode!==h)return null;var g=La(a,a===cn?bn:0);if(g===0)return null;if(g&30||g&a.expiredLanes||u)u=qd(a,g);else{u=g;var v=it;it|=2;var E=cP();(cn!==a||bn!==u)&&(ro=null,wu=wt()+500,Ja(a,u));do try{uq();break}catch(q){lP(a,q)}while(!0);jy(),Md.current=E,it=v,Wt!==null?u=0:(cn=null,bn=0,u=en)}if(u!==0){if(u===2&&(v=fr(a),v!==0&&(g=v,u=_v(a,v))),u===1)throw h=Ic,Ja(a,0),Yo(a,g),Jn(a,wt()),h;if(u===6)Yo(a,g);else{if(v=a.current.alternate,!(g&30)&&!aq(v)&&(u=qd(a,g),u===2&&(E=fr(a),E!==0&&(g=E,u=_v(a,E))),u===1))throw h=Ic,Ja(a,0),Yo(a,g),Jn(a,wt()),h;switch(a.finishedWork=v,a.finishedLanes=g,u){case 0:case 1:throw Error(n(345));case 2:Za(a,Xn,ro);break;case 3:if(Yo(a,g),(g&130023424)===g&&(u=gv+500-wt(),10<u)){if(La(a,0)!==0)break;if(v=a.suspendedLanes,(v&g)!==g){Bn(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=xy(Za.bind(null,a,Xn,ro),u);break}Za(a,Xn,ro);break;case 4:if(Yo(a,g),(g&4194240)===g)break;for(u=a.eventTimes,v=-1;0<g;){var N=31-Vn(g);E=1<<N,N=u[N],N>v&&(v=N),g&=~E}if(g=v,g=wt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*oq(g/1960))-g,10<g){a.timeoutHandle=xy(Za.bind(null,a,Xn,ro),g);break}Za(a,Xn,ro);break;case 5:Za(a,Xn,ro);break;default:throw Error(n(329))}}}return Jn(a,wt()),a.callbackNode===h?sP.bind(null,a):null}function _v(a,u){var h=Cc;return a.current.memoizedState.isDehydrated&&(Ja(a,u).flags|=256),a=qd(a,u),a!==2&&(u=Xn,Xn=h,u!==null&&wv(u)),a}function wv(a){Xn===null?Xn=a:Xn.push.apply(Xn,a)}function aq(a){for(var u=a;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var v=h[g],E=v.getSnapshot;v=v.value;try{if(!Zr(E(),v))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Yo(a,u){for(u&=~mv,u&=~Dd,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-Vn(u),g=1<<h;a[h]=-1,u&=~g}}function uP(a){if(it&6)throw Error(n(327));bu();var u=La(a,0);if(!(u&1))return Jn(a,wt()),null;var h=qd(a,u);if(a.tag!==0&&h===2){var g=fr(a);g!==0&&(u=g,h=_v(a,g))}if(h===1)throw h=Ic,Ja(a,0),Yo(a,u),Jn(a,wt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Za(a,Xn,ro),Jn(a,wt()),null}function bv(a,u){var h=it;it|=1;try{return a(u)}finally{it=h,it===0&&(wu=wt()+500,pd&&Uo())}}function Xa(a){Ko!==null&&Ko.tag===0&&!(it&6)&&bu();var u=it;it|=1;var h=Mr.transition,g=Je;try{if(Mr.transition=null,Je=1,a)return a()}finally{Je=g,Mr.transition=h,it=u,!(it&6)&&Uo()}}function Ev(){gr=_u.current,Pt(_u)}function Ja(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,j4(h)),Wt!==null)for(h=Wt.return;h!==null;){var g=h;switch(Ry(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&hd();break;case 3:gu(),Pt(Kn),Pt(Pn),zy();break;case 5:By(g);break;case 4:gu();break;case 13:Pt(Nt);break;case 19:Pt(Nt);break;case 10:Ly(g.type._context);break;case 22:case 23:Ev()}h=h.return}if(cn=a,Wt=a=Xo(a.current,null),bn=gr=u,en=0,Ic=null,mv=Dd=Ya=0,Xn=Cc=null,Ga!==null){for(u=0;u<Ga.length;u++)if(h=Ga[u],g=h.interleaved,g!==null){h.interleaved=null;var v=g.next,E=h.pending;if(E!==null){var N=E.next;E.next=v,g.next=N}h.pending=g}Ga=null}return a}function lP(a,u){do{var h=Wt;try{if(jy(),Sd.current=Id,xd){for(var g=Mt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}xd=!1}if(Qa=0,ln=Zt=Mt=null,Ec=!1,Tc=0,pv.current=null,h===null||h.return===null){en=1,Ic=u,Wt=null;break}e:{var E=a,N=h.return,q=h,U=u;if(u=bn,q.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Z=U,he=q,me=he.tag;if(!(he.mode&1)&&(me===0||me===11||me===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var be=MA(N);if(be!==null){be.flags&=-257,DA(be,N,q,E,u),be.mode&1&&NA(E,Z,u),u=be,U=Z;var Ae=u.updateQueue;if(Ae===null){var Pe=new Set;Pe.add(U),u.updateQueue=Pe}else Ae.add(U);break e}else{if(!(u&1)){NA(E,Z,u),Tv();break e}U=Error(n(426))}}else if(Rt&&q.mode&1){var Ft=MA(N);if(Ft!==null){!(Ft.flags&65536)&&(Ft.flags|=256),DA(Ft,N,q,E,u),My(yu(U,q));break e}}E=U=yu(U,q),en!==4&&(en=2),Cc===null?Cc=[E]:Cc.push(E),E=N;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var K=RA(E,U,u);iA(E,K);break e;case 1:q=U;var z=E.type,Y=E.stateNode;if(!(E.flags&128)&&(typeof z.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Go===null||!Go.has(Y)))){E.flags|=65536,u&=-u,E.lanes|=u;var ge=kA(E,q,u);iA(E,ge);break e}}E=E.return}while(E!==null)}hP(h)}catch(Ce){u=Ce,Wt===h&&h!==null&&(Wt=h=h.return);continue}break}while(!0)}function cP(){var a=Md.current;return Md.current=Id,a===null?Id:a}function Tv(){(en===0||en===3||en===2)&&(en=4),cn===null||!(Ya&268435455)&&!(Dd&268435455)||Yo(cn,bn)}function qd(a,u){var h=it;it|=2;var g=cP();(cn!==a||bn!==u)&&(ro=null,Ja(a,u));do try{sq();break}catch(v){lP(a,v)}while(!0);if(jy(),it=h,Md.current=g,Wt!==null)throw Error(n(261));return cn=null,bn=0,en}function sq(){for(;Wt!==null;)fP(Wt)}function uq(){for(;Wt!==null&&!$h();)fP(Wt)}function fP(a){var u=mP(a.alternate,a,gr);a.memoizedProps=a.pendingProps,u===null?hP(a):Wt=u,pv.current=null}function hP(a){var u=a;do{var h=u.alternate;if(a=u.return,u.flags&32768){if(h=tq(h,u),h!==null){h.flags&=32767,Wt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{en=6,Wt=null;return}}else if(h=eq(h,u,gr),h!==null){Wt=h;return}if(u=u.sibling,u!==null){Wt=u;return}Wt=u=a}while(u!==null);en===0&&(en=5)}function Za(a,u,h){var g=Je,v=Mr.transition;try{Mr.transition=null,Je=1,lq(a,u,h,g)}finally{Mr.transition=v,Je=g}return null}function lq(a,u,h,g){do bu();while(Ko!==null);if(it&6)throw Error(n(327));h=a.finishedWork;var v=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var E=h.lanes|h.childLanes;if(mt(a,E),a===cn&&(Wt=cn=null,bn=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||Ld||(Ld=!0,gP(Pr,function(){return bu(),null})),E=(h.flags&15990)!==0,h.subtreeFlags&15990||E){E=Mr.transition,Mr.transition=null;var N=Je;Je=1;var q=it;it|=4,pv.current=null,rq(a,h),nP(h,a),C4(Ty),Lo=!!Ey,Ty=Ey=null,a.current=h,iq(h),ay(),it=q,Je=N,Mr.transition=E}else a.current=h;if(Ld&&(Ld=!1,Ko=a,$d=v),E=a.pendingLanes,E===0&&(Go=null),qh(h.stateNode),Jn(a,wt()),u!==null)for(g=a.onRecoverableError,h=0;h<u.length;h++)v=u[h],g(v.value,{componentStack:v.stack,digest:v.digest});if(jd)throw jd=!1,a=yv,yv=null,a;return $d&1&&a.tag!==0&&bu(),E=a.pendingLanes,E&1?a===vv?Oc++:(Oc=0,vv=a):Oc=0,Uo(),null}function bu(){if(Ko!==null){var a=Do($d),u=Mr.transition,h=Je;try{if(Mr.transition=null,Je=16>a?16:a,Ko===null)var g=!1;else{if(a=Ko,Ko=null,$d=0,it&6)throw Error(n(331));var v=it;for(it|=4,Te=a.current;Te!==null;){var E=Te,N=E.child;if(Te.flags&16){var q=E.deletions;if(q!==null){for(var U=0;U<q.length;U++){var Z=q[U];for(Te=Z;Te!==null;){var he=Te;switch(he.tag){case 0:case 11:case 15:Pc(8,he,E)}var me=he.child;if(me!==null)me.return=he,Te=me;else for(;Te!==null;){he=Te;var fe=he.sibling,be=he.return;if(XA(he),he===Z){Te=null;break}if(fe!==null){fe.return=be,Te=fe;break}Te=be}}}var Ae=E.alternate;if(Ae!==null){var Pe=Ae.child;if(Pe!==null){Ae.child=null;do{var Ft=Pe.sibling;Pe.sibling=null,Pe=Ft}while(Pe!==null)}}Te=E}}if(E.subtreeFlags&2064&&N!==null)N.return=E,Te=N;else e:for(;Te!==null;){if(E=Te,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Pc(9,E,E.return)}var K=E.sibling;if(K!==null){K.return=E.return,Te=K;break e}Te=E.return}}var z=a.current;for(Te=z;Te!==null;){N=Te;var Y=N.child;if(N.subtreeFlags&2064&&Y!==null)Y.return=N,Te=Y;else e:for(N=z;Te!==null;){if(q=Te,q.flags&2048)try{switch(q.tag){case 0:case 11:case 15:Nd(9,q)}}catch(Ce){jt(q,q.return,Ce)}if(q===N){Te=null;break e}var ge=q.sibling;if(ge!==null){ge.return=q.return,Te=ge;break e}Te=q.return}}if(it=v,Uo(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(ja,a)}catch{}g=!0}return g}finally{Je=h,Mr.transition=u}}return!1}function dP(a,u,h){u=yu(h,u),u=RA(a,u,1),a=Wo(a,u,1),u=Bn(),a!==null&&(No(a,1,u),Jn(a,u))}function jt(a,u,h){if(a.tag===3)dP(a,a,h);else for(;u!==null;){if(u.tag===3){dP(u,a,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Go===null||!Go.has(g))){a=yu(h,a),a=kA(u,a,1),u=Wo(u,a,1),a=Bn(),u!==null&&(No(u,1,a),Jn(u,a));break}}u=u.return}}function cq(a,u,h){var g=a.pingCache;g!==null&&g.delete(u),u=Bn(),a.pingedLanes|=a.suspendedLanes&h,cn===a&&(bn&h)===h&&(en===4||en===3&&(bn&130023424)===bn&&500>wt()-gv?Ja(a,0):mv|=h),Jn(a,u)}function pP(a,u){u===0&&(a.mode&1?(u=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):u=1);var h=Bn();a=eo(a,u),a!==null&&(No(a,u,h),Jn(a,h))}function fq(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),pP(a,h)}function hq(a,u){var h=0;switch(a.tag){case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(u),pP(a,h)}var mP;mP=function(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps||Kn.current)Yn=!0;else{if(!(a.lanes&h)&&!(u.flags&128))return Yn=!1,Z4(a,u,h);Yn=!!(a.flags&131072)}else Yn=!1,Rt&&u.flags&1048576&&Kx(u,gd,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Rd(a,u),a=u.pendingProps;var v=lu(u,Pn.current);mu(u,h),v=Gy(null,u,g,a,v,h);var E=Ky();return u.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Qn(g)?(E=!0,dd(u)):E=!1,u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Fy(u),v.updater=Cd,u.stateNode=v,v._reactInternals=u,ev(u,g,a,h),u=iv(null,u,g,!0,E,h)):(u.tag=0,Rt&&E&&Oy(u),qn(null,u,v,h),u=u.child),u;case 16:g=u.elementType;e:{switch(Rd(a,u),a=u.pendingProps,v=g._init,g=v(g._payload),u.type=g,v=u.tag=pq(g),a=ti(g,a),v){case 0:u=rv(null,u,g,a,h);break e;case 1:u=qA(null,u,g,a,h);break e;case 11:u=jA(null,u,g,a,h);break e;case 14:u=LA(null,u,g,ti(g.type,a),h);break e}throw Error(n(306,g,""))}return u;case 0:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:ti(g,v),rv(a,u,g,v,h);case 1:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:ti(g,v),qA(a,u,g,v,h);case 3:e:{if(BA(u),a===null)throw Error(n(387));g=u.pendingProps,E=u.memoizedState,v=E.element,rA(a,u),Ed(u,g,null,h);var N=u.memoizedState;if(g=N.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){v=yu(Error(n(423)),u),u=UA(a,u,g,h,v);break e}else if(g!==v){v=yu(Error(n(424)),u),u=UA(a,u,g,h,v);break e}else for(mr=Fo(u.stateNode.containerInfo.firstChild),pr=u,Rt=!0,ei=null,h=tA(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(hu(),g===v){u=no(a,u,h);break e}qn(a,u,g,h)}u=u.child}return u;case 5:return aA(u),a===null&&Ny(u),g=u.type,v=u.pendingProps,E=a!==null?a.memoizedProps:null,N=v.children,Sy(g,v)?N=null:E!==null&&Sy(g,E)&&(u.flags|=32),FA(a,u),qn(a,u,N,h),u.child;case 6:return a===null&&Ny(u),null;case 13:return zA(a,u,h);case 4:return qy(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=du(u,null,g,h):qn(a,u,g,h),u.child;case 11:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:ti(g,v),jA(a,u,g,v,h);case 7:return qn(a,u,u.pendingProps,h),u.child;case 8:return qn(a,u,u.pendingProps.children,h),u.child;case 12:return qn(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(g=u.type._context,v=u.pendingProps,E=u.memoizedProps,N=v.value,bt(_d,g._currentValue),g._currentValue=N,E!==null)if(Zr(E.value,N)){if(E.children===v.children&&!Kn.current){u=no(a,u,h);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var q=E.dependencies;if(q!==null){N=E.child;for(var U=q.firstContext;U!==null;){if(U.context===g){if(E.tag===1){U=to(-1,h&-h),U.tag=2;var Z=E.updateQueue;if(Z!==null){Z=Z.shared;var he=Z.pending;he===null?U.next=U:(U.next=he.next,he.next=U),Z.pending=U}}E.lanes|=h,U=E.alternate,U!==null&&(U.lanes|=h),$y(E.return,h,u),q.lanes|=h;break}U=U.next}}else if(E.tag===10)N=E.type===u.type?null:E.child;else if(E.tag===18){if(N=E.return,N===null)throw Error(n(341));N.lanes|=h,q=N.alternate,q!==null&&(q.lanes|=h),$y(N,h,u),N=E.sibling}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===u){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}qn(a,u,v.children,h),u=u.child}return u;case 9:return v=u.type,g=u.pendingProps.children,mu(u,h),v=kr(v),g=g(v),u.flags|=1,qn(a,u,g,h),u.child;case 14:return g=u.type,v=ti(g,u.pendingProps),v=ti(g.type,v),LA(a,u,g,v,h);case 15:return $A(a,u,u.type,u.pendingProps,h);case 17:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:ti(g,v),Rd(a,u),u.tag=1,Qn(g)?(a=!0,dd(u)):a=!1,mu(u,h),CA(u,g,v),ev(u,g,v,h),iv(null,u,g,!0,a,h);case 19:return HA(a,u,h);case 22:return VA(a,u,h)}throw Error(n(156,u.tag))};function gP(a,u){return Bs(a,u)}function dq(a,u,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(a,u,h,g){return new dq(a,u,h,g)}function Sv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function pq(a){if(typeof a=="function")return Sv(a)?1:0;if(a!=null){if(a=a.$$typeof,a===$)return 11;if(a===J)return 14}return 2}function Xo(a,u){var h=a.alternate;return h===null?(h=Dr(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Bd(a,u,h,g,v,E){var N=2;if(g=a,typeof a=="function")Sv(a)&&(N=1);else if(typeof a=="string")N=5;else e:switch(a){case x:return es(h.children,v,E,u);case P:N=8,v|=8;break;case C:return a=Dr(12,h,u,v|2),a.elementType=C,a.lanes=E,a;case j:return a=Dr(13,h,u,v),a.elementType=j,a.lanes=E,a;case X:return a=Dr(19,h,u,v),a.elementType=X,a.lanes=E,a;case ie:return Ud(h,v,E,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:N=10;break e;case D:N=9;break e;case $:N=11;break e;case J:N=14;break e;case re:N=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Dr(N,h,u,v),u.elementType=a,u.type=g,u.lanes=E,u}function es(a,u,h,g){return a=Dr(7,a,g,u),a.lanes=h,a}function Ud(a,u,h,g){return a=Dr(22,a,g,u),a.elementType=ie,a.lanes=h,a.stateNode={isHidden:!1},a}function xv(a,u,h){return a=Dr(6,a,null,u),a.lanes=h,a}function Av(a,u,h){return u=Dr(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function mq(a,u,h,g,v){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Pv(a,u,h,g,v,E,N,q,U){return a=new mq(a,u,h,q,U),u===1?(u=1,E===!0&&(u|=8)):u=0,E=Dr(3,null,null,u),a.current=E,E.stateNode=a,E.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fy(E),a}function gq(a,u,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:a,containerInfo:u,implementation:h}}function yP(a){if(!a)return Bo;a=a._reactInternals;e:{if(Hr(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Qn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Qn(h))return Wx(a,h,u)}return u}function vP(a,u,h,g,v,E,N,q,U){return a=Pv(h,g,!0,a,v,E,N,q,U),a.context=yP(null),h=a.current,g=Bn(),v=Qo(h),E=to(g,v),E.callback=u??null,Wo(h,E,v),a.current.lanes=v,No(a,v,g),Jn(a,g),a}function zd(a,u,h,g){var v=u.current,E=Bn(),N=Qo(v);return h=yP(h),u.context===null?u.context=h:u.pendingContext=h,u=to(E,N),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Wo(v,u,N),a!==null&&(ii(a,v,N,E),bd(a,v,N)),N}function Wd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function _P(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function Iv(a,u){_P(a,u),(a=a.alternate)&&_P(a,u)}function yq(){return null}var wP=typeof reportError=="function"?reportError:function(a){console.error(a)};function Cv(a){this._internalRoot=a}Hd.prototype.render=Cv.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));zd(a,u,null,null)},Hd.prototype.unmount=Cv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Xa(function(){zd(null,a,null,null)}),u[Yi]=null}};function Hd(a){this._internalRoot=a}Hd.prototype.unstable_scheduleHydration=function(a){if(a){var u=Hh();a={blockedOn:null,target:a,priority:u};for(var h=0;h<Ei.length&&u!==0&&u<Ei[h].priority;h++);Ei.splice(h,0,a),h===0&&Qh(a)}};function Ov(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Gd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function bP(){}function vq(a,u,h,g,v){if(v){if(typeof g=="function"){var E=g;g=function(){var Z=Wd(N);E.call(Z)}}var N=vP(u,g,a,0,null,!1,!1,"",bP);return a._reactRootContainer=N,a[Yi]=N.current,pc(a.nodeType===8?a.parentNode:a),Xa(),N}for(;v=a.lastChild;)a.removeChild(v);if(typeof g=="function"){var q=g;g=function(){var Z=Wd(U);q.call(Z)}}var U=Pv(a,0,!1,null,null,!1,!1,"",bP);return a._reactRootContainer=U,a[Yi]=U.current,pc(a.nodeType===8?a.parentNode:a),Xa(function(){zd(u,U,h,g)}),U}function Kd(a,u,h,g,v){var E=h._reactRootContainer;if(E){var N=E;if(typeof v=="function"){var q=v;v=function(){var U=Wd(N);q.call(U)}}zd(u,N,a,v)}else N=vq(h,u,a,v,g);return Wd(N)}zh=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var h=Ro(u.pendingLanes);h!==0&&(Mo(u,h|1),Jn(u,wt()),!(it&6)&&(wu=wt()+500,Uo()))}break;case 13:Xa(function(){var g=eo(a,1);if(g!==null){var v=Bn();ii(g,a,1,v)}}),Iv(a,1)}},Ws=function(a){if(a.tag===13){var u=eo(a,134217728);if(u!==null){var h=Bn();ii(u,a,134217728,h)}Iv(a,134217728)}},Wh=function(a){if(a.tag===13){var u=Qo(a),h=eo(a,u);if(h!==null){var g=Bn();ii(h,a,u,g)}Iv(a,u)}},Hh=function(){return Je},Gh=function(a,u){var h=Je;try{return Je=a,u()}finally{Je=h}},js=function(a,u,h){switch(u){case"input":if(Ut(a,h),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==a&&g.form===a.form){var v=fd(g);if(!v)throw Error(n(90));ce(g),Ut(g,v)}}}break;case"textarea":Bi(a,h);break;case"select":u=h.value,u!=null&&yn(a,!!h.multiple,u,!1)}},Ra=bv,Ql=Xa;var _q={usingClientEntryPoint:!1,Events:[yc,su,fd,wi,Kl,bv]},Rc={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wq={bundleType:Rc.bundleType,version:Rc.version,rendererPackageName:Rc.rendererPackageName,rendererConfig:Rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Jl(a),a===null?null:a.stateNode},findFiberByHostInstance:Rc.findFiberByHostInstance||yq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{ja=Qd.inject(wq),cr=Qd}catch{}}return Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_q,Zn.createPortal=function(a,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(u))throw Error(n(200));return gq(a,u,null,h)},Zn.createRoot=function(a,u){if(!Ov(a))throw Error(n(299));var h=!1,g="",v=wP;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(v=u.onRecoverableError)),u=Pv(a,1,!1,null,null,h,!1,g,v),a[Yi]=u.current,pc(a.nodeType===8?a.parentNode:a),new Cv(u)},Zn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Jl(u),a=a===null?null:a.stateNode,a},Zn.flushSync=function(a){return Xa(a)},Zn.hydrate=function(a,u,h){if(!Gd(u))throw Error(n(200));return Kd(null,a,u,!0,h)},Zn.hydrateRoot=function(a,u,h){if(!Ov(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,v=!1,E="",N=wP;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),u=vP(u,null,a,1,h??null,v,!1,E,N),a[Yi]=u.current,pc(a),g)for(a=0;a<g.length;a++)h=g[a],v=h._getVersion,v=v(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,v]:u.mutableSourceEagerHydrationData.push(h,v);return new Hd(u)},Zn.render=function(a,u,h){if(!Gd(u))throw Error(n(200));return Kd(null,a,u,!1,h)},Zn.unmountComponentAtNode=function(a){if(!Gd(a))throw Error(n(40));return a._reactRootContainer?(Xa(function(){Kd(null,null,a,!1,function(){a._reactRootContainer=null,a[Yi]=null})}),!0):!1},Zn.unstable_batchedUpdates=bv,Zn.unstable_renderSubtreeIntoContainer=function(a,u,h,g){if(!Gd(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Kd(a,u,h,!1,g)},Zn.version="18.3.1-next-f1338f8080-20240426",Zn}var CP;function Iq(){if(CP)return Nv.exports;CP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nv.exports=Pq(),Nv.exports}var OP;function Cq(){if(OP)return Xd;OP=1;var t=Iq();return Xd.createRoot=t.createRoot,Xd.hydrateRoot=t.hydrateRoot,Xd}var Oq=Cq(),RP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=function(t,e){if(!t)throw Al(e)},Al=function(t){return new Error("Firebase Database ("+iD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let y=(l&15)<<2|f>>6,_=f&63;c||(_=64,s||(y=64)),r.push(n[d],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new kq;const y=o<<2|l>>4;if(r.push(y),f!==64){const _=l<<4&240|f>>2;if(r.push(_),p!==64){const T=f<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aD=function(t){const e=oD(t);return YE.encodeByteArray(e,!0)},Op=function(t){return aD(t).replace(/\./g,"")},Yb=function(t){try{return YE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){return sD(void 0,t)}function sD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Mq(n)||(t[n]=sD(t[n],e[n]));return t}function Mq(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=()=>Dq().__FIREBASE_DEFAULTS__,Lq=()=>{if(typeof process>"u"||typeof RP>"u")return;const t=RP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$q=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yb(t[1]);return e&&JSON.parse(e)},XE=()=>{try{return jq()||Lq()||$q()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vq=t=>{var e,n;return(n=(e=XE())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uD=t=>{const e=Vq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lD=()=>{var t;return(t=XE())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Op(JSON.stringify(n)),Op(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fD())}function Fq(){var t;const e=(t=XE())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dD(){return iD.NODE_ADMIN===!0}function Bq(){return!Fq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uq(){try{return typeof indexedDB=="object"}catch{return!1}}function zq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq="FirebaseError";class Pl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wq,Object.setPrototypeOf(this,Pl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pD.prototype.create)}}class pD{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Hq(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Pl(i,l,r)}}function Hq(t,e){return t.replace(Gq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Gq=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return JSON.parse(t)}function mn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=gf(Yb(o[0])||""),n=gf(Yb(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Kq=function(t){const e=mD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Qq=function(t){const e=mD(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function kP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Xb(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(NP(o)&&NP(s)){if(!Xb(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function NP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const y=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4],f,d;for(let p=0;p<80;p++){p<40?p<20?(f=l^o&(s^l),d=1518500249):(f=o^s^l,d=1859775393):p<60?(f=o&s|l&(o|s),d=2400959708):(f=o^s^l,d=3395469782);const y=(i<<5|i>>>27)+f+c+d+r[p]&4294967295;c=l,l=s,s=(o<<30|o>>>2)&4294967295,o=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function gD(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ye(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){return t&&t._delegate?t._delegate:t}class Hu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t3(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e3(t){return t===ns?void 0:t}function t3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const r3={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},i3=Ze.INFO,o3={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},a3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=o3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ZE{constructor(e){this.name=e,this._logLevel=i3,this._logHandler=a3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const s3=(t,e)=>e.some(n=>t instanceof n);let MP,DP;function u3(){return MP||(MP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l3(){return DP||(DP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yD=new WeakMap,Jb=new WeakMap,vD=new WeakMap,jv=new WeakMap,eT=new WeakMap;function c3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(oa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&yD.set(n,t)}).catch(()=>{}),eT.set(e,t),e}function f3(t){if(Jb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Jb.set(t,e)}let Zb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h3(t){Zb=t(Zb)}function d3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lv(this),e,...n);return vD.set(r,e.sort?e.sort():[e]),oa(r)}:l3().includes(t)?function(...e){return t.apply(Lv(this),e),oa(yD.get(this))}:function(...e){return oa(t.apply(Lv(this),e))}}function p3(t){return typeof t=="function"?d3(t):(t instanceof IDBTransaction&&f3(t),s3(t,u3())?new Proxy(t,Zb):t)}function oa(t){if(t instanceof IDBRequest)return c3(t);if(jv.has(t))return jv.get(t);const e=p3(t);return e!==t&&(jv.set(t,e),eT.set(e,t)),e}const Lv=t=>eT.get(t);function m3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=oa(s);return r&&s.addEventListener("upgradeneeded",c=>{r(oa(s.result),c.oldVersion,c.newVersion,oa(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const g3=["get","getKey","getAll","getAllKeys","count"],y3=["put","add","delete","clear"],$v=new Map;function jP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($v.get(e))return $v.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=y3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g3.includes(n)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return $v.set(e,o),o}h3(t=>({...t,get:(e,n,r)=>jP(e,n)||t.get(e,n,r),has:(e,n)=>!!jP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e1="@firebase/app",LP="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new ZE("@firebase/app"),w3="@firebase/app-compat",b3="@firebase/analytics-compat",E3="@firebase/analytics",T3="@firebase/app-check-compat",S3="@firebase/app-check",x3="@firebase/auth",A3="@firebase/auth-compat",P3="@firebase/database",I3="@firebase/data-connect",C3="@firebase/database-compat",O3="@firebase/functions",R3="@firebase/functions-compat",k3="@firebase/installations",N3="@firebase/installations-compat",M3="@firebase/messaging",D3="@firebase/messaging-compat",j3="@firebase/performance",L3="@firebase/performance-compat",$3="@firebase/remote-config",V3="@firebase/remote-config-compat",F3="@firebase/storage",q3="@firebase/storage-compat",B3="@firebase/firestore",U3="@firebase/vertexai",z3="@firebase/firestore-compat",W3="firebase",H3="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="[DEFAULT]",G3={[e1]:"fire-core",[w3]:"fire-core-compat",[E3]:"fire-analytics",[b3]:"fire-analytics-compat",[S3]:"fire-app-check",[T3]:"fire-app-check-compat",[x3]:"fire-auth",[A3]:"fire-auth-compat",[P3]:"fire-rtdb",[I3]:"fire-data-connect",[C3]:"fire-rtdb-compat",[O3]:"fire-fn",[R3]:"fire-fn-compat",[k3]:"fire-iid",[N3]:"fire-iid-compat",[M3]:"fire-fcm",[D3]:"fire-fcm-compat",[j3]:"fire-perf",[L3]:"fire-perf-compat",[$3]:"fire-rc",[V3]:"fire-rc-compat",[F3]:"fire-gcs",[q3]:"fire-gcs-compat",[B3]:"fire-fst",[z3]:"fire-fst-compat",[U3]:"fire-vertex","fire-js":"fire-js",[W3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new Map,K3=new Map,n1=new Map;function $P(t,e){try{t.container.addComponent(e)}catch(n){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yf(t){const e=t.name;if(n1.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;n1.set(e,t);for(const n of kp.values())$P(n,t);for(const n of K3.values())$P(n,t);return!0}function _D(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new pD("app","Firebase",Q3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=H3;function bD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:t1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw aa.create("bad-app-name",{appName:String(i)});if(n||(n=lD()),!n)throw aa.create("no-options");const o=kp.get(i);if(o){if(Xb(n,o.options)&&Xb(r,o.config))return o;throw aa.create("duplicate-app",{appName:i})}const s=new n3(i);for(const c of n1.values())s.addComponent(c);const l=new Y3(n,r,s);return kp.set(i,l),l}function ED(t=t1){const e=kp.get(t);if(!e&&t===t1&&lD())return bD();if(!e)throw aa.create("no-app",{appName:t});return e}function sa(t,e,n){var r;let i=(r=G3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(l.join(" "));return}yf(new Hu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="firebase-heartbeat-database",J3=1,vf="firebase-heartbeat-store";let Vv=null;function TD(){return Vv||(Vv=m3(X3,J3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vf)}catch(n){console.warn(n)}}}}).catch(t=>{throw aa.create("idb-open",{originalErrorMessage:t.message})})),Vv}async function Z3(t){try{const n=(await TD()).transaction(vf),r=await n.objectStore(vf).get(SD(t));return await n.done,r}catch(e){if(e instanceof Pl)go.warn(e.message);else{const n=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});go.warn(n.message)}}}async function VP(t,e){try{const r=(await TD()).transaction(vf,"readwrite");await r.objectStore(vf).put(e,SD(t)),await r.done}catch(n){if(n instanceof Pl)go.warn(n.message);else{const r=aa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});go.warn(r.message)}}}function SD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=1024,tB=30*24*60*60*1e3;class nB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=FP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=tB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){go.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=FP(),{heartbeatsToSend:r,unsentEntries:i}=rB(this._heartbeatsCache.heartbeats),o=Op(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return go.warn(n),""}}}function FP(){return new Date().toISOString().substring(0,10)}function rB(t,e=eB){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),qP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uq()?zq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return VP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return VP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qP(t){return Op(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){yf(new Hu("platform-logger",e=>new v3(e),"PRIVATE")),yf(new Hu("heartbeat",e=>new nB(e),"PRIVATE")),sa(e1,LP,t),sa(e1,LP,"esm2017"),sa("fire-js","")}oB("");var aB="firebase",sB="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa(aB,sB,"app");var BP={};const UP="@firebase/database",zP="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xD="";function uB(t){xD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:gf(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return So(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lB(e)}}catch{}return new cB},as=AD("localStorage"),fB=AD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new ZE("@firebase/database"),hB=function(){let t=1;return function(){return t++}}(),PD=function(t){const e=Jq(t),n=new Xq;n.update(e);const r=n.digest();return YE.encodeByteArray(r)},dh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=dh.apply(null,r):typeof r=="object"?e+=mn(r):e+=r,e+=" "}return e};let nf=null,WP=!0;const dB=function(t,e){ye(!e,"Can't turn on custom loggers persistently."),Lu.logLevel=Ze.VERBOSE,nf=Lu.log.bind(Lu)},Mn=function(...t){if(WP===!0&&(WP=!1,nf===null&&fB.get("logging_enabled")===!0&&dB()),nf){const e=dh.apply(null,t);nf(e)}},ph=function(t){return function(...e){Mn(t,...e)}},r1=function(...t){const e="FIREBASE INTERNAL ERROR: "+dh(...t);Lu.error(e)},yo=function(...t){const e=`FIREBASE FATAL ERROR: ${dh(...t)}`;throw Lu.error(e),new Error(e)},Sr=function(...t){const e="FIREBASE WARNING: "+dh(...t);Lu.warn(e)},pB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ID=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mB=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gu="[MIN_NAME]",vs="[MAX_NAME]",Il=function(t,e){if(t===e)return 0;if(t===Gu||e===vs)return-1;if(e===Gu||t===vs)return 1;{const n=HP(t),r=HP(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},gB=function(t,e){return t===e?0:t<e?-1:1},Nc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+mn(e))},tT=function(t){if(typeof t!="object"||t===null)return mn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=mn(e[r]),n+=":",n+=tT(t[e[r]]);return n+="}",n},CD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function or(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const OD=function(t){ye(!ID(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,l,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,s=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(c=n;c;c-=1)f.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(i?1:0),f.reverse();const d=f.join("");let p="";for(c=0;c<64;c+=8){let y=parseInt(d.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),p=p+y}return p.toLowerCase()},yB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _B(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const wB=new RegExp("^-?(0*)\\d{1,10}$"),bB=-2147483648,EB=2147483647,HP=function(t){if(wB.test(t)){const e=Number(t);if(e>=bB&&e<=EB)return e}return null},mh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Sr("Exception was thrown by user callback.",n),e},Math.floor(0))}},TB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rf=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sr(e)}}class wp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="5",RD="v",kD="s",ND="r",MD="f",DD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jD="ls",LD="p",i1="ac",$D="websocket",VD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,i,o=!1,s="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=as.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&as.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function AB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qD(t,e,n){ye(typeof e=="string","typeof type must == string"),ye(typeof n=="object","typeof params must == object");let r;if(e===$D)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===VD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);AB(t)&&(n.ns=t.namespace);const i=[];return or(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.counters_={}}incrementCounter(e,n=1){So(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Nq(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv={},qv={};function rT(t){const e=t.toString();return Fv[e]||(Fv[e]=new PB),Fv[e]}function IB(t,e){const n=t.toString();return qv[n]||(qv[n]=e()),qv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&mh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="start",OB="close",RB="pLPCommand",kB="pRTLPCB",BD="id",UD="pw",zD="ser",NB="cb",MB="seg",DB="ts",jB="d",LB="dframe",WD=1870,HD=30,$B=WD-HD,VB=25e3,FB=3e4;class Ou{constructor(e,n,r,i,o,s,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ph(e),this.stats_=rT(n),this.urlFn=c=>(this.appCheckToken&&(c[i1]=this.appCheckToken),qD(n,VD,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FB)),mB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new iT((...o)=>{const[s,l,c,f,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===GP)this.id=l,this.password=c;else if(s===OB)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[GP]="t",r[zD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RD]=nT,this.transportSessionId&&(r[kD]=this.transportSessionId),this.lastSessionId&&(r[jD]=this.lastSessionId),this.applicationId&&(r[LD]=this.applicationId),this.appCheckToken&&(r[i1]=this.appCheckToken),typeof location<"u"&&location.hostname&&DD.test(location.hostname)&&(r[ND]=MD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ou.forceAllow_=!0}static forceDisallow(){Ou.forceDisallow_=!0}static isAvailable(){return Ou.forceAllow_?!0:!Ou.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yB()&&!vB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=mn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aD(n),i=CD(r,$B);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[LB]="t",r[BD]=e,r[UD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=mn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class iT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hB(),window[RB+this.uniqueCallbackIdentifier]=e,window[kB+this.uniqueCallbackIdentifier]=n,this.myIFrame=iT.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){Mn("frame writing exception"),l.stack&&Mn(l.stack),Mn(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Mn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[BD]=this.myID,e[UD]=this.myPW,e[zD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+HD+r.length<=WD;){const s=this.pendingSegs.shift();r=r+"&"+MB+i+"="+s.seg+"&"+DB+i+"="+s.ts+"&"+jB+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(VB)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=16384,BB=45e3;let Np=null;typeof MozWebSocket<"u"?Np=MozWebSocket:typeof WebSocket<"u"&&(Np=WebSocket);class li{constructor(e,n,r,i,o,s,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ph(this.connId),this.stats_=rT(n),this.connURL=li.connectionURL_(n,s,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[RD]=nT,typeof location<"u"&&location.hostname&&DD.test(location.hostname)&&(s[ND]=MD),n&&(s[kD]=n),r&&(s[jD]=r),i&&(s[i1]=i),o&&(s[LD]=o),qD(e,$D,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,as.set("previous_websocket_failure",!0);try{let r;dD(),this.mySock=new Np(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){li.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Np!==null&&!li.forceDisallow_}static previouslyFailed(){return as.isInMemoryStorage||as.get("previous_websocket_failure")===!0}markConnectionHealthy(){as.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=gf(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ye(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=mn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=CD(n,qB);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BB))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}li.responsesRequiredToBeHealthy=2;li.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{static get ALL_TRANSPORTS(){return[Ou,li]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=li&&li.isAvailable();let r=n&&!li.previouslyFailed();if(e.webSocketOnly&&(n||Sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[li];else{const i=this.transports_=[];for(const o of _f.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);_f.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_f.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=6e4,zB=5e3,WB=10*1024,HB=100*1024,Bv="t",KP="d",GB="s",QP="r",KB="e",YP="o",XP="a",JP="n",ZP="p",QB="h";class YB{constructor(e,n,r,i,o,s,l,c,f,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ph("c:"+this.id+":"),this.transportManager_=new _f(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=rf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bv in e){const n=e[Bv];n===XP?this.upgradeIfSecondaryHealthy_():n===QP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===YP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Nc("t",e),r=Nc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ZP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:XP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:JP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Nc("t",e),r=Nc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Nc(Bv,e);if(KP in e){const r=e[KP];if(n===QB){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===JP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GB?this.onConnectionShutdown_(r):n===QP?this.onReset_(r):n===KB?r1("Server Error: "+r):n===YP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):r1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),nT!==r&&Sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),rf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ZP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(as.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KD=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ye(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ye(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends KD{static getInstance(){return new Mp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hD()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ye(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=32,tI=768;let yt=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function lt(){return new yt("")}function Ke(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ha(t){return t.pieces_.length-t.pieceNum_}function Tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new yt(t.pieces_,e)}function QD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function XB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function YD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function XD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new yt(e,0)}function nn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof yt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new yt(n,0)}function Qe(t){return t.pieceNum_>=t.pieces_.length}function tr(t,e){const n=Ke(t),r=Ke(e);if(n===null)return e;if(n===r)return tr(Tt(t),Tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function oT(t,e){if(ha(t)!==ha(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ha(t)>ha(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class JB{constructor(e,n){this.errorPrefix_=n,this.parts_=YD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jm(this.parts_[r]);JD(this)}}function ZB(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Jm(e),JD(t)}function eU(t){const e=t.parts_.pop();t.byteLength_-=Jm(e),t.parts_.length>0&&(t.byteLength_-=1)}function JD(t){if(t.byteLength_>tI)throw new Error(t.errorPrefix_+"has a key path longer than "+tI+" bytes ("+t.byteLength_+").");if(t.parts_.length>eI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eI+") or object contains a cycle "+rs(t))}function rs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends KD{static getInstance(){return new aT}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ye(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=1e3,tU=60*5*1e3,nI=30*1e3,nU=1.3,rU=3e4,iU="server_kill",rI=3;class lo extends GD{constructor(e,n,r,i,o,s,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=lo.nextPersistentConnectionId_++,this.log_=ph("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mc,this.maxReconnectDelay_=tU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!dD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");aT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(mn(o)),ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new JE,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const l=s.d;s.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ye(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,l=>{const c=l.d,f=l.s;lo.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&So(e,"w")){const r=Wu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Qq(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Kq(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):r1("Unrecognized action received from server: "+mn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>rU&&(this.reconnectDelay_=Mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+lo.nextConnectionId_++,o=this.lastSessionId;let s=!1,l=null;const c=function(){l?l.close():(s=!0,r())},f=function(p){ye(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:f};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,y]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Mn("getToken() completed but was canceled"):(Mn("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=y&&y.token,l=new YB(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Sr(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(iU)},o))}catch(p){this.log_("Failed to get token: "+p),s||(this.repoInfo_.nodeAdmin&&Sr(p),c())}}}interrupt(e){Mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kP(this.interruptReasons_)&&(this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>tT(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new yt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Mn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rI&&(this.reconnectDelay_=nI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Mn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+xD.replace(/\./g,"-")]=1,hD()?e["framework.cordova"]=1:qq()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mp.getInstance().currentlyOnline();return kP(this.interruptReasons_)&&e}}lo.nextPersistentConnectionId_=0;lo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ge(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ge(Gu,e),i=new Ge(Gu,n);return this.compare(r,i)!==0}minPost(){return Ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;class ZD extends Zm{static get __EMPTY_NODE(){return Jd}static set __EMPTY_NODE(e){Jd=e}compare(e,n){return Il(e.name,n.name)}isDefinedOn(e){throw Al("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ge.MIN}maxPost(){return new Ge(vs,Jd)}makePost(e,n){return ye(typeof e=="string","KeyIndex indexValue must always be a string."),new Ge(e,Jd)}toString(){return".key"}}const $u=new ZD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},wr=class Hc{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Hc.RED,this.left=i??Ri.EMPTY_NODE,this.right=o??Ri.EMPTY_NODE}copy(e,n,r,i,o){return new Hc(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ri.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ri.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Hc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Hc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};wr.RED=!0;wr.BLACK=!1;class oU{copy(e,n,r,i,o){return this}insert(e,n,r){return new wr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Ri=class bp{constructor(e,n=bp.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new bp(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,wr.BLACK,null,null))}remove(e){return new bp(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,wr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zd(this.root_,null,this.comparator_,!0,e)}};Ri.EMPTY_NODE=new oU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){return Il(t.name,e.name)}function sT(t,e){return Il(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o1;function sU(t){o1=t}const ej=function(t){return typeof t=="number"?"number:"+OD(t):"string:"+t},tj=function(t){if(t.isLeafNode()){const e=t.val();ye(typeof e=="string"||typeof e=="number"||typeof e=="object"&&So(e,".sv"),"Priority must be a string or number.")}else ye(t===o1||t.isEmpty(),"priority of unexpected type.");ye(t===o1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iI;class hn{static set __childrenNodeConstructor(e){iI=e}static get __childrenNodeConstructor(){return iI}constructor(e,n=hn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tj(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new hn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:hn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qe(e)?this:Ke(e)===".priority"?this.priorityNode_:hn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:hn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ke(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ye(r!==".priority"||ha(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,hn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ej(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=OD(this.value_):e+=this.value_,this.lazyHash_=PD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===hn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof hn.__childrenNodeConstructor?-1:(ye(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=hn.VALUE_TYPE_ORDER.indexOf(n),o=hn.VALUE_TYPE_ORDER.indexOf(r);return ye(i>=0,"Unknown leaf type: "+n),ye(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}hn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nj,rj;function uU(t){nj=t}function lU(t){rj=t}class cU extends Zm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Il(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ge.MIN}maxPost(){return new Ge(vs,new hn("[PRIORITY-POST]",rj))}makePost(e,n){const r=nj(e);return new Ge(n,new hn("[PRIORITY-POST]",r))}toString(){return".priority"}}const $t=new cU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=Math.log(2);class hU{constructor(e){const n=o=>parseInt(Math.log(o)/fU,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Dp=function(t,e,n,r){t.sort(e);const i=function(c,f){const d=f-c;let p,y;if(d===0)return null;if(d===1)return p=t[c],y=n?n(p):p,new wr(y,p.node,wr.BLACK,null,null);{const _=parseInt(d/2,10)+c,T=i(c,_),S=i(_+1,f);return p=t[_],y=n?n(p):p,new wr(y,p.node,wr.BLACK,T,S)}},o=function(c){let f=null,d=null,p=t.length;const y=function(T,S){const w=p-T,O=p;p-=T;const M=i(w+1,O),k=t[w],L=n?n(k):k;_(new wr(L,k.node,S,null,M))},_=function(T){f?(f.left=T,f=T):(d=T,f=T)};for(let T=0;T<c.count;++T){const S=c.nextBitIsOne(),w=Math.pow(2,c.count-(T+1));S?y(w,wr.BLACK):(y(w,wr.BLACK),y(w,wr.RED))}return d},s=new hU(t.length),l=o(s);return new Ri(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uv;const Eu={};class oo{static get Default(){return ye(Eu&&$t,"ChildrenNode.ts has not been loaded"),Uv=Uv||new oo({".priority":Eu},{".priority":$t}),Uv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Wu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ri?n:null}hasIndex(e){return So(this.indexSet_,e.toString())}addIndex(e,n){ye(e!==$u,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ge.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let l;i?l=Dp(r,e.getCompare()):l=Eu;const c=e.toString(),f=Object.assign({},this.indexSet_);f[c]=e;const d=Object.assign({},this.indexes_);return d[c]=l,new oo(d,f)}addToIndexes(e,n){const r=Rp(this.indexes_,(i,o)=>{const s=Wu(this.indexSet_,o);if(ye(s,"Missing index implementation for "+o),i===Eu)if(s.isDefinedOn(e.node)){const l=[],c=n.getIterator(Ge.Wrap);let f=c.getNext();for(;f;)f.name!==e.name&&l.push(f),f=c.getNext();return l.push(e),Dp(l,s.getCompare())}else return Eu;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new Ge(e.name,l))),c.insert(e,e.node)}});return new oo(r,this.indexSet_)}removeFromIndexes(e,n){const r=Rp(this.indexes_,i=>{if(i===Eu)return i;{const o=n.get(e.name);return o?i.remove(new Ge(e.name,o)):i}});return new oo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;class Le{static get EMPTY_NODE(){return Dc||(Dc=new Le(new Ri(sT),null,oo.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tj(this.priorityNode_),this.children_.isEmpty()&&ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dc}updatePriority(e){return this.children_.isEmpty()?this:new Le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Dc:n}}getChild(e){const n=Ke(e);return n===null?this:this.getImmediateChild(n).getChild(Tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ye(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ge(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Dc:this.priorityNode_;return new Le(i,s,o)}}updateChild(e,n){const r=Ke(e);if(r===null)return n;{ye(Ke(e)!==".priority"||ha(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Tt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild($t,(s,l)=>{n[s]=l.val(e),r++,o&&Le.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const l in n)s[l]=n[l];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ej(this.getPriority().val())+":"),this.forEachChild($t,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":PD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Ge(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ge(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ge(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ge.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ge.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gh?-1:0}withIndex(e){if(e===$u||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$u||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator($t),i=n.getIterator($t);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===$u?null:this.indexMap_.get(e.toString())}}Le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dU extends Le{constructor(){super(new Ri(sT),Le.EMPTY_NODE,oo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Le.EMPTY_NODE}isEmpty(){return!1}}const gh=new dU;Object.defineProperties(Ge,{MIN:{value:new Ge(Gu,Le.EMPTY_NODE)},MAX:{value:new Ge(vs,gh)}});ZD.__EMPTY_NODE=Le.EMPTY_NODE;hn.__childrenNodeConstructor=Le;sU(gh);lU(gh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=!0;function Dn(t,e=null){if(t===null)return Le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ye(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new hn(n,Dn(e))}if(!(t instanceof Array)&&pU){const n=[];let r=!1;if(or(t,(s,l)=>{if(s.substring(0,1)!=="."){const c=Dn(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ge(s,c)))}}),n.length===0)return Le.EMPTY_NODE;const o=Dp(n,aU,s=>s.name,sT);if(r){const s=Dp(n,$t.getCompare());return new Le(o,Dn(e),new oo({".priority":s},{".priority":$t}))}else return new Le(o,Dn(e),oo.Default)}else{let n=Le.EMPTY_NODE;return or(t,(r,i)=>{if(So(t,r)&&r.substring(0,1)!=="."){const o=Dn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Dn(e))}}uU(Dn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU extends Zm{constructor(e){super(),this.indexPath_=e,ye(!Qe(e)&&Ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Il(e.name,n.name):o}makePost(e,n){const r=Dn(e),i=Le.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ge(n,i)}maxPost(){const e=Le.EMPTY_NODE.updateChild(this.indexPath_,gh);return new Ge(vs,e)}toString(){return YD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU extends Zm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Il(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ge.MIN}maxPost(){return Ge.MAX}makePost(e,n){const r=Dn(e);return new Ge(n,r)}toString(){return".value"}}const yU=new gU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){return{type:"value",snapshotNode:t}}function Ku(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function wf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function bf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function vU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){ye(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(wf(n,l)):ye(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(Ku(n,r)):s.trackChildChange(bf(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild($t,(i,o)=>{n.hasChild(i)||r.trackChildChange(wf(i,o))}),n.isLeafNode()||n.forEachChild($t,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(bf(i,o,s))}else r.trackChildChange(Ku(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.indexedFilter_=new uT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ef.getStartPost_(e),this.endPost_=Ef.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Ge(n,r))||(r=Le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Le.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Le.EMPTY_NODE);const o=this;return n.forEachChild($t,(s,l)=>{o.matches(new Ge(s,l))||(i=i.updateImmediateChild(s,Le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ef(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Ge(n,r))||(r=Le.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Le.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Le.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const l=o.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:i=i.updateImmediateChild(l.name,Le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const p=this.index_.getCompare();s=(y,_)=>p(_,y)}else s=this.index_.getCompare();const l=e;ye(l.numChildren()===this.limit_,"");const c=new Ge(n,r),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(l.hasChild(n)){const p=l.getImmediateChild(n);let y=i.getChildAfterChild(this.index_,f,this.reverse_);for(;y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const _=y==null?1:s(y,c);if(d&&!r.isEmpty()&&_>=0)return o!=null&&o.trackChildChange(bf(n,r,p)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(wf(n,p));const S=l.updateImmediateChild(n,Le.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o!=null&&o.trackChildChange(Ku(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}}else return r.isEmpty()?e:d&&s(f,c)>=0?(o!=null&&(o.trackChildChange(wf(f.name,f.node)),o.trackChildChange(Ku(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(f.name,Le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$t}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gu}hasEnd(){return this.endSet_}getIndexEndValue(){return ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$t}copy(){const e=new lT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wU(t){return t.loadsAllData()?new uT(t.getIndex()):t.hasLimit()?new _U(t):new Ef(t)}function oI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===$t?n="$priority":t.index_===yU?n="$value":t.index_===$u?n="$key":(ye(t.index_ instanceof mU,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=mn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=mn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+mn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=mn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+mn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function aI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==$t&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends GD{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ye(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ph("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=jp.getListenId_(e,r),l={};this.listens_[s]=l;const c=oI(e._queryParams);this.restRequest_(o+".json",c,(f,d)=>{let p=d;if(f===404&&(p=null,f=null),f===null&&this.onDataUpdate_(o,p,!1,r),Wu(this.listens_,s)===l){let y;f?f===401?y="permission_denied":y="rest_error:"+f:y="ok",i(y,null)}})}unlisten(e,n){const r=jp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=oI(e._queryParams),r=e._path.toString(),i=new JE;return this.restRequest_(r+".json",n,(o,s)=>{let l=s;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Yq(n);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=gf(l.responseText)}catch{Sr("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Sr("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.rootNode_=Le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){return{value:null,children:new Map}}function oj(t,e,n){if(Qe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ke(e);t.children.has(r)||t.children.set(r,Lp());const i=t.children.get(r);e=Tt(e),oj(i,e,n)}}function a1(t,e,n){t.value!==null?n(e,t.value):EU(t,(r,i)=>{const o=new yt(e.toString()+"/"+r);a1(i,o,n)})}function EU(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&or(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=10*1e3,SU=30*1e3,xU=5*60*1e3;class AU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new TU(e);const r=sI+(SU-sI)*Math.random();rf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;or(e,(i,o)=>{o>0&&So(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),rf(this.reportStats_.bind(this),Math.floor(Math.random()*2*xU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(hi||(hi={}));function aj(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=hi.ACK_USER_WRITE,this.source=aj()}operationForChild(e){if(Qe(this.path)){if(this.affectedTree.value!=null)return ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new yt(e));return new $p(lt(),n,this.revert)}}else return ye(Ke(this.path)===e,"operationForChild called for unrelated child."),new $p(Tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.source=e,this.path=n,this.type=hi.LISTEN_COMPLETE}operationForChild(e){return Qe(this.path)?new Tf(this.source,lt()):new Tf(this.source,Tt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=hi.OVERWRITE}operationForChild(e){return Qe(this.path)?new _s(this.source,lt(),this.snap.getImmediateChild(e)):new _s(this.source,Tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=hi.MERGE}operationForChild(e){if(Qe(this.path)){const n=this.children.subtree(new yt(e));return n.isEmpty()?null:n.value?new _s(this.source,lt(),n.value):new Sf(this.source,lt(),n)}else return ye(Ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Sf(this.source,Tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Qe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ke(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function IU(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(vU(s.childName,s.snapshotNode))}),jc(t,i,"child_removed",e,r,n),jc(t,i,"child_added",e,r,n),jc(t,i,"child_moved",o,r,n),jc(t,i,"child_changed",e,r,n),jc(t,i,"value",e,r,n),i}function jc(t,e,n,r,i,o){const s=r.filter(l=>l.type===n);s.sort((l,c)=>OU(t,l,c)),s.forEach(l=>{const c=CU(t,l,o);i.forEach(f=>{f.respondsTo(l.type)&&e.push(f.createEvent(c,t.query_))})})}function CU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function OU(t,e,n){if(e.childName==null||n.childName==null)throw Al("Should only compare child_ events.");const r=new Ge(e.childName,e.snapshotNode),i=new Ge(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e){return{eventCache:t,serverCache:e}}function of(t,e,n,r){return eg(new ws(e,n,r),t.serverCache)}function sj(t,e,n,r){return eg(t.eventCache,new ws(e,n,r))}function s1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zv;const RU=()=>(zv||(zv=new Ri(gB)),zv);class It{static fromObject(e){let n=new It(null);return or(e,(r,i)=>{n=n.set(new yt(r),i)}),n}constructor(e,n=RU()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:lt(),value:this.value};if(Qe(e))return null;{const r=Ke(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Tt(e),n);return o!=null?{path:nn(new yt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Qe(e))return this;{const n=Ke(e),r=this.children.get(n);return r!==null?r.subtree(Tt(e)):new It(null)}}set(e,n){if(Qe(e))return new It(n,this.children);{const r=Ke(e),o=(this.children.get(r)||new It(null)).set(Tt(e),n),s=this.children.insert(r,o);return new It(this.value,s)}}remove(e){if(Qe(e))return this.children.isEmpty()?new It(null):new It(null,this.children);{const n=Ke(e),r=this.children.get(n);if(r){const i=r.remove(Tt(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new It(null):new It(this.value,o)}else return this}}get(e){if(Qe(e))return this.value;{const n=Ke(e),r=this.children.get(n);return r?r.get(Tt(e)):null}}setTree(e,n){if(Qe(e))return n;{const r=Ke(e),o=(this.children.get(r)||new It(null)).setTree(Tt(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new It(this.value,s)}}fold(e){return this.fold_(lt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(nn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,lt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Qe(e))return null;{const o=Ke(e),s=this.children.get(o);return s?s.findOnPath_(Tt(e),nn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,lt(),n)}foreachOnPath_(e,n,r){if(Qe(e))return this;{this.value&&r(n,this.value);const i=Ke(e),o=this.children.get(i);return o?o.foreachOnPath_(Tt(e),nn(n,i),r):new It(null)}}foreach(e){this.foreach_(lt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(nn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.writeTree_=e}static empty(){return new mi(new It(null))}}function af(t,e,n){if(Qe(e))return new mi(new It(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=tr(i,e);return o=o.updateChild(s,n),new mi(t.writeTree_.set(i,o))}else{const i=new It(n),o=t.writeTree_.setTree(e,i);return new mi(o)}}}function uI(t,e,n){let r=t;return or(n,(i,o)=>{r=af(r,nn(e,i),o)}),r}function lI(t,e){if(Qe(e))return mi.empty();{const n=t.writeTree_.setTree(e,new It(null));return new mi(n)}}function u1(t,e){return Ps(t,e)!=null}function Ps(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(tr(n.path,e)):null}function cI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($t,(r,i)=>{e.push(new Ge(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ge(r,i.value))}),e}function ua(t,e){if(Qe(e))return t;{const n=Ps(t,e);return n!=null?new mi(new It(n)):new mi(t.writeTree_.subtree(e))}}function l1(t){return t.writeTree_.isEmpty()}function Qu(t,e){return uj(lt(),t.writeTree_,e)}function uj(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ye(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=uj(nn(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e){return hj(e,t)}function kU(t,e,n,r,i){ye(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=af(t.visibleWrites,e,n)),t.lastWriteId=r}function NU(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function MU(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);ye(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const l=t.allWrites[s];l.visible&&(s>=n&&DU(l,r.path)?i=!1:fi(r.path,l.path)&&(o=!0)),s--}if(i){if(o)return jU(t),!0;if(r.snap)t.visibleWrites=lI(t.visibleWrites,r.path);else{const l=r.children;or(l,c=>{t.visibleWrites=lI(t.visibleWrites,nn(r.path,c))})}return!0}else return!1}function DU(t,e){if(t.snap)return fi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fi(nn(t.path,n),e))return!0;return!1}function jU(t){t.visibleWrites=lj(t.allWrites,LU,lt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function LU(t){return t.visible}function lj(t,e,n){let r=mi.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let l;if(o.snap)fi(n,s)?(l=tr(n,s),r=af(r,l,o.snap)):fi(s,n)&&(l=tr(s,n),r=af(r,lt(),o.snap.getChild(l)));else if(o.children){if(fi(n,s))l=tr(n,s),r=uI(r,l,o.children);else if(fi(s,n))if(l=tr(s,n),Qe(l))r=uI(r,lt(),o.children);else{const c=Wu(o.children,Ke(l));if(c){const f=c.getChild(Tt(l));r=af(r,lt(),f)}}}else throw Al("WriteRecord should have .snap or .children")}}return r}function cj(t,e,n,r,i){if(!r&&!i){const o=Ps(t.visibleWrites,e);if(o!=null)return o;{const s=ua(t.visibleWrites,e);if(l1(s))return n;if(n==null&&!u1(s,lt()))return null;{const l=n||Le.EMPTY_NODE;return Qu(s,l)}}}else{const o=ua(t.visibleWrites,e);if(!i&&l1(o))return n;if(!i&&n==null&&!u1(o,lt()))return null;{const s=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(fi(f.path,e)||fi(e,f.path))},l=lj(t.allWrites,s,e),c=n||Le.EMPTY_NODE;return Qu(l,c)}}}function $U(t,e,n){let r=Le.EMPTY_NODE;const i=Ps(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild($t,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=ua(t.visibleWrites,e);return n.forEachChild($t,(s,l)=>{const c=Qu(ua(o,new yt(s)),l);r=r.updateImmediateChild(s,c)}),cI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=ua(t.visibleWrites,e);return cI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function VU(t,e,n,r,i){ye(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=nn(e,n);if(u1(t.visibleWrites,o))return null;{const s=ua(t.visibleWrites,o);return l1(s)?i.getChild(n):Qu(s,i.getChild(n))}}function FU(t,e,n,r){const i=nn(e,n),o=Ps(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=ua(t.visibleWrites,i);return Qu(s,r.getNode().getImmediateChild(n))}else return null}function qU(t,e){return Ps(t.visibleWrites,e)}function BU(t,e,n,r,i,o,s){let l;const c=ua(t.visibleWrites,e),f=Ps(c,lt());if(f!=null)l=f;else if(n!=null)l=Qu(c,n);else return[];if(l=l.withIndex(s),!l.isEmpty()&&!l.isLeafNode()){const d=[],p=s.getCompare(),y=o?l.getReverseIteratorFrom(r,s):l.getIteratorFrom(r,s);let _=y.getNext();for(;_&&d.length<i;)p(_,r)!==0&&d.push(_),_=y.getNext();return d}else return[]}function UU(){return{visibleWrites:mi.empty(),allWrites:[],lastWriteId:-1}}function Vp(t,e,n,r){return cj(t.writeTree,t.treePath,e,n,r)}function dT(t,e){return $U(t.writeTree,t.treePath,e)}function fI(t,e,n,r){return VU(t.writeTree,t.treePath,e,n,r)}function Fp(t,e){return qU(t.writeTree,nn(t.treePath,e))}function zU(t,e,n,r,i,o){return BU(t.writeTree,t.treePath,e,n,r,i,o)}function pT(t,e,n){return FU(t.writeTree,t.treePath,e,n)}function fj(t,e){return hj(nn(t.treePath,e),t.writeTree)}function hj(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ye(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ye(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,bf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,wf(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ku(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,bf(r,e.snapshotNode,i.oldSnap));else throw Al("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const dj=new HU;class mT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ws(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bs(this.viewCache_),o=zU(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){return{filter:t}}function KU(t,e){ye(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ye(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QU(t,e,n,r,i){const o=new WU;let s,l;if(n.type===hi.OVERWRITE){const f=n;f.source.fromUser?s=c1(t,e,f.path,f.snap,r,i,o):(ye(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered()&&!Qe(f.path),s=qp(t,e,f.path,f.snap,r,i,l,o))}else if(n.type===hi.MERGE){const f=n;f.source.fromUser?s=XU(t,e,f.path,f.children,r,i,o):(ye(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered(),s=f1(t,e,f.path,f.children,r,i,l,o))}else if(n.type===hi.ACK_USER_WRITE){const f=n;f.revert?s=e5(t,e,f.path,r,i,o):s=JU(t,e,f.path,f.affectedTree,r,i,o)}else if(n.type===hi.LISTEN_COMPLETE)s=ZU(t,e,n.path,r,o);else throw Al("Unknown operation type: "+n.type);const c=o.getChanges();return YU(e,s,c),{viewCache:s,changes:c}}function YU(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=s1(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ij(s1(e)))}}function pj(t,e,n,r,i,o){const s=e.eventCache;if(Fp(r,n)!=null)return e;{let l,c;if(Qe(n))if(ye(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=bs(e),d=f instanceof Le?f:Le.EMPTY_NODE,p=dT(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const f=Vp(r,bs(e));l=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=Ke(n);if(f===".priority"){ye(ha(n)===1,"Can't have a priority with additional path components");const d=s.getNode();c=e.serverCache.getNode();const p=fI(r,n,d,c);p!=null?l=t.filter.updatePriority(d,p):l=s.getNode()}else{const d=Tt(n);let p;if(s.isCompleteForChild(f)){c=e.serverCache.getNode();const y=fI(r,n,s.getNode(),c);y!=null?p=s.getNode().getImmediateChild(f).updateChild(d,y):p=s.getNode().getImmediateChild(f)}else p=pT(r,f,e.serverCache);p!=null?l=t.filter.updateChild(s.getNode(),f,p,d,i,o):l=s.getNode()}}return of(e,l,s.isFullyInitialized()||Qe(n),t.filter.filtersNodes())}}function qp(t,e,n,r,i,o,s,l){const c=e.serverCache;let f;const d=s?t.filter:t.filter.getIndexedFilter();if(Qe(n))f=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(n,r);f=d.updateFullNode(c.getNode(),_,null)}else{const _=Ke(n);if(!c.isCompleteForPath(n)&&ha(n)>1)return e;const T=Tt(n),w=c.getNode().getImmediateChild(_).updateChild(T,r);_===".priority"?f=d.updatePriority(c.getNode(),w):f=d.updateChild(c.getNode(),_,w,T,dj,null)}const p=sj(e,f,c.isFullyInitialized()||Qe(n),d.filtersNodes()),y=new mT(i,p,o);return pj(t,p,n,i,y,l)}function c1(t,e,n,r,i,o,s){const l=e.eventCache;let c,f;const d=new mT(i,e,o);if(Qe(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=of(e,f,!0,t.filter.filtersNodes());else{const p=Ke(n);if(p===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),c=of(e,f,l.isFullyInitialized(),l.isFiltered());else{const y=Tt(n),_=l.getNode().getImmediateChild(p);let T;if(Qe(y))T=r;else{const S=d.getCompleteChild(p);S!=null?QD(y)===".priority"&&S.getChild(XD(y)).isEmpty()?T=S:T=S.updateChild(y,r):T=Le.EMPTY_NODE}if(_.equals(T))c=e;else{const S=t.filter.updateChild(l.getNode(),p,T,y,d,s);c=of(e,S,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function hI(t,e){return t.eventCache.isCompleteForChild(e)}function XU(t,e,n,r,i,o,s){let l=e;return r.foreach((c,f)=>{const d=nn(n,c);hI(e,Ke(d))&&(l=c1(t,l,d,f,i,o,s))}),r.foreach((c,f)=>{const d=nn(n,c);hI(e,Ke(d))||(l=c1(t,l,d,f,i,o,s))}),l}function dI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function f1(t,e,n,r,i,o,s,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,f;Qe(n)?f=r:f=new It(null).setTree(n,r);const d=e.serverCache.getNode();return f.children.inorderTraversal((p,y)=>{if(d.hasChild(p)){const _=e.serverCache.getNode().getImmediateChild(p),T=dI(t,_,y);c=qp(t,c,new yt(p),T,i,o,s,l)}}),f.children.inorderTraversal((p,y)=>{const _=!e.serverCache.isCompleteForChild(p)&&y.value===null;if(!d.hasChild(p)&&!_){const T=e.serverCache.getNode().getImmediateChild(p),S=dI(t,T,y);c=qp(t,c,new yt(p),S,i,o,s,l)}}),c}function JU(t,e,n,r,i,o,s){if(Fp(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Qe(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return qp(t,e,n,c.getNode().getChild(n),i,o,l,s);if(Qe(n)){let f=new It(null);return c.getNode().forEachChild($u,(d,p)=>{f=f.set(new yt(d),p)}),f1(t,e,n,f,i,o,l,s)}else return e}else{let f=new It(null);return r.foreach((d,p)=>{const y=nn(n,d);c.isCompleteForPath(y)&&(f=f.set(d,c.getNode().getChild(y)))}),f1(t,e,n,f,i,o,l,s)}}function ZU(t,e,n,r,i){const o=e.serverCache,s=sj(e,o.getNode(),o.isFullyInitialized()||Qe(n),o.isFiltered());return pj(t,s,n,r,dj,i)}function e5(t,e,n,r,i,o){let s;if(Fp(r,n)!=null)return e;{const l=new mT(r,e,i),c=e.eventCache.getNode();let f;if(Qe(n)||Ke(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Vp(r,bs(e));else{const p=e.serverCache.getNode();ye(p instanceof Le,"serverChildren would be complete if leaf node"),d=dT(r,p)}d=d,f=t.filter.updateFullNode(c,d,o)}else{const d=Ke(n);let p=pT(r,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),p!=null?f=t.filter.updateChild(c,d,p,Tt(n),l,o):e.eventCache.getNode().hasChild(d)?f=t.filter.updateChild(c,d,Le.EMPTY_NODE,Tt(n),l,o):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Vp(r,bs(e)),s.isLeafNode()&&(f=t.filter.updateFullNode(f,s,o)))}return s=e.serverCache.isFullyInitialized()||Fp(r,lt())!=null,of(e,f,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new uT(r.getIndex()),o=wU(r);this.processor_=GU(o);const s=n.serverCache,l=n.eventCache,c=i.updateFullNode(Le.EMPTY_NODE,s.getNode(),null),f=o.updateFullNode(Le.EMPTY_NODE,l.getNode(),null),d=new ws(c,s.isFullyInitialized(),i.filtersNodes()),p=new ws(f,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=eg(p,d),this.eventGenerator_=new PU(this.query_)}get query(){return this.query_}}function n5(t){return t.viewCache_.serverCache.getNode()}function r5(t,e){const n=bs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Qe(e)&&!n.getImmediateChild(Ke(e)).isEmpty())?n.getChild(e):null}function pI(t){return t.eventRegistrations_.length===0}function i5(t,e){t.eventRegistrations_.push(e)}function mI(t,e,n){const r=[];if(n){ye(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function gI(t,e,n,r){e.type===hi.MERGE&&e.source.queryId!==null&&(ye(bs(t.viewCache_),"We should always have a full cache before handling merges"),ye(s1(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=QU(t.processor_,i,e,n,r);return KU(t.processor_,o.viewCache),ye(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,mj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function o5(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($t,(o,s)=>{r.push(Ku(o,s))}),n.isFullyInitialized()&&r.push(ij(n.getNode())),mj(t,r,n.getNode(),e)}function mj(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return IU(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp;class a5{constructor(){this.views=new Map}}function s5(t){ye(!Bp,"__referenceConstructor has already been defined"),Bp=t}function u5(){return ye(Bp,"Reference.ts has not been loaded"),Bp}function l5(t){return t.views.size===0}function gT(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return ye(o!=null,"SyncTree gave us an op for an invalid query."),gI(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(gI(s,e,n,r));return o}}function c5(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let l=Vp(n,i?r:null),c=!1;l?c=!0:r instanceof Le?(l=dT(n,r),c=!1):(l=Le.EMPTY_NODE,c=!1);const f=eg(new ws(l,c,!1),new ws(r,i,!1));return new t5(e,f)}return s}function f5(t,e,n,r,i,o){const s=c5(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),i5(s,n),o5(s,n)}function h5(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const l=da(t);if(i==="default")for(const[c,f]of t.views.entries())s=s.concat(mI(f,n,r)),pI(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||o.push(f.query));else{const c=t.views.get(i);c&&(s=s.concat(mI(c,n,r)),pI(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return l&&!da(t)&&o.push(new(u5())(e._repo,e._path)),{removed:o,events:s}}function gj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Vu(t,e){let n=null;for(const r of t.views.values())n=n||r5(r,e);return n}function yj(t,e){if(e._queryParams.loadsAllData())return tg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function vj(t,e){return yj(t,e)!=null}function da(t){return tg(t)!=null}function tg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up;function d5(t){ye(!Up,"__referenceConstructor has already been defined"),Up=t}function p5(){return ye(Up,"Reference.ts has not been loaded"),Up}let m5=1;class yI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new It(null),this.pendingWriteTree_=UU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function g5(t,e,n,r,i){return kU(t.pendingWriteTree_,e,n,r,i),i?yh(t,new _s(aj(),e,n)):[]}function Ru(t,e,n=!1){const r=NU(t.pendingWriteTree_,e);if(MU(t.pendingWriteTree_,e)){let o=new It(null);return r.snap!=null?o=o.set(lt(),!0):or(r.children,s=>{o=o.set(new yt(s),!0)}),yh(t,new $p(r.path,o,n))}else return[]}function ng(t,e,n){return yh(t,new _s(cT(),e,n))}function y5(t,e,n){const r=It.fromObject(n);return yh(t,new Sf(cT(),e,r))}function v5(t,e){return yh(t,new Tf(cT(),e))}function _5(t,e,n){const r=yT(t,n);if(r){const i=vT(r),o=i.path,s=i.queryId,l=tr(o,e),c=new Tf(fT(s),l);return _T(t,o,c)}else return[]}function h1(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let l=[];if(s&&(e._queryIdentifier==="default"||vj(s,e))){const c=h5(s,e,n,r);l5(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=c.removed;if(l=c.events,!i){const d=f.findIndex(y=>y._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(o,(y,_)=>da(_));if(d&&!p){const y=t.syncPointTree_.subtree(o);if(!y.isEmpty()){const _=E5(y);for(let T=0;T<_.length;++T){const S=_[T],w=S.query,O=Ej(t,S);t.listenProvider_.startListening(sf(w),zp(t,w),O.hashFn,O.onComplete)}}}!p&&f.length>0&&!r&&(d?t.listenProvider_.stopListening(sf(e),null):f.forEach(y=>{const _=t.queryToTagMap.get(rg(y));t.listenProvider_.stopListening(sf(y),_)}))}T5(t,f)}return l}function w5(t,e,n,r){const i=yT(t,r);if(i!=null){const o=vT(i),s=o.path,l=o.queryId,c=tr(s,e),f=new _s(fT(l),c,n);return _T(t,s,f)}else return[]}function b5(t,e,n,r){const i=yT(t,r);if(i){const o=vT(i),s=o.path,l=o.queryId,c=tr(s,e),f=It.fromObject(n),d=new Sf(fT(l),c,f);return _T(t,s,d)}else return[]}function vI(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(y,_)=>{const T=tr(y,i);o=o||Vu(_,T),s=s||da(_)});let l=t.syncPointTree_.get(i);l?(s=s||da(l),o=o||Vu(l,lt())):(l=new a5,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;o!=null?c=!0:(c=!1,o=Le.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,T)=>{const S=Vu(T,lt());S&&(o=o.updateImmediateChild(_,S))}));const f=vj(l,e);if(!f&&!e._queryParams.loadsAllData()){const y=rg(e);ye(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const _=S5();t.queryToTagMap.set(y,_),t.tagToQueryMap.set(_,y)}const d=hT(t.pendingWriteTree_,i);let p=f5(l,e,n,d,o,c);if(!f&&!s&&!r){const y=yj(l,e);p=p.concat(x5(t,e,y))}return p}function _j(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,l)=>{const c=tr(s,e),f=Vu(l,c);if(f)return f});return cj(i,e,o,n,!0)}function yh(t,e){return wj(e,t.syncPointTree_,null,hT(t.pendingWriteTree_,lt()))}function wj(t,e,n,r){if(Qe(t.path))return bj(t,e,n,r);{const i=e.get(lt());n==null&&i!=null&&(n=Vu(i,lt()));let o=[];const s=Ke(t.path),l=t.operationForChild(s),c=e.children.get(s);if(c&&l){const f=n?n.getImmediateChild(s):null,d=fj(r,s);o=o.concat(wj(l,c,f,d))}return i&&(o=o.concat(gT(i,t,r,n))),o}}function bj(t,e,n,r){const i=e.get(lt());n==null&&i!=null&&(n=Vu(i,lt()));let o=[];return e.children.inorderTraversal((s,l)=>{const c=n?n.getImmediateChild(s):null,f=fj(r,s),d=t.operationForChild(s);d&&(o=o.concat(bj(d,l,c,f)))}),i&&(o=o.concat(gT(i,t,r,n))),o}function Ej(t,e){const n=e.query,r=zp(t,n);return{hashFn:()=>(n5(e)||Le.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?_5(t,n._path,r):v5(t,n._path);{const o=_B(i,n);return h1(t,n,null,o)}}}}function zp(t,e){const n=rg(e);return t.queryToTagMap.get(n)}function rg(t){return t._path.toString()+"$"+t._queryIdentifier}function yT(t,e){return t.tagToQueryMap.get(e)}function vT(t){const e=t.indexOf("$");return ye(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new yt(t.substr(0,e))}}function _T(t,e,n){const r=t.syncPointTree_.get(e);ye(r,"Missing sync point for query tag that we're tracking");const i=hT(t.pendingWriteTree_,e);return gT(r,n,i,null)}function E5(t){return t.fold((e,n,r)=>{if(n&&da(n))return[tg(n)];{let i=[];return n&&(i=gj(n)),or(r,(o,s)=>{i=i.concat(s)}),i}})}function sf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(p5())(t._repo,t._path):t}function T5(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=rg(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function S5(){return m5++}function x5(t,e,n){const r=e._path,i=zp(t,e),o=Ej(t,n),s=t.listenProvider_.startListening(sf(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(i)ye(!da(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((f,d,p)=>{if(!Qe(f)&&d&&da(d))return[tg(d).query];{let y=[];return d&&(y=y.concat(gj(d).map(_=>_.query))),or(p,(_,T)=>{y=y.concat(T)}),y}});for(let f=0;f<c.length;++f){const d=c[f];t.listenProvider_.stopListening(sf(d),zp(t,d))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new wT(n)}node(){return this.node_}}class bT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nn(this.path_,e);return new bT(this.syncTree_,n)}node(){return _j(this.syncTree_,this.path_)}}const A5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_I=function(t,e,n){if(!t||typeof t!="object")return t;if(ye(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return P5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return I5(t[".sv"],e);ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},P5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ye(!1,"Unexpected server value: "+t)}},I5=function(t,e,n){t.hasOwnProperty("increment")||ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ye(!1,"Unexpected increment value: "+r);const i=e.node();if(ye(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},C5=function(t,e,n,r){return ET(e,new bT(n,t),r)},O5=function(t,e,n){return ET(t,new wT(e),n)};function ET(t,e,n){const r=t.getPriority().val(),i=_I(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,l=_I(s.getValue(),e,n);return l!==s.getValue()||i!==s.getPriority().val()?new hn(l,Dn(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new hn(i))),s.forEachChild($t,(l,c)=>{const f=ET(c,e.getImmediateChild(l),n);f!==c&&(o=o.updateImmediateChild(l,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ST(t,e){let n=e instanceof yt?e:new yt(e),r=t,i=Ke(n);for(;i!==null;){const o=Wu(r.node.children,i)||{children:{},childCount:0};r=new TT(i,r,o),n=Tt(n),i=Ke(n)}return r}function Cl(t){return t.node.value}function Tj(t,e){t.node.value=e,d1(t)}function Sj(t){return t.node.childCount>0}function R5(t){return Cl(t)===void 0&&!Sj(t)}function ig(t,e){or(t.node.children,(n,r)=>{e(new TT(n,t,r))})}function xj(t,e,n,r){n&&!r&&e(t),ig(t,i=>{xj(i,e,!0,r)}),n&&r&&e(t)}function k5(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vh(t){return new yt(t.parent===null?t.name:vh(t.parent)+"/"+t.name)}function d1(t){t.parent!==null&&N5(t.parent,t.name,t)}function N5(t,e,n){const r=R5(n),i=So(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,d1(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,d1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=/[\[\].#$\/\u0000-\u001F\u007F]/,D5=/[\[\].#$\u0000-\u001F\u007F]/,Wv=10*1024*1024,Aj=function(t){return typeof t=="string"&&t.length!==0&&!M5.test(t)},Pj=function(t){return typeof t=="string"&&t.length!==0&&!D5.test(t)},j5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Pj(t)},Ij=function(t,e,n){const r=n instanceof yt?new JB(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+rs(r));if(typeof e=="function")throw new Error(t+"contains a function "+rs(r)+" with contents = "+e.toString());if(ID(e))throw new Error(t+"contains "+e.toString()+" "+rs(r));if(typeof e=="string"&&e.length>Wv/3&&Jm(e)>Wv)throw new Error(t+"contains a string greater than "+Wv+" utf8 bytes "+rs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(or(e,(s,l)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Aj(s)))throw new Error(t+" contains an invalid key ("+s+") "+rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZB(r,s),Ij(t,l,r),eU(r)}),i&&o)throw new Error(t+' contains ".value" child '+rs(r)+" in addition to actual children.")}},Cj=function(t,e,n,r){if(!Pj(n))throw new Error(gD(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},L5=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cj(t,e,n)},$5=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Aj(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!j5(n))throw new Error(gD(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Oj(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!oT(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Rj(t,e,n){Oj(t,n),kj(t,r=>oT(r,e))}function Is(t,e,n){Oj(t,n),kj(t,r=>fi(r,e)||fi(e,r))}function kj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(F5(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function F5(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();nf&&Mn("event: "+n.toString()),mh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="repo_interrupt",B5=25;class U5{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new V5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lp(),this.transactionQueueTree_=new TT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function z5(t,e,n){if(t.stats_=rT(t.repoInfo_),t.forceRestClient_||TB())t.server_=new jp(t.repoInfo_,(r,i,o,s)=>{wI(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>bI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new lo(t.repoInfo_,e,(r,i,o,s)=>{wI(t,r,i,o,s)},r=>{bI(t,r)},r=>{H5(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=IB(t.repoInfo_,()=>new AU(t.stats_,t.server_)),t.infoData_=new bU,t.infoSyncTree_=new yI({startListening:(r,i,o,s)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=ng(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),xT(t,"connected",!1),t.serverSyncTree_=new yI({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(l,c)=>{const f=s(l,c);Is(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function W5(t){const n=t.infoData_.getNode(new yt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Nj(t){return A5({timestamp:W5(t)})}function wI(t,e,n,r,i){t.dataUpdateCount++;const o=new yt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const c=Rp(n,f=>Dn(f));s=b5(t.serverSyncTree_,o,c,i)}else{const c=Dn(n);s=w5(t.serverSyncTree_,o,c,i)}else if(r){const c=Rp(n,f=>Dn(f));s=y5(t.serverSyncTree_,o,c)}else{const c=Dn(n);s=ng(t.serverSyncTree_,o,c)}let l=o;s.length>0&&(l=PT(t,o)),Is(t.eventQueue_,l,s)}function bI(t,e){xT(t,"connected",e),e===!1&&K5(t)}function H5(t,e){or(e,(n,r)=>{xT(t,n,r)})}function xT(t,e,n){const r=new yt("/.info/"+e),i=Dn(n);t.infoData_.updateSnapshot(r,i);const o=ng(t.infoSyncTree_,r,i);Is(t.eventQueue_,r,o)}function G5(t){return t.nextWriteId_++}function K5(t){Mj(t,"onDisconnectEvents");const e=Nj(t),n=Lp();a1(t.onDisconnect_,lt(),(i,o)=>{const s=C5(i,o,t.serverSyncTree_,e);oj(n,i,s)});let r=[];a1(n,lt(),(i,o)=>{r=r.concat(ng(t.serverSyncTree_,i,o));const s=e9(t,i);PT(t,s)}),t.onDisconnect_=Lp(),Is(t.eventQueue_,lt(),r)}function Q5(t,e,n){let r;Ke(e._path)===".info"?r=vI(t.infoSyncTree_,e,n):r=vI(t.serverSyncTree_,e,n),Rj(t.eventQueue_,e._path,r)}function Y5(t,e,n){let r;Ke(e._path)===".info"?r=h1(t.infoSyncTree_,e,n):r=h1(t.serverSyncTree_,e,n),Rj(t.eventQueue_,e._path,r)}function X5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(q5)}function Mj(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Mn(n,...e)}function Dj(t,e,n){return _j(t.serverSyncTree_,e,n)||Le.EMPTY_NODE}function AT(t,e=t.transactionQueueTree_){if(e||og(t,e),Cl(e)){const n=Lj(t,e);ye(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&J5(t,vh(e),n)}else Sj(e)&&ig(e,n=>{AT(t,n)})}function J5(t,e,n){const r=n.map(f=>f.currentWriteId),i=Dj(t,e,r);let o=i;const s=i.hash();for(let f=0;f<n.length;f++){const d=n[f];ye(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=tr(e,d.path);o=o.updateChild(p,d.currentOutputSnapshotRaw)}const l=o.val(!0),c=e;t.server_.put(c.toString(),l,f=>{Mj(t,"transaction put response",{path:c.toString(),status:f});let d=[];if(f==="ok"){const p=[];for(let y=0;y<n.length;y++)n[y].status=2,d=d.concat(Ru(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&p.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();og(t,ST(t.transactionQueueTree_,e)),AT(t,t.transactionQueueTree_),Is(t.eventQueue_,e,d);for(let y=0;y<p.length;y++)mh(p[y])}else{if(f==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Sr("transaction at "+c.toString()+" failed: "+f);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=f}PT(t,e)}},s)}function PT(t,e){const n=jj(t,e),r=vh(n),i=Lj(t,n);return Z5(t,i,r),r}function Z5(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],f=tr(n,c.path);let d=!1,p;if(ye(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,p=c.abortReason,i=i.concat(Ru(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=B5)d=!0,p="maxretry",i=i.concat(Ru(t.serverSyncTree_,c.currentWriteId,!0));else{const y=Dj(t,c.path,s);c.currentInputSnapshot=y;const _=e[l].update(y.val());if(_!==void 0){Ij("transaction failed: Data returned ",_,c.path);let T=Dn(_);typeof _=="object"&&_!=null&&So(_,".priority")||(T=T.updatePriority(y.getPriority()));const w=c.currentWriteId,O=Nj(t),M=O5(T,y,O);c.currentOutputSnapshotRaw=T,c.currentOutputSnapshotResolved=M,c.currentWriteId=G5(t),s.splice(s.indexOf(w),1),i=i.concat(g5(t.serverSyncTree_,c.path,M,c.currentWriteId,c.applyLocally)),i=i.concat(Ru(t.serverSyncTree_,w,!0))}else d=!0,p="nodata",i=i.concat(Ru(t.serverSyncTree_,c.currentWriteId,!0))}Is(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(y){setTimeout(y,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(p),!1,null))))}og(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)mh(r[l]);AT(t,t.transactionQueueTree_)}function jj(t,e){let n,r=t.transactionQueueTree_;for(n=Ke(e);n!==null&&Cl(r)===void 0;)r=ST(r,n),e=Tt(e),n=Ke(e);return r}function Lj(t,e){const n=[];return $j(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $j(t,e,n){const r=Cl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ig(e,i=>{$j(t,i,n)})}function og(t,e){const n=Cl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Tj(e,n.length>0?n:void 0)}ig(e,r=>{og(t,r)})}function e9(t,e){const n=vh(jj(t,e)),r=ST(t.transactionQueueTree_,e);return k5(r,i=>{Hv(t,i)}),Hv(t,r),xj(r,i=>{Hv(t,i)}),n}function Hv(t,e){const n=Cl(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ye(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ye(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ru(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Tj(e,void 0):n.length=o+1,Is(t.eventQueue_,vh(e),i);for(let s=0;s<r.length;s++)mh(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function n9(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Sr(`Invalid query segment '${n}' in query '${t}'`)}return e}const EI=function(t,e){const n=r9(t),r=n.namespace;n.domain==="firebase.com"&&yo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&yo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||pB();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new FD(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new yt(n.pathString)}},r9=function(t){let e="",n="",r="",i="",o="",s=!0,l="https",c=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(l=t.substring(0,f-1),t=t.substring(f+2));let d=t.indexOf("/");d===-1&&(d=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(d,p)),d<p&&(i=t9(t.substring(d,p)));const y=n9(t.substring(Math.min(t.length,p)));f=e.indexOf(":"),f>=0?(s=l==="https"||l==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;const _=e.slice(0,f);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mn(this.snapshot.exportVal())}}class o9{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ye(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Qe(this._path)?null:QD(this._path)}get ref(){return new wa(this._repo,this._path)}get _queryIdentifier(){const e=aI(this._queryParams),n=tT(e);return n==="{}"?"default":n}get _queryObject(){return aI(this._queryParams)}isEqual(e){if(e=ir(e),!(e instanceof IT))return!1;const n=this._repo===e._repo,r=oT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+XB(this._path)}}class wa extends IT{constructor(e,n){super(e,n,new lT,!1)}get parent(){const e=XD(this._path);return e===null?null:new wa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Wp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new yt(e),r=TI(this.ref,e);return new Wp(this._node.getChild(n),r,$t)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Wp(i,TI(this.ref,r),$t)))}hasChild(e){const n=new yt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function s9(t,e){return t=ir(t),t._checkNotDeleted("ref"),t._root}function TI(t,e){return t=ir(t),Ke(t._path)===null?L5("child","path",e):Cj("child","path",e),new wa(t._repo,nn(t._path,e))}class CT{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new i9("value",this,new Wp(e.snapshotNode,new wa(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new o9(this,e,n):null}matches(e){return e instanceof CT?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function u9(t,e,n,r,i){const o=new a9(n,void 0),s=new CT(o);return Q5(t._repo,t,s),()=>Y5(t._repo,t,s)}function l9(t,e,n,r){return u9(t,"value",e)}s5(wa);d5(wa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="FIREBASE_DATABASE_EMULATOR_HOST",p1={};let f9=!1;function h9(t,e,n,r){t.repoInfo_=new FD(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function d9(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||yo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=EI(o,i),l=s.repoInfo,c;typeof process<"u"&&BP&&(c=BP[c9]),c?(o=`http://${c}?ns=${l.namespace}`,s=EI(o,i),l=s.repoInfo):s.repoInfo.secure;const f=new xB(t.name,t.options,e);$5("Invalid Firebase Database URL",s),Qe(s.path)||yo("Database URL must point to the root of a Firebase Database (not including a child path).");const d=m9(l,t,f,new SB(t.name,n));return new g9(d,t)}function p9(t,e){const n=p1[e];(!n||n[t.key]!==t)&&yo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),X5(t),delete n[t.key]}function m9(t,e,n,r){let i=p1[e.name];i||(i={},p1[e.name]=i);let o=i[t.toURLString()];return o&&yo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new U5(t,f9,n,r),i[t.toURLString()]=o,o}class g9{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(z5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wa(this._repo,lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(p9(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yo("Cannot call "+e+" on a deleted database.")}}function y9(t=ED(),e){const n=_D(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=uD("database");r&&v9(n,...r)}return n}function v9(t,e,n,r={}){t=ir(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&yo("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&yo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new wp(wp.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:cD(r.mockUserToken,t.app.options.projectId);o=new wp(s)}h9(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){uB(wD),yf(new Hu("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return d9(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),sa(UP,zP,t),sa(UP,zP,"esm2017")}lo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};lo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_9();var SI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,Vj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,P){function C(){}C.prototype=P.prototype,x.D=P.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(V,D,$){for(var j=Array(arguments.length-2),X=2;X<arguments.length;X++)j[X-2]=arguments[X];return P.prototype[D].apply(V,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,P,C){C||(C=0);var V=Array(16);if(typeof P=="string")for(var D=0;16>D;++D)V[D]=P.charCodeAt(C++)|P.charCodeAt(C++)<<8|P.charCodeAt(C++)<<16|P.charCodeAt(C++)<<24;else for(D=0;16>D;++D)V[D]=P[C++]|P[C++]<<8|P[C++]<<16|P[C++]<<24;P=x.g[0],C=x.g[1],D=x.g[2];var $=x.g[3],j=P+($^C&(D^$))+V[0]+3614090360&4294967295;P=C+(j<<7&4294967295|j>>>25),j=$+(D^P&(C^D))+V[1]+3905402710&4294967295,$=P+(j<<12&4294967295|j>>>20),j=D+(C^$&(P^C))+V[2]+606105819&4294967295,D=$+(j<<17&4294967295|j>>>15),j=C+(P^D&($^P))+V[3]+3250441966&4294967295,C=D+(j<<22&4294967295|j>>>10),j=P+($^C&(D^$))+V[4]+4118548399&4294967295,P=C+(j<<7&4294967295|j>>>25),j=$+(D^P&(C^D))+V[5]+1200080426&4294967295,$=P+(j<<12&4294967295|j>>>20),j=D+(C^$&(P^C))+V[6]+2821735955&4294967295,D=$+(j<<17&4294967295|j>>>15),j=C+(P^D&($^P))+V[7]+4249261313&4294967295,C=D+(j<<22&4294967295|j>>>10),j=P+($^C&(D^$))+V[8]+1770035416&4294967295,P=C+(j<<7&4294967295|j>>>25),j=$+(D^P&(C^D))+V[9]+2336552879&4294967295,$=P+(j<<12&4294967295|j>>>20),j=D+(C^$&(P^C))+V[10]+4294925233&4294967295,D=$+(j<<17&4294967295|j>>>15),j=C+(P^D&($^P))+V[11]+2304563134&4294967295,C=D+(j<<22&4294967295|j>>>10),j=P+($^C&(D^$))+V[12]+1804603682&4294967295,P=C+(j<<7&4294967295|j>>>25),j=$+(D^P&(C^D))+V[13]+4254626195&4294967295,$=P+(j<<12&4294967295|j>>>20),j=D+(C^$&(P^C))+V[14]+2792965006&4294967295,D=$+(j<<17&4294967295|j>>>15),j=C+(P^D&($^P))+V[15]+1236535329&4294967295,C=D+(j<<22&4294967295|j>>>10),j=P+(D^$&(C^D))+V[1]+4129170786&4294967295,P=C+(j<<5&4294967295|j>>>27),j=$+(C^D&(P^C))+V[6]+3225465664&4294967295,$=P+(j<<9&4294967295|j>>>23),j=D+(P^C&($^P))+V[11]+643717713&4294967295,D=$+(j<<14&4294967295|j>>>18),j=C+($^P&(D^$))+V[0]+3921069994&4294967295,C=D+(j<<20&4294967295|j>>>12),j=P+(D^$&(C^D))+V[5]+3593408605&4294967295,P=C+(j<<5&4294967295|j>>>27),j=$+(C^D&(P^C))+V[10]+38016083&4294967295,$=P+(j<<9&4294967295|j>>>23),j=D+(P^C&($^P))+V[15]+3634488961&4294967295,D=$+(j<<14&4294967295|j>>>18),j=C+($^P&(D^$))+V[4]+3889429448&4294967295,C=D+(j<<20&4294967295|j>>>12),j=P+(D^$&(C^D))+V[9]+568446438&4294967295,P=C+(j<<5&4294967295|j>>>27),j=$+(C^D&(P^C))+V[14]+3275163606&4294967295,$=P+(j<<9&4294967295|j>>>23),j=D+(P^C&($^P))+V[3]+4107603335&4294967295,D=$+(j<<14&4294967295|j>>>18),j=C+($^P&(D^$))+V[8]+1163531501&4294967295,C=D+(j<<20&4294967295|j>>>12),j=P+(D^$&(C^D))+V[13]+2850285829&4294967295,P=C+(j<<5&4294967295|j>>>27),j=$+(C^D&(P^C))+V[2]+4243563512&4294967295,$=P+(j<<9&4294967295|j>>>23),j=D+(P^C&($^P))+V[7]+1735328473&4294967295,D=$+(j<<14&4294967295|j>>>18),j=C+($^P&(D^$))+V[12]+2368359562&4294967295,C=D+(j<<20&4294967295|j>>>12),j=P+(C^D^$)+V[5]+4294588738&4294967295,P=C+(j<<4&4294967295|j>>>28),j=$+(P^C^D)+V[8]+2272392833&4294967295,$=P+(j<<11&4294967295|j>>>21),j=D+($^P^C)+V[11]+1839030562&4294967295,D=$+(j<<16&4294967295|j>>>16),j=C+(D^$^P)+V[14]+4259657740&4294967295,C=D+(j<<23&4294967295|j>>>9),j=P+(C^D^$)+V[1]+2763975236&4294967295,P=C+(j<<4&4294967295|j>>>28),j=$+(P^C^D)+V[4]+1272893353&4294967295,$=P+(j<<11&4294967295|j>>>21),j=D+($^P^C)+V[7]+4139469664&4294967295,D=$+(j<<16&4294967295|j>>>16),j=C+(D^$^P)+V[10]+3200236656&4294967295,C=D+(j<<23&4294967295|j>>>9),j=P+(C^D^$)+V[13]+681279174&4294967295,P=C+(j<<4&4294967295|j>>>28),j=$+(P^C^D)+V[0]+3936430074&4294967295,$=P+(j<<11&4294967295|j>>>21),j=D+($^P^C)+V[3]+3572445317&4294967295,D=$+(j<<16&4294967295|j>>>16),j=C+(D^$^P)+V[6]+76029189&4294967295,C=D+(j<<23&4294967295|j>>>9),j=P+(C^D^$)+V[9]+3654602809&4294967295,P=C+(j<<4&4294967295|j>>>28),j=$+(P^C^D)+V[12]+3873151461&4294967295,$=P+(j<<11&4294967295|j>>>21),j=D+($^P^C)+V[15]+530742520&4294967295,D=$+(j<<16&4294967295|j>>>16),j=C+(D^$^P)+V[2]+3299628645&4294967295,C=D+(j<<23&4294967295|j>>>9),j=P+(D^(C|~$))+V[0]+4096336452&4294967295,P=C+(j<<6&4294967295|j>>>26),j=$+(C^(P|~D))+V[7]+1126891415&4294967295,$=P+(j<<10&4294967295|j>>>22),j=D+(P^($|~C))+V[14]+2878612391&4294967295,D=$+(j<<15&4294967295|j>>>17),j=C+($^(D|~P))+V[5]+4237533241&4294967295,C=D+(j<<21&4294967295|j>>>11),j=P+(D^(C|~$))+V[12]+1700485571&4294967295,P=C+(j<<6&4294967295|j>>>26),j=$+(C^(P|~D))+V[3]+2399980690&4294967295,$=P+(j<<10&4294967295|j>>>22),j=D+(P^($|~C))+V[10]+4293915773&4294967295,D=$+(j<<15&4294967295|j>>>17),j=C+($^(D|~P))+V[1]+2240044497&4294967295,C=D+(j<<21&4294967295|j>>>11),j=P+(D^(C|~$))+V[8]+1873313359&4294967295,P=C+(j<<6&4294967295|j>>>26),j=$+(C^(P|~D))+V[15]+4264355552&4294967295,$=P+(j<<10&4294967295|j>>>22),j=D+(P^($|~C))+V[6]+2734768916&4294967295,D=$+(j<<15&4294967295|j>>>17),j=C+($^(D|~P))+V[13]+1309151649&4294967295,C=D+(j<<21&4294967295|j>>>11),j=P+(D^(C|~$))+V[4]+4149444226&4294967295,P=C+(j<<6&4294967295|j>>>26),j=$+(C^(P|~D))+V[11]+3174756917&4294967295,$=P+(j<<10&4294967295|j>>>22),j=D+(P^($|~C))+V[2]+718787259&4294967295,D=$+(j<<15&4294967295|j>>>17),j=C+($^(D|~P))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+P&4294967295,x.g[1]=x.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+$&4294967295}r.prototype.u=function(x,P){P===void 0&&(P=x.length);for(var C=P-this.blockSize,V=this.B,D=this.h,$=0;$<P;){if(D==0)for(;$<=C;)i(this,x,$),$+=this.blockSize;if(typeof x=="string"){for(;$<P;)if(V[D++]=x.charCodeAt($++),D==this.blockSize){i(this,V),D=0;break}}else for(;$<P;)if(V[D++]=x[$++],D==this.blockSize){i(this,V),D=0;break}}this.h=D,this.o+=P},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var P=1;P<x.length-8;++P)x[P]=0;var C=8*this.o;for(P=x.length-8;P<x.length;++P)x[P]=C&255,C/=256;for(this.u(x),x=Array(16),P=C=0;4>P;++P)for(var V=0;32>V;V+=8)x[C++]=this.g[P]>>>V&255;return x};function o(x,P){var C=l;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=P(x)}function s(x,P){this.h=P;for(var C=[],V=!0,D=x.length-1;0<=D;D--){var $=x[D]|0;V&&$==P||(C[D]=$,V=!1)}this.g=C}var l={};function c(x){return-128<=x&&128>x?o(x,function(P){return new s([P|0],0>P?-1:0)}):new s([x|0],0>x?-1:0)}function f(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return w(f(-x));for(var P=[],C=1,V=0;x>=C;V++)P[V]=x/C|0,C*=4294967296;return new s(P,0)}function d(x,P){if(x.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x.charAt(0)=="-")return w(d(x.substring(1),P));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(P,8)),V=p,D=0;D<x.length;D+=8){var $=Math.min(8,x.length-D),j=parseInt(x.substring(D,D+$),P);8>$?($=f(Math.pow(P,$)),V=V.j($).add(f(j))):(V=V.j(C),V=V.add(f(j)))}return V}var p=c(0),y=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-w(this).m();for(var x=0,P=1,C=0;C<this.g.length;C++){var V=this.i(C);x+=(0<=V?V:4294967296+V)*P,P*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(T(this))return"0";if(S(this))return"-"+w(this).toString(x);for(var P=f(Math.pow(x,6)),C=this,V="";;){var D=L(C,P).g;C=O(C,D.j(P));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=D,T(C))return $+V;for(;6>$.length;)$="0"+$;V=$+V}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function T(x){if(x.h!=0)return!1;for(var P=0;P<x.g.length;P++)if(x.g[P]!=0)return!1;return!0}function S(x){return x.h==-1}t.l=function(x){return x=O(this,x),S(x)?-1:T(x)?0:1};function w(x){for(var P=x.g.length,C=[],V=0;V<P;V++)C[V]=~x.g[V];return new s(C,~x.h).add(y)}t.abs=function(){return S(this)?w(this):this},t.add=function(x){for(var P=Math.max(this.g.length,x.g.length),C=[],V=0,D=0;D<=P;D++){var $=V+(this.i(D)&65535)+(x.i(D)&65535),j=($>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=j>>>16,$&=65535,j&=65535,C[D]=j<<16|$}return new s(C,C[C.length-1]&-2147483648?-1:0)};function O(x,P){return x.add(w(P))}t.j=function(x){if(T(this)||T(x))return p;if(S(this))return S(x)?w(this).j(w(x)):w(w(this).j(x));if(S(x))return w(this.j(w(x)));if(0>this.l(_)&&0>x.l(_))return f(this.m()*x.m());for(var P=this.g.length+x.g.length,C=[],V=0;V<2*P;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var D=0;D<x.g.length;D++){var $=this.i(V)>>>16,j=this.i(V)&65535,X=x.i(D)>>>16,J=x.i(D)&65535;C[2*V+2*D]+=j*J,M(C,2*V+2*D),C[2*V+2*D+1]+=$*J,M(C,2*V+2*D+1),C[2*V+2*D+1]+=j*X,M(C,2*V+2*D+1),C[2*V+2*D+2]+=$*X,M(C,2*V+2*D+2)}for(V=0;V<P;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=P;V<2*P;V++)C[V]=0;return new s(C,0)};function M(x,P){for(;(x[P]&65535)!=x[P];)x[P+1]+=x[P]>>>16,x[P]&=65535,P++}function k(x,P){this.g=x,this.h=P}function L(x,P){if(T(P))throw Error("division by zero");if(T(x))return new k(p,p);if(S(x))return P=L(w(x),P),new k(w(P.g),w(P.h));if(S(P))return P=L(x,w(P)),new k(w(P.g),P.h);if(30<x.g.length){if(S(x)||S(P))throw Error("slowDivide_ only works with positive integers.");for(var C=y,V=P;0>=V.l(x);)C=I(C),V=I(V);var D=R(C,1),$=R(V,1);for(V=R(V,2),C=R(C,2);!T(V);){var j=$.add(V);0>=j.l(x)&&(D=D.add(C),$=j),V=R(V,1),C=R(C,1)}return P=O(x,D.j(P)),new k(D,P)}for(D=p;0<=x.l(P);){for(C=Math.max(1,Math.floor(x.m()/P.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),$=f(C),j=$.j(P);S(j)||0<j.l(x);)C-=V,$=f(C),j=$.j(P);T($)&&($=y),D=D.add($),x=O(x,j)}return new k(D,x)}t.A=function(x){return L(this,x).h},t.and=function(x){for(var P=Math.max(this.g.length,x.g.length),C=[],V=0;V<P;V++)C[V]=this.i(V)&x.i(V);return new s(C,this.h&x.h)},t.or=function(x){for(var P=Math.max(this.g.length,x.g.length),C=[],V=0;V<P;V++)C[V]=this.i(V)|x.i(V);return new s(C,this.h|x.h)},t.xor=function(x){for(var P=Math.max(this.g.length,x.g.length),C=[],V=0;V<P;V++)C[V]=this.i(V)^x.i(V);return new s(C,this.h^x.h)};function I(x){for(var P=x.g.length+1,C=[],V=0;V<P;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new s(C,x.h)}function R(x,P){var C=P>>5;P%=32;for(var V=x.g.length-C,D=[],$=0;$<V;$++)D[$]=0<P?x.i($+C)>>>P|x.i($+C+1)<<32-P:x.i($+C);return new s(D,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vj=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=d,ds=s}).apply(typeof SI<"u"?SI:typeof self<"u"?self:typeof window<"u"?window:{});var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fj,Gc,qj,Ep,m1,Bj,Uj,zj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,A){return m==Array.prototype||m==Object.prototype||(m[b]=A.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ep=="object"&&ep];for(var b=0;b<m.length;++b){var A=m[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(m,b){if(b)e:{var A=r;m=m.split(".");for(var F=0;F<m.length-1;F++){var G=m[F];if(!(G in A))break e;A=A[G]}m=m[m.length-1],F=A[m],b=b(F),b!=F&&b!=null&&e(A,m,{configurable:!0,writable:!0,value:b})}}function o(m,b){m instanceof String&&(m+="");var A=0,F=!1,G={next:function(){if(!F&&A<m.length){var ee=A++;return{value:b(ee,m[ee]),done:!1}}return F=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(m){return m||function(){return o(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function f(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function d(m,b,A){return m.call.apply(m.bind,arguments)}function p(m,b,A){if(!m)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,F),m.apply(b,G)}}return function(){return m.apply(b,arguments)}}function y(m,b,A){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function _(m,b){var A=Array.prototype.slice.call(arguments,1);return function(){var F=A.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function T(m,b){function A(){}A.prototype=b.prototype,m.aa=b.prototype,m.prototype=new A,m.prototype.constructor=m,m.Qb=function(F,G,ee){for(var ve=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ve[dt-2]=arguments[dt];return b.prototype[G].apply(F,ve)}}function S(m){const b=m.length;if(0<b){const A=Array(b);for(let F=0;F<b;F++)A[F]=m[F];return A}return[]}function w(m,b){for(let A=1;A<arguments.length;A++){const F=arguments[A];if(c(F)){const G=m.length||0,ee=F.length||0;m.length=G+ee;for(let ve=0;ve<ee;ve++)m[G+ve]=F[ve]}else m.push(F)}}class O{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(m){return/^[\s\xa0]*$/.test(m)}function k(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function L(m){return L[" "](m),m}L[" "]=function(){};var I=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function R(m,b,A){for(const F in m)b.call(A,m[F],F,m)}function x(m,b){for(const A in m)b.call(void 0,m[A],A,m)}function P(m){const b={};for(const A in m)b[A]=m[A];return b}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,b){let A,F;for(let G=1;G<arguments.length;G++){F=arguments[G];for(A in F)m[A]=F[A];for(let ee=0;ee<C.length;ee++)A=C[ee],Object.prototype.hasOwnProperty.call(F,A)&&(m[A]=F[A])}}function D(m){var b=1;m=m.split(":");const A=[];for(;0<b&&m.length;)A.push(m.shift()),b--;return m.length&&A.push(m.join(":")),A}function $(m){l.setTimeout(()=>{throw m},0)}function j(){var m=ne;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class X{constructor(){this.h=this.g=null}add(b,A){const F=J.get();F.set(b,A),this.h?this.h.next=F:this.g=F,this.h=F}}var J=new O(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Q=!1,ne=new X,ae=()=>{const m=l.Promise.resolve(void 0);ie=()=>{m.then(B)}};var B=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(A){$(A)}var b=J;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}Q=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};l.addEventListener("test",A,b),l.removeEventListener("test",A,b)}catch{}return m}();function Oe(m,b){if(le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var A=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(I){e:{try{L(b.nodeName);var G=!0;break e}catch{}G=!1}G||(b=null)}}else A=="mouseover"?b=m.fromElement:A=="mouseout"&&(b=m.toElement);this.relatedTarget=b,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:je[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Oe.aa.h.call(this)}}T(Oe,le);var je={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function pe(m,b,A,F,G){this.listener=m,this.proxy=null,this.src=b,this.type=A,this.capture=!!F,this.ha=G,this.key=++Fe,this.da=this.fa=!1}function Ie(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function De(m){this.src=m,this.g={},this.h=0}De.prototype.add=function(m,b,A,F,G){var ee=m.toString();m=this.g[ee],m||(m=this.g[ee]=[],this.h++);var ve=ut(m,b,F,G);return-1<ve?(b=m[ve],A||(b.fa=!1)):(b=new pe(b,this.src,ee,!!F,G),b.fa=A,m.push(b)),b};function ce(m,b){var A=b.type;if(A in m.g){var F=m.g[A],G=Array.prototype.indexOf.call(F,b,void 0),ee;(ee=0<=G)&&Array.prototype.splice.call(F,G,1),ee&&(Ie(b),m.g[A].length==0&&(delete m.g[A],m.h--))}}function ut(m,b,A,F){for(var G=0;G<m.length;++G){var ee=m[G];if(!ee.da&&ee.listener==b&&ee.capture==!!A&&ee.ha==F)return G}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),_t={};function xt(m,b,A,F,G){if(Array.isArray(b)){for(var ee=0;ee<b.length;ee++)xt(m,b[ee],A,F,G);return null}return A=Io(A),m&&m[ze]?m.K(b,A,f(F)?!!F.capture:!!F,G):Ut(m,b,A,!1,F,G)}function Ut(m,b,A,F,G,ee){if(!b)throw Error("Invalid event type");var ve=f(G)?!!G.capture:!!G,dt=vi(m);if(dt||(m[Ue]=dt=new De(m)),A=dt.add(b,A,F,ve,ee),A.proxy)return A;if(F=sr(),A.proxy=F,F.src=m,F.listener=A,m.addEventListener)xe||(G=ve),G===void 0&&(G=!1),m.addEventListener(b.toString(),F,G);else if(m.attachEvent)m.attachEvent(yn(b.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return A}function sr(){function m(A){return b.call(m.src,m.listener,A)}const b=lr;return m}function ur(m,b,A,F,G){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)ur(m,b[ee],A,F,G);else F=f(F)?!!F.capture:!!F,A=Io(A),m&&m[ze]?(m=m.i,b=String(b).toString(),b in m.g&&(ee=m.g[b],A=ut(ee,A,F,G),-1<A&&(Ie(ee[A]),Array.prototype.splice.call(ee,A,1),ee.length==0&&(delete m.g[b],m.h--)))):m&&(m=vi(m))&&(b=m.g[b.toString()],m=-1,b&&(m=ut(b,A,F,G)),(A=-1<m?b[m]:null)&&Wn(A))}function Wn(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[ze])ce(b.i,m);else{var A=m.type,F=m.proxy;b.removeEventListener?b.removeEventListener(A,F,m.capture):b.detachEvent?b.detachEvent(yn(A),F):b.addListener&&b.removeListener&&b.removeListener(F),(A=vi(b))?(ce(A,m),A.h==0&&(A.src=null,b[Ue]=null)):Ie(m)}}}function yn(m){return m in _t?_t[m]:_t[m]="on"+m}function lr(m,b){if(m.da)m=!0;else{b=new Oe(b,this);var A=m.listener,F=m.ha||m.src;m.fa&&Wn(m),m=A.call(F,b)}return m}function vi(m){return m=m[Ue],m instanceof De?m:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Io(m){return typeof m=="function"?m:(m[Bi]||(m[Bi]=function(b){return m.handleEvent(b)}),m[Bi])}function Yt(){H.call(this),this.i=new De(this),this.M=this,this.F=null}T(Yt,H),Yt.prototype[ze]=!0,Yt.prototype.removeEventListener=function(m,b,A,F){ur(this,m,b,A,F)};function Xt(m,b){var A,F=m.F;if(F)for(A=[];F;F=F.F)A.push(F);if(m=m.M,F=b.type||b,typeof b=="string")b=new le(b,m);else if(b instanceof le)b.target=b.target||m;else{var G=b;b=new le(F,m),V(b,G)}if(G=!0,A)for(var ee=A.length-1;0<=ee;ee--){var ve=b.g=A[ee];G=Ui(ve,F,!0,b)&&G}if(ve=b.g=m,G=Ui(ve,F,!0,b)&&G,G=Ui(ve,F,!1,b)&&G,A)for(ee=0;ee<A.length;ee++)ve=b.g=A[ee],G=Ui(ve,F,!1,b)&&G}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var A=m.g[b],F=0;F<A.length;F++)Ie(A[F]);delete m.g[b],m.h--}}this.F=null},Yt.prototype.K=function(m,b,A,F){return this.i.add(String(m),b,!1,A,F)},Yt.prototype.L=function(m,b,A,F){return this.i.add(String(m),b,!0,A,F)};function Ui(m,b,A,F){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var G=!0,ee=0;ee<b.length;++ee){var ve=b[ee];if(ve&&!ve.da&&ve.capture==A){var dt=ve.listener,Jt=ve.ha||ve.src;ve.fa&&ce(m.i,ve),G=dt.call(Jt,F)!==!1&&G}}return G&&!F.defaultPrevented}function Bl(m,b,A){if(typeof m=="function")A&&(m=y(m,A));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(m,b||0)}function Co(m){m.g=Bl(()=>{m.g=null,m.i&&(m.i=!1,Co(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class Ia extends H{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ca(m){H.call(this),this.h=m,this.g={}}T(Ca,H);var Ul=[];function zl(m){R(m.g,function(b,A){this.g.hasOwnProperty(A)&&Wn(b)},m),m.g={}}Ca.prototype.N=function(){Ca.aa.N.call(this),zl(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wl=l.JSON.stringify,Hl=l.JSON.parse,Gl=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Oa(){}Oa.prototype.h=null;function Ds(m){return m.h||(m.h=m.i())}function js(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){le.call(this,"d")}T(_i,le);function Ls(){le.call(this,"c")}T(Ls,le);var wi={},Kl=null;function Ra(){return Kl=Kl||new Yt}wi.La="serverreachability";function Ql(m){le.call(this,wi.La,m)}T(Ql,le);function zi(m){const b=Ra();Xt(b,new Ql(b))}wi.STAT_EVENT="statevent";function Yl(m,b){le.call(this,wi.STAT_EVENT,m),this.stat=b}T(Yl,le);function Vt(m){const b=Ra();Xt(b,new Yl(b,m))}wi.Ma="timingevent";function $s(m,b){le.call(this,wi.Ma,m),this.size=b}T($s,le);function zr(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},b)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function Na(m,b,A,F,G,ee){m.info(function(){if(m.g)if(ee)for(var ve="",dt=ee.split("&"),Jt=0;Jt<dt.length;Jt++){var nt=dt[Jt].split("=");if(1<nt.length){var un=nt[0];nt=nt[1];var zt=un.split("_");ve=2<=zt.length&&zt[1]=="type"?ve+(un+"="+nt+"&"):ve+(un+"=redacted&")}}else ve=null;else ve=ee;return"XMLHTTP REQ ("+F+") [attempt "+G+"]: "+b+`
`+A+`
`+ve})}function Vs(m,b,A,F,G,ee,ve){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+G+"]: "+b+`
`+A+`
`+ee+" "+ve})}function Wr(m,b,A,F){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+oy(m,A)+(F?" "+F:"")})}function Xl(m,b){m.info(function(){return"TIMEOUT: "+b})}ka.prototype.info=function(){};function oy(m,b){if(!m.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(m=0;m<A.length;m++)if(Array.isArray(A[m])){var F=A[m];if(!(2>F.length)){var G=F[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ve=1;ve<G.length;ve++)G[ve]=""}}}}return Wl(A)}catch{return b}}var Fs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function Ma(){}T(Ma,Oa),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},Hr=new Ma;function Gr(m,b,A,F){this.j=m,this.i=b,this.l=A,this.R=F||1,this.U=new Ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lh}function Lh(){this.i=null,this.g="",this.h=!1}var Jl={},qs={};function Bs(m,b,A){m.L=1,m.v=Mo(fr(b)),m.m=A,m.P=!0,Zl(m,null)}function Zl(m,b){m.F=Date.now(),wt(m),m.A=fr(m.v);var A=m.A,F=m.R;Array.isArray(F)||(F=[String(F)]),jo(A.i,"t",F),m.C=0,A=m.j.J,m.h=new Lh,m.g=td(m.j,A?b:null,!m.m),0<m.O&&(m.M=new Ia(y(m.Y,m,m.g),m.O)),b=m.U,A=m.g,F=m.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ul[0]=G.toString()),G=Ul);for(var ee=0;ee<G.length;ee++){var ve=xt(A,G[ee],F||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),zi(),Na(m.i,m.u,m.A,m.l,m.R,m.m)}Gr.prototype.ca=function(m){m=m.target;const b=this.M;b&&Gn(m)==3?b.j():this.Y(m)},Gr.prototype.Y=function(m){try{if(m==this.g)e:{const zt=Gn(this.g);var b=this.g.Ba();const Cr=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||zt!=4||b==7||(b==8||0>=Cr?zi(3):zi(2)),Da(this);var A=this.g.Z();this.X=A;t:if($h(this)){var F=oc(this.g);m="";var G=F.length,ee=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),Oo(this);var ve="";break t}this.h.i=new l.TextDecoder}for(b=0;b<G;b++)this.h.h=!0,m+=this.h.i.decode(F[b],{stream:!(ee&&b==G-1)});F.length=0,this.h.g+=m,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=A==200,Vs(this.i,this.u,this.A,this.l,this.R,zt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Jt=this.g;if((dt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(dt)){var nt=dt;break t}}nt=null}if(A=nt)Wr(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ec(this,A);else{this.o=!1,this.s=3,Vt(12),Pr(this),Oo(this);break e}}if(this.P){A=!0;let dr;for(;!this.J&&this.C<ve.length;)if(dr=ay(this,ve),dr==qs){zt==4&&(this.s=4,Vt(14),A=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==Jl){this.s=4,Vt(15),Wr(this.i,this.l,ve,"[Invalid Chunk]"),A=!1;break}else Wr(this.i,this.l,dr,null),ec(this,dr);if($h(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||ve.length!=0||this.h.h||(this.s=1,Vt(16),A=!1),this.o=this.o&&A,!A)Wr(this.i,this.l,ve,"[Invalid Chunked Response]"),Pr(this),Oo(this);else if(0<ve.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),sc(un),un.M=!0,Vt(11))}}else Wr(this.i,this.l,ve,null),ec(this,ve);zt==4&&Pr(this),this.o&&!this.J&&(zt==4?Zs(this.j,this):(this.o=!1,wt(this)))}else Ks(this.g),A==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Pr(this),Oo(this)}}}catch{}finally{}};function $h(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ay(m,b){var A=m.C,F=b.indexOf(`
`,A);return F==-1?qs:(A=Number(b.substring(A,F)),isNaN(A)?Jl:(F+=1,F+A>b.length?qs:(b=b.slice(F,F+A),m.C=F+A,b)))}Gr.prototype.cancel=function(){this.J=!0,Pr(this)};function wt(m){m.S=Date.now()+m.I,Vh(m,m.I)}function Vh(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=zr(y(m.ba,m),b)}function Da(m){m.B&&(l.clearTimeout(m.B),m.B=null)}Gr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Xl(this.i,this.A),this.L!=2&&(zi(),Vt(17)),Pr(this),this.s=2,Oo(this)):Vh(this,this.S-m)};function Oo(m){m.j.G==0||m.J||Zs(m.j,m)}function Pr(m){Da(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,zl(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function ec(m,b){try{var A=m.j;if(A.G!=0&&(A.g==m||Vn(A.h,m))){if(!m.K&&Vn(A.h,m)&&A.G==3){try{var F=A.Da.g.parse(b)}catch{F=null}if(Array.isArray(F)&&F.length==3){var G=F;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<m.F)Js(A),Jr(A);else break e;Xs(A),Vt(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=zr(y(A.Za,A),6e3));if(1>=qh(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Qi(A,11)}else if((m.K||A.g==m)&&Js(A),!M(b))for(G=A.Da.g.parse(b),b=0;b<G.length;b++){let nt=G[b];if(A.T=nt[0],nt=nt[1],A.G==2)if(nt[0]=="c"){A.K=nt[1],A.ia=nt[2];const un=nt[3];un!=null&&(A.la=un,A.j.info("VER="+A.la));const zt=nt[4];zt!=null&&(A.Aa=zt,A.j.info("SVER="+A.Aa));const Cr=nt[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(F=1.5*Cr,A.L=F,A.j.info("backChannelRequestTimeoutMs_="+F)),F=A;const dr=m.g;if(dr){const Ba=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var ee=F.h;ee.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(tc(ee,ee.h),ee.h=null))}if(F.D){const tu=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(F.ya=tu,mt(F.I,F.D,tu))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-m.F,A.j.info("Handshake RTT: "+A.R+"ms")),F=A;var ve=m;if(F.qa=ed(F,F.J?F.ia:null,F.W),ve.K){Bh(F.h,ve);var dt=ve,Jt=F.L;Jt&&(dt.I=Jt),dt.B&&(Da(dt),wt(dt)),F.g=ve}else qa(F);0<A.i.length&&Si(A)}else nt[0]!="stop"&&nt[0]!="close"||Qi(A,7);else A.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Qi(A,7):_n(A):nt[0]!="noop"&&A.l&&A.l.ta(nt),A.v=0)}}zi(4)}catch{}}var Fh=class{constructor(m,b){this.g=m,this.map=b}};function ja(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function qh(m){return m.h?1:m.g?m.g.size:0}function Vn(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function tc(m,b){m.g?m.g.add(b):m.h=b}function Bh(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}ja.prototype.cancel=function(){if(this.i=Uh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Uh(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const A of m.g.values())b=b.concat(A.D);return b}return S(m.i)}function Us(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var b=[],A=m.length,F=0;F<A;F++)b.push(m[F]);return b}b=[],A=0;for(F in m)b[A++]=m[F];return b}function zs(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var b=[];m=m.length;for(var A=0;A<m;A++)b.push(A);return b}b=[],A=0;for(const F in m)b[A++]=F;return b}}}function Ro(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var A=zs(m),F=Us(m),G=F.length,ee=0;ee<G;ee++)b.call(void 0,F[ee],A&&A[ee],m)}var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sy(m,b){if(m){m=m.split("&");for(var A=0;A<m.length;A++){var F=m[A].indexOf("="),G=null;if(0<=F){var ee=m[A].substring(0,F);G=m[A].substring(F+1)}else ee=m[A];b(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Wi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Wi){this.h=m.h,$a(this,m.j),this.o=m.o,this.g=m.g,ko(this,m.s),this.l=m.l;var b=m.i,A=new bi;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),No(this,A),this.m=m.m}else m&&(b=String(m).match(La))?(this.h=!1,$a(this,b[1]||"",!0),this.o=Je(b[2]||""),this.g=Je(b[3]||"",!0),ko(this,b[4]),this.l=Je(b[5]||"",!0),No(this,b[6]||"",!0),this.m=Je(b[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}Wi.prototype.toString=function(){var m=[],b=this.j;b&&m.push(Do(b,Ws,!0),":");var A=this.g;return(A||b=="file")&&(m.push("//"),(b=this.o)&&m.push(Do(b,Ws,!0),"@"),m.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&m.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Do(A,A.charAt(0)=="/"?Hh:Wh,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Do(A,nc)),m.join("")};function fr(m){return new Wi(m)}function $a(m,b,A){m.j=A?Je(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function ko(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function No(m,b,A){b instanceof bi?(m.i=b,Ei(m.i,m.h)):(A||(b=Do(b,Gh)),m.i=new bi(b,m.h))}function mt(m,b,A){m.i.set(b,A)}function Mo(m){return mt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Je(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Do(m,b,A){return typeof m=="string"?(m=encodeURI(m).replace(b,zh),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ws=/[#\/\?@]/g,Wh=/[#\?:]/g,Hh=/[#\?]/g,Gh=/[#\?@]/g,nc=/#/g;function bi(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function vn(m){m.g||(m.g=new Map,m.h=0,m.i&&sy(m.i,function(b,A){m.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=bi.prototype,t.add=function(m,b){vn(this),this.i=null,m=Ir(this,m);var A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(b),this.h+=1,this};function Kr(m,b){vn(m),b=Ir(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Qr(m,b){return vn(m),b=Ir(m,b),m.g.has(b)}t.forEach=function(m,b){vn(this),this.g.forEach(function(A,F){A.forEach(function(G){m.call(b,G,F,this)},this)},this)},t.na=function(){vn(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let F=0;F<b.length;F++){const G=m[F];for(let ee=0;ee<G.length;ee++)A.push(b[F])}return A},t.V=function(m){vn(this);let b=[];if(typeof m=="string")Qr(this,m)&&(b=b.concat(this.g.get(Ir(this,m))));else{m=Array.from(this.g.values());for(let A=0;A<m.length;A++)b=b.concat(m[A])}return b},t.set=function(m,b){return vn(this),this.i=null,m=Ir(this,m),Qr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},t.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function jo(m,b,A){Kr(m,b),0<A.length&&(m.i=null,m.g.set(Ir(m,b),S(A)),m.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var F=b[A];const ee=encodeURIComponent(String(F)),ve=this.V(F);for(F=0;F<ve.length;F++){var G=ee;ve[F]!==""&&(G+="="+encodeURIComponent(String(ve[F]))),m.push(G)}}return this.i=m.join("&")};function Ir(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Ei(m,b){b&&!m.j&&(vn(m),m.i=null,m.g.forEach(function(A,F){var G=F.toLowerCase();F!=G&&(Kr(this,F),jo(this,G,A))},m)),m.j=b}function uy(m,b){const A=new ka;if(l.Image){const F=new Image;F.onload=_(Hn,A,"TestLoadImage: loaded",!0,b,F),F.onerror=_(Hn,A,"TestLoadImage: error",!1,b,F),F.onabort=_(Hn,A,"TestLoadImage: abort",!1,b,F),F.ontimeout=_(Hn,A,"TestLoadImage: timeout",!1,b,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else b(!1)}function Kh(m,b){const A=new ka,F=new AbortController,G=setTimeout(()=>{F.abort(),Hn(A,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:F.signal}).then(ee=>{clearTimeout(G),ee.ok?Hn(A,"TestPingServer: ok",!0,b):Hn(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),Hn(A,"TestPingServer: error",!1,b)})}function Hn(m,b,A,F,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),F(A)}catch{}}function ly(){this.g=new Gl}function Qh(m,b,A){const F=A||"";try{Ro(m,function(G,ee){let ve=G;f(G)&&(ve=Wl(G)),b.push(F+ee+"="+encodeURIComponent(ve))})}catch(G){throw b.push(F+"type="+encodeURIComponent("_badmap")),G}}function Hi(m){this.l=m.Ub||null,this.j=m.eb||!1}T(Hi,Oa),Hi.prototype.g=function(){return new Va(this.l,this.j)},Hi.prototype.i=function(m){return function(){return m}}({});function Va(m,b){Yt.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Va,Yt),t=Va.prototype,t.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,Xr(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||l).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?Yr(this):Xr(this),this.readyState==3&&Yh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Yr(this))},t.Qa=function(m){this.g&&(this.response=m,Yr(this))},t.ga=function(){this.g&&Yr(this)};function Yr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Xr(m)}t.setRequestHeader=function(m,b){this.u.append(m,b)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=b.next();return m.join(`\r
`)};function Xr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Gi(m){let b="";return R(m,function(A,F){b+=F,b+=":",b+=A,b+=`\r
`}),b}function Lo(m,b,A){e:{for(F in A){var F=!1;break e}F=!0}F||(A=Gi(A),typeof m=="string"?A!=null&&encodeURIComponent(String(A)):mt(m,b,A))}function Ot(m){Yt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ot,Yt);var cy=/^https?$/i,rc=["POST","PUT"];t=Ot.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,b,A,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?Ds(this.o):Ds(Hr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(ee){Fa(this,ee);return}if(m=A||"",A=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var G in F)A.set(G,F[G]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ee of F.keys())A.set(ee,F.get(ee));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(A.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(rc,b,void 0))||F||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ve]of A)this.g.setRequestHeader(ee,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(m),this.u=!1}catch(ee){Fa(this,ee)}};function Fa(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,Hs(m),hr(m)}function Hs(m){m.A||(m.A=!0,Xt(m,"complete"),Xt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Xt(this,"complete"),Xt(this,"abort"),hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ic(this):this.bb())},t.bb=function(){ic(this)};function ic(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Gn(m)!=4||m.Z()!=2)){if(m.u&&Gn(m)==4)Bl(m.Ea,0,m);else if(Xt(m,"readystatechange"),Gn(m)==4){m.h=!1;try{const ve=m.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var F;if(F=ve===0){var G=String(m.D).match(La)[1]||null;!G&&l.self&&l.self.location&&(G=l.self.location.protocol.slice(0,-1)),F=!cy.test(G?G.toLowerCase():"")}A=F}if(A)Xt(m,"complete"),Xt(m,"success");else{m.m=6;try{var ee=2<Gn(m)?m.g.statusText:""}catch{ee=""}m.l=ee+" ["+m.Z()+"]",Hs(m)}}finally{hr(m)}}}}function hr(m,b){if(m.g){Gs(m);const A=m.g,F=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||Xt(m,"ready");try{A.onreadystatechange=F}catch{}}}function Gs(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Gn(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Hl(b)}};function oc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(m){const b={};m=(m.g&&2<=Gn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if(M(m[F]))continue;var A=D(m[F]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ee=b[G]||[];b[G]=ee,ee.push(A)}x(b,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(m,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||b}function ac(m){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ti("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ti("baseRetryDelayMs",5e3,m),this.cb=Ti("retryDelaySeedMs",1e4,m),this.Wa=Ti("forwardChannelMaxRetries",2,m),this.wa=Ti("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ja(m&&m.concurrentRequestLimit),this.Da=new ly,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ac.prototype,t.la=8,t.G=1,t.connect=function(m,b,A,F){Vt(0),this.W=m,this.H=b||{},A&&F!==void 0&&(this.H.OSID=A,this.H.OAID=F),this.F=this.X,this.I=ed(this,null,this.W),Si(this)};function _n(m){if(Qs(m),m.G==3){var b=m.U++,A=fr(m.I);if(mt(A,"SID",m.K),mt(A,"RID",b),mt(A,"TYPE","terminate"),Ki(m,A),b=new Gr(m,m.j,b),b.L=2,b.v=Mo(fr(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&l.Image&&(new Image().src=b.v,A=!0),A||(b.g=td(b.j,null),b.g.ea(b.v)),b.F=Date.now(),wt(b)}Zh(m)}function Jr(m){m.g&&(sc(m),m.g.cancel(),m.g=null)}function Qs(m){Jr(m),m.u&&(l.clearTimeout(m.u),m.u=null),Js(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Si(m){if(!cr(m.h)&&!m.s){m.s=!0;var b=m.Ga;ie||ae(),Q||(ie(),Q=!0),ne.add(b,m),m.B=0}}function fy(m,b){return qh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=zr(y(m.Ga,m,b),Jh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const G=new Gr(this,this.j,m);let ee=this.o;if(this.S&&(ee?(ee=P(ee),V(ee,this.S)):ee=this.S),this.m!==null||this.O||(G.H=ee,ee=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var F=this.i[A];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(b+=F,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=$o(this,G,b),A=fr(this.I),mt(A,"RID",m),mt(A,"CVER",22),this.D&&mt(A,"X-HTTP-Session-Id",this.D),Ki(this,A),ee&&(this.O?b="headers="+encodeURIComponent(String(Gi(ee)))+"&"+b:this.m&&Lo(A,this.m,ee)),tc(this.h,G),this.Ua&&mt(A,"TYPE","init"),this.P?(mt(A,"$req",b),mt(A,"SID","null"),G.T=!0,Bs(G,A,null)):Bs(G,A,b),this.G=2}}else this.G==3&&(m?Ys(this,m):this.i.length==0||cr(this.h)||Ys(this))};function Ys(m,b){var A;b?A=b.l:A=m.U++;const F=fr(m.I);mt(F,"SID",m.K),mt(F,"RID",A),mt(F,"AID",m.T),Ki(m,F),m.m&&m.o&&Lo(F,m.m,m.o),A=new Gr(m,m.j,A,m.B+1),m.m===null&&(A.H=m.o),b&&(m.i=b.D.concat(m.i)),b=$o(m,A,1e3),A.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),tc(m.h,A),Bs(A,F,b)}function Ki(m,b){m.H&&R(m.H,function(A,F){mt(b,F,A)}),m.l&&Ro({},function(A,F){mt(b,F,A)})}function $o(m,b,A){A=Math.min(m.i.length,A);var F=m.l?y(m.l.Na,m.l,m):null;e:{var G=m.i;let ee=-1;for(;;){const ve=["count="+A];ee==-1?0<A?(ee=G[0].g,ve.push("ofs="+ee)):ee=0:ve.push("ofs="+ee);let dt=!0;for(let Jt=0;Jt<A;Jt++){let nt=G[Jt].g;const un=G[Jt].map;if(nt-=ee,0>nt)ee=Math.max(0,G[Jt].g-100),dt=!1;else try{Qh(un,ve,"req"+nt+"_")}catch{F&&F(un)}}if(dt){F=ve.join("&");break e}}}return m=m.i.splice(0,A),b.D=m,F}function qa(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;ie||ae(),Q||(ie(),Q=!0),ne.add(b,m),m.v=0}}function Xs(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=zr(y(m.Fa,m),Jh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=zr(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Jr(this),Xh(this))};function sc(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function Xh(m){m.g=new Gr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=fr(m.qa);mt(b,"RID","rpc"),mt(b,"SID",m.K),mt(b,"AID",m.T),mt(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&mt(b,"TO",m.ja),mt(b,"TYPE","xmlhttp"),Ki(m,b),m.m&&m.o&&Lo(b,m.m,m.o),m.L&&(m.g.I=m.L);var A=m.g;m=m.ia,A.L=1,A.v=Mo(fr(b)),A.m=null,A.P=!0,Zl(A,m)}t.Za=function(){this.C!=null&&(this.C=null,Jr(this),Xs(this),Vt(19))};function Js(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Zs(m,b){var A=null;if(m.g==b){Js(m),sc(m),m.g=null;var F=2}else if(Vn(m.h,b))A=b.D,Bh(m.h,b),F=1;else return;if(m.G!=0){if(b.o)if(F==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var G=m.B;F=Ra(),Xt(F,new $s(F,A)),Si(m)}else qa(m);else if(G=b.s,G==3||G==0&&0<b.X||!(F==1&&fy(m,b)||F==2&&Xs(m)))switch(A&&0<A.length&&(b=m.h,b.i=b.i.concat(A)),G){case 1:Qi(m,5);break;case 4:Qi(m,10);break;case 3:Qi(m,6);break;default:Qi(m,2)}}}function Jh(m,b){let A=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(A*=2),A*b}function Qi(m,b){if(m.j.info("Error code "+b),b==2){var A=y(m.fb,m),F=m.Xa;const G=!F;F=new Wi(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$a(F,"https"),Mo(F),G?uy(F.toString(),A):Kh(F.toString(),A)}else Vt(2);m.G=0,m.l&&m.l.sa(b),Zh(m),Qs(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Zh(m){if(m.G=0,m.ka=[],m.l){const b=Uh(m.h);(b.length!=0||m.i.length!=0)&&(w(m.ka,b),w(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function ed(m,b,A){var F=A instanceof Wi?fr(A):new Wi(A);if(F.g!="")b&&(F.g=b+"."+F.g),ko(F,F.s);else{var G=l.location;F=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;var ee=new Wi(null);F&&$a(ee,F),b&&(ee.g=b),G&&ko(ee,G),A&&(ee.l=A),F=ee}return A=m.D,b=m.ya,A&&b&&mt(F,A,b),mt(F,"VER",m.la),Ki(m,F),F}function td(m,b,A){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new Ot(new Hi({eb:A})):new Ot(m.pa),b.Ha(m.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}t=uc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function eu(){}eu.prototype.g=function(m,b){return new Fn(m,b)};function Fn(m,b){Yt.call(this),this.g=new ac(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!M(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new xi(this)}T(Fn,Yt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){_n(this.g)},Fn.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.u&&(A={},A.__data__=Wl(m),m=A);b.i.push(new Fh(b.Ya++,m)),b.G==3&&Si(b)},Fn.prototype.N=function(){this.g.l=null,delete this.j,_n(this.g),delete this.g,Fn.aa.N.call(this)};function nd(m){_i.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const A in b){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}T(nd,_i);function rd(){Ls.call(this),this.status=1}T(rd,Ls);function xi(m){this.g=m}T(xi,uc),xi.prototype.ua=function(){Xt(this.g,"a")},xi.prototype.ta=function(m){Xt(this.g,new nd(m))},xi.prototype.sa=function(m){Xt(this.g,new rd)},xi.prototype.ra=function(){Xt(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,zj=function(){return new eu},Uj=function(){return Ra()},Bj=wi,m1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Ep=Fs,jh.COMPLETE="complete",qj=jh,js.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,Gc=js,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Fj=Ot}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});const xI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new ZE("@firebase/firestore");function Pu(){return Es.logLevel}function Ee(t,...e){if(Es.logLevel<=Ze.DEBUG){const n=e.map(OT);Es.debug(`Firestore (${Ol}): ${t}`,...n)}}function vo(t,...e){if(Es.logLevel<=Ze.ERROR){const n=e.map(OT);Es.error(`Firestore (${Ol}): ${t}`,...n)}}function Yu(t,...e){if(Es.logLevel<=Ze.WARN){const n=e.map(OT);Es.warn(`Firestore (${Ol}): ${t}`,...n)}}function OT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: `+t;throw vo(e),new Error(e)}function ct(t,e){t||Ve()}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Pl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class b9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class E9{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ni)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new Wj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new Nn(e)}}class T9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class S9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new T9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ct(this.o===void 0);const r=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string"),this.R=n.token,new x9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=P9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function Xu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new on(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new on(0,0))}static max(){return new Be(new on(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(),r===void 0?r=e.length-n:r>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class St extends xf{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new St(n)}static emptyPath(){return new St([])}}const I9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends xf{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return I9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new we(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new we(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new we(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new we(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(St.fromString(e))}static fromName(e){return new Re(St.fromString(e).popFirst(5))}static empty(){return new Re(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new St(e.slice()))}}function C9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new on(n+1,0):new on(n,r));return new pa(i,Re.empty(),e)}function O9(t){return new pa(t.readTime,t.key,-1)}class pa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pa(Be.min(),Re.empty(),-1)}static max(){return new pa(Be.max(),Re.empty(),-1)}}function R9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==k9)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,r)=>{n(e)})}static reject(e){return new ue((n,r)=>{r(e)})}static waitFor(e){return new ue((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next(i=>i?ue.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ue((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(d=>{s[f]=d,++l,l===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ue((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function M9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ag.oe=-1;function sg(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function D9(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AI(e)),e=L9(t.get(n),e);return AI(e)}function L9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function AI(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $9(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function Gj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tp(this.root,e,this.comparator,!0)}}class tp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=o??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new II(this.data.getIterator())}getIteratorFrom(e){return new II(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class II{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new di([])}unionWith(e){let n=new an(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kj("Invalid base64 string: "+o):o}}(e);return new An(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const V9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(t){if(ct(!!t),typeof t=="string"){let e=0;const n=V9.exec(t);if(ct(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lg(t){const e=t.mapValue.fields.__previous_value__;return ug(e)?lg(e):e}function Af(t){const e=ma(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,r,i,o,s,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class Pf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ug(t)?4:B9(t)?9007199254740991:q9(t)?10:11:Ve()}function $i(t,e){if(t===e)return!0;const n=ya(t);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Af(t).isEqual(Af(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ma(i.timestampValue),l=ma(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ga(i.bytesValue).isEqual(ga(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return qt(i.geoPointValue.latitude)===qt(o.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return qt(i.integerValue)===qt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=qt(i.doubleValue),l=qt(o.doubleValue);return s===l?Hp(s)===Hp(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Xu(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(PI(s)!==PI(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!$i(s[c],l[c])))return!1;return!0}(t,e);default:return Ve()}}function If(t,e){return(t.values||[]).find(n=>$i(n,e))!==void 0}function Ju(t,e){if(t===e)return 0;const n=ya(t),r=ya(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=qt(o.integerValue||o.doubleValue),c=qt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return CI(t.timestampValue,e.timestampValue);case 4:return CI(Af(t),Af(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(o,s){const l=ga(o),c=ga(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const d=et(l[f],c[f]);if(d!==0)return d}return et(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=et(qt(o.latitude),qt(s.latitude));return l!==0?l:et(qt(o.longitude),qt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return OI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,c,f,d;const p=o.fields||{},y=s.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,T=(c=y.value)===null||c===void 0?void 0:c.arrayValue,S=et(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:OI(_,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===np.mapValue&&s===np.mapValue)return 0;if(o===np.mapValue)return 1;if(s===np.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const y=et(c[p],d[p]);if(y!==0)return y;const _=Ju(l[c[p]],f[d[p]]);if(_!==0)return _}return et(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function CI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=ma(t),r=ma(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function OI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ju(n[i],r[i]);if(o)return o}return et(n.length,r.length)}function Zu(t){return g1(t)}function g1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ma(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ga(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=g1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${g1(n.fields[s])}`;return i+"}"}(t.mapValue):Ve()}function Tp(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lg(t);return e?16+Tp(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Tp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ba(r.fields,(o,s)=>{i+=o.length+Tp(s)}),i}(t.mapValue);default:throw Ve()}}function Gp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function y1(t){return!!t&&"integerValue"in t}function RT(t){return!!t&&"arrayValue"in t}function RI(t){return!!t&&"nullValue"in t}function kI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sp(t){return!!t&&"mapValue"in t}function q9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function uf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(n)}setAll(e){let n=Sn.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=uf(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ba(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Er(uf(this.value))}}function Qj(t){const e=[];return ba(t.fields,(n,r)=>{const i=new Sn([n]);if(Sp(r)){const o=Qj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new jn(e,0,Be.min(),Be.min(),Be.min(),Er.empty(),0)}static newFoundDocument(e,n,r,i){return new jn(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new jn(e,2,n,Be.min(),Be.min(),Er.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,Be.min(),Be.min(),Er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.position=e,this.inclusive=n}}function NI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(s.referenceValue),n.key):r=Ju(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function MI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n="asc"){this.field=e,this.dir=n}}function U9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{}class Kt extends Yj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W9(e,n,r):n==="array-contains"?new K9(e,r):n==="in"?new Q9(e,r):n==="not-in"?new Y9(e,r):n==="array-contains-any"?new X9(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H9(e,r):new G9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ju(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(Ju(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends Yj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gi(e,n)}matches(e){return Xj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xj(t){return t.op==="and"}function Jj(t){return z9(t)&&Xj(t)}function z9(t){for(const e of t.filters)if(e instanceof gi)return!1;return!0}function v1(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Zu(t.value);if(Jj(t))return t.filters.map(e=>v1(e)).join(",");{const e=t.filters.map(n=>v1(n)).join(",");return`${t.op}(${e})`}}function Zj(t,e){return t instanceof Kt?function(r,i){return i instanceof Kt&&r.op===i.op&&r.field.isEqual(i.field)&&$i(r.value,i.value)}(t,e):t instanceof gi?function(r,i){return i instanceof gi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&Zj(s,i.filters[l]),!0):!1}(t,e):void Ve()}function eL(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zu(n.value)}`}(t):t instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map(eL).join(" ,")+"}"}(t):"Filter"}class W9 extends Kt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class H9 extends Kt{constructor(e,n){super(e,"in",n),this.keys=tL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G9 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=tL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class K9 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return RT(n)&&If(n.arrayValue,this.value)}}class Q9 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&If(this.value.arrayValue,n)}}class Y9 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!If(this.value.arrayValue,n)}}class X9 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!RT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>If(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function DI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new J9(t,e,n,r,i,o,s)}function kT(t){const e=qe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>v1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zu(r)).join(",")),e.ue=n}return e.ue}function NT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MI(t.startAt,e.startAt)&&MI(t.endAt,e.endAt)}function _1(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Z9(t,e,n,r,i,o,s,l){return new Ea(t,e,n,r,i,o,s,l)}function MT(t){return new Ea(t)}function jI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DT(t){return t.collectionGroup!==null}function Fu(t){const e=qe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new an(Sn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Cf(o,r))}),n.has(Sn.keyField().canonicalString())||e.ce.push(new Cf(Sn.keyField(),r))}return e.ce}function Mi(t){const e=qe(t);return e.le||(e.le=nL(e,Fu(t))),e.le}function e6(t){const e=qe(t);return e.he||(e.he=nL(e,t.explicitOrderBy)),e.he}function nL(t,e){if(t.limitType==="F")return DI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Cf(i.field,o)});const n=t.endAt?new el(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new el(t.startAt.position,t.startAt.inclusive):null;return DI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function w1(t,e){const n=t.filters.concat([e]);return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kp(t,e,n){return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cg(t,e){return NT(Mi(t),Mi(e))&&t.limitType===e.limitType}function rL(t){return`${kT(Mi(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eL(i)).join(", ")}]`),sg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zu(i)).join(",")),`Target(${r})`}(Mi(t))}; limitType=${t.limitType})`}function fg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Fu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,c){const f=NI(s,l,c);return s.inclusive?f<=0:f<0}(r.startAt,Fu(r),i)||r.endAt&&!function(s,l,c){const f=NI(s,l,c);return s.inclusive?f>=0:f>0}(r.endAt,Fu(r),i))}(t,e)}function t6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iL(t){return(e,n)=>{let r=!1;for(const i of Fu(t)){const o=n6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function n6(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?Ju(c,f):Ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Gj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new Dt(Re.comparator);function _o(){return r6}const oL=new Dt(Re.comparator);function Kc(...t){let e=oL;for(const n of t)e=e.insert(n.key,n);return e}function aL(t){let e=oL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return lf()}function sL(){return lf()}function lf(){return new Cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const i6=new Dt(Re.comparator),o6=new an(Re.comparator);function Ye(...t){let e=o6;for(const n of t)e=e.add(n);return e}const a6=new an(et);function s6(){return a6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function uL(t){return{integerValue:""+t}}function u6(t,e){return D9(e)?uL(e):jT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this._=void 0}}function l6(t,e,n){return t instanceof Qp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ug(o)&&(o=lg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Of?cL(t,e):t instanceof Rf?fL(t,e):function(i,o){const s=lL(i,o),l=LI(s)+LI(i.Pe);return y1(s)&&y1(i.Pe)?uL(l):jT(i.serializer,l)}(t,e)}function c6(t,e,n){return t instanceof Of?cL(t,e):t instanceof Rf?fL(t,e):n}function lL(t,e){return t instanceof Yp?function(r){return y1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Qp extends hg{}class Of extends hg{constructor(e){super(),this.elements=e}}function cL(t,e){const n=hL(e);for(const r of t.elements)n.some(i=>$i(i,r))||n.push(r);return{arrayValue:{values:n}}}class Rf extends hg{constructor(e){super(),this.elements=e}}function fL(t,e){let n=hL(e);for(const r of t.elements)n=n.filter(i=>!$i(i,r));return{arrayValue:{values:n}}}class Yp extends hg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function LI(t){return qt(t.integerValue||t.doubleValue)}function hL(t){return RT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function f6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Of&&i instanceof Of||r instanceof Rf&&i instanceof Rf?Xu(r.elements,i.elements,$i):r instanceof Yp&&i instanceof Yp?$i(r.Pe,i.Pe):r instanceof Qp&&i instanceof Qp}(t.transform,e.transform)}class h6{constructor(e,n){this.version=e,this.transformResults=n}}class co{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new co}static exists(e){return new co(void 0,e)}static updateTime(e){return new co(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dg{}function dL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mL(t.key,co.none()):new pg(t.key,t.data,co.none());{const n=t.data,r=Er.empty();let i=new an(Sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Os(t.key,r,new di(i.toArray()),co.none())}}function d6(t,e,n){t instanceof pg?function(i,o,s){const l=i.value.clone(),c=VI(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(i,o,s){if(!xp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=VI(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(pL(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function cf(t,e,n,r){return t instanceof pg?function(o,s,l,c){if(!xp(o.precondition,s))return l;const f=o.value.clone(),d=FI(o.fieldTransforms,c,s);return f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Os?function(o,s,l,c){if(!xp(o.precondition,s))return l;const f=FI(o.fieldTransforms,c,s),d=s.data;return d.setAll(pL(o)),d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return xp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function p6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=lL(r.transform,i||null);o!=null&&(n===null&&(n=Er.empty()),n.set(r.field,o))}return n||null}function $I(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xu(r,i,(o,s)=>f6(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pg extends dg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Os extends dg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VI(t,e,n){const r=new Map;ct(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,c6(s,l,n[i]))}return r}function FI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,l6(o,s,e))}return r}class mL extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m6 extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&d6(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const c=dL(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,(n,r)=>$I(n,r))&&Xu(this.baseMutations,e.baseMutations,(n,r)=>$I(n,r))}}class LT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length);let i=function(){return i6}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new LT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,rt;function w6(t){switch(t){default:return Ve();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function gL(t){if(t===void 0)return vo("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ht.OK:return se.OK;case Ht.CANCELLED:return se.CANCELLED;case Ht.UNKNOWN:return se.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return se.INTERNAL;case Ht.UNAVAILABLE:return se.UNAVAILABLE;case Ht.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ht.NOT_FOUND:return se.NOT_FOUND;case Ht.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ht.ABORTED:return se.ABORTED;case Ht.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ht.DATA_LOSS:return se.DATA_LOSS;default:return Ve()}}(rt=Ht||(Ht={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new ds([4294967295,4294967295],0);function qI(t){const e=b6().encode(t),n=new Vj;return n.update(e),new Uint8Array(n.digest())}function BI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ds([n,r],0),new ds([i,o],0)]}class $T{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qc(`Invalid padding: ${n}`);if(r<0)throw new Qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ds.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(ds.fromNumber(r)));return i.compare(E6)===1&&(i=new ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=qI(e),[r,i]=BI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new $T(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Te===0)return;const n=qI(e),[r,i]=BI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mg(Be.min(),i,new Dt(et),_o(),Ye())}}class _h{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class yL{constructor(e,n){this.targetId=e,this.me=n}}class vL{constructor(e,n,r=An.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UI{constructor(){this.fe=0,this.ge=zI(),this.pe=An.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),n=Ye(),r=Ye();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve()}}),new _h(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=zI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class T6{constructor(e){this.Le=e,this.Be=new Map,this.ke=_o(),this.qe=rp(),this.Qe=rp(),this.Ke=new Dt(et)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(_1(o))if(r===0){const s=new Re(o.path);this.We(n,s,jn.newNoDocument(s,Be.min()))}else ct(r===1);else{const s=this.Ze(n);if(s!==r){const l=this.Xe(e),c=l?this.et(l,e,s):1;if(c!==0){this.He(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=ga(r).toUint8Array()}catch(c){if(c instanceof Kj)return Yu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new $T(s,i,o)}catch(c){return Yu(c instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Ye(s);if(l){if(o.current&&_1(l.target)){const c=new Re(l.target.path);this.st(c).has(s)||this.ot(s,c)||this.We(s,c,jn.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ye();this.Qe.forEach((o,s)=>{let l=!0;s.forEachWhile(c=>{const f=this.Ye(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new mg(e,n,this.Ke,this.ke,r);return this.ke=_o(),this.qe=rp(),this.Qe=rp(),this.Ke=new Dt(et),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new UI,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new an(et),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(et),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new UI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rp(){return new Dt(Re.comparator)}function zI(){return new Dt(Re.comparator)}const S6={asc:"ASCENDING",desc:"DESCENDING"},x6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A6={and:"AND",or:"OR"};class P6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b1(t,e){return t.useProto3Json||sg(e)?e:{value:e}}function Xp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _L(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I6(t,e){return Xp(t,e.toTimestamp())}function Di(t){return ct(!!t),Be.fromTimestamp(function(n){const r=ma(n);return new on(r.seconds,r.nanos)}(t))}function VT(t,e){return E1(t,e).canonicalString()}function E1(t,e){const n=function(i){return new St(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wL(t){const e=St.fromString(t);return ct(AL(e)),e}function T1(t,e){return VT(t.databaseId,e.path)}function Gv(t,e){const n=wL(e);if(n.get(1)!==t.databaseId.projectId)throw new we(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(EL(n))}function bL(t,e){return VT(t.databaseId,e)}function C6(t){const e=wL(t);return e.length===4?St.emptyPath():EL(e)}function S1(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EL(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WI(t,e,n){return{name:T1(t,e),fields:n.value.mapValue.fields}}function O6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,d){return f.useProto3Json?(ct(d===void 0||typeof d=="string"),An.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array),An.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(f){const d=f.code===void 0?se.UNKNOWN:gL(f.code);return new we(d,f.message||"")}(s);n=new vL(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gv(t,r.document.name),o=Di(r.document.updateTime),s=r.document.createTime?Di(r.document.createTime):Be.min(),l=new Er({mapValue:{fields:r.document.fields}}),c=jn.newFoundDocument(i,o,s,l),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Ap(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gv(t,r.document),o=r.readTime?Di(r.readTime):Be.min(),s=jn.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Ap([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gv(t,r.document),o=r.removedTargetIds||[];n=new Ap([],o,i,null)}else{if(!("filter"in e))return Ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new _6(i,o),l=r.targetId;n=new yL(l,s)}}return n}function R6(t,e){let n;if(e instanceof pg)n={update:WI(t,e.key,e.value)};else if(e instanceof mL)n={delete:T1(t,e.key)};else if(e instanceof Os)n={update:WI(t,e.key,e.data),updateMask:F6(e.fieldMask)};else{if(!(e instanceof m6))return Ve();n={verify:T1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof Qp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Of)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Yp)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:I6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve()}(t,e.precondition)),n}function k6(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Di(i.updateTime):Di(o);return s.isEqual(Be.min())&&(s=Di(o)),new h6(s,i.transformResults||[])}(n,e))):[]}function N6(t,e){return{documents:[bL(t,e.path)]}}function TL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bL(t,i);const o=function(f){if(f.length!==0)return xL(gi.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(d=>function(y){return{field:ea(y.field),direction:L6(y.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=b1(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ct:n,parent:i}}function M6(t,e,n,r){const{ct:i,parent:o}=TL(t,e),s={},l=[];let c=0;return n.forEach(f=>{const d="aggregate_"+c++;s[d]=f.alias,f.aggregateType==="count"?l.push({alias:d,count:{}}):f.aggregateType==="avg"?l.push({alias:d,avg:{field:ea(f.fieldPath)}}):f.aggregateType==="sum"&&l.push({alias:d,sum:{field:ea(f.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:i.structuredQuery},parent:i.parent},lt:s,parent:o}}function D6(t){let e=C6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){const y=SL(p);return y instanceof gi&&Jj(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(T){return new Cf(Cu(T.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(p){let y;return y=typeof p=="object"?p.value:p,sg(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){const y=!!p.before,_=p.values||[];return new el(_,y)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const y=!p.before,_=p.values||[];return new el(_,y)}(n.endAt)),Z9(e,i,s,o,l,"F",c,f)}function j6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cu(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(n.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cu(n.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cu(n.unaryFilter.field);return Kt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(Cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(r=>SL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function L6(t){return S6[t]}function $6(t){return x6[t]}function V6(t){return A6[t]}function ea(t){return{fieldPath:t.canonicalString()}}function Cu(t){return Sn.fromServerFormat(t.fieldPath)}function xL(t){return t instanceof Kt?function(n){if(n.op==="=="){if(kI(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NAN"}};if(RI(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kI(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NAN"}};if(RI(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(n.field),op:$6(n.op),value:n.value}}}(t):t instanceof gi?function(n){const r=n.getFilters().map(i=>xL(i));return r.length===1?r[0]:{compositeFilter:{op:V6(n.op),filters:r}}}(t):Ve()}function F6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r,i,o=Be.min(),s=Be.min(),l=An.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.ht=e}}function B6(t){const e=D6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.ln=new z6}addToCollectionParentIndex(e,n){return this.ln.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(pa.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class z6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(St.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new tl(0)}static Qn(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI([t,e],[n,r]){const i=et(t,n);return i===0?et(e,r):i}class W6{constructor(e){this.Gn=e,this.buffer=new an(GI),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class H6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Yn(3e5)})}}class G6{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(ag.oe);const r=new W6(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(HI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HI):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,l,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(f=Date.now(),Pu()<=Ze.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function K6(t,e){return new G6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cf(r.mutation,i,di.empty(),on.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Kc();return o.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=_o();const s=lf(),l=function(){return lf()}();return n.forEach((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof Os)?o=o.insert(f.key,f):d!==void 0?(s.set(f.key,d.mutation.getFieldMask()),cf(d.mutation,f,d.mutation.getFieldMask(),on.now())):s.set(f.key,di.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,d)=>s.set(f,d)),n.forEach((f,d)=>{var p;return l.set(f,new Y6(d,(p=s.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=lf();let i=new Dt((s,l)=>s-l),o=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let d=r.get(c)||di.empty();d=l.applyToLocalView(f,d),r.set(c,d);const p=(i.get(l.batchId)||Ye()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,d=c.value,p=sL();d.forEach(y=>{if(!o.has(y)){const _=dL(n.get(y),r.get(y));_!==null&&p.set(y,_),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ue.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ue.resolve(ss());let l=-1,c=o;return s.next(f=>ue.forEach(f,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?ue.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{c=c.insert(d,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,Ye())).next(d=>({batchId:l,changes:aL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Kc();return this.indexManager.getCollectionParents(e,o).next(l=>ue.forEach(l,c=>{const f=function(p,y){return new Ea(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(d=>{d.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,f)=>{const d=f.getKey();s.get(d)===null&&(s=s.insert(d,jn.newInvalidDocument(d)))});let l=Kc();return s.forEach((c,f)=>{const d=o.get(c);d!==void 0&&cf(d.mutation,f,di.empty(),on.now()),fg(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return ue.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Di(i.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:B6(i.bundledQuery),readTime:Di(i.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.overlays=new Dt(Re.comparator),this.Er=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return ue.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=ss(),o=n.length+1,s=new Re(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Dt((f,d)=>f-d);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=o.get(f.largestBatchId);d===null&&(d=ss(),o=o.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=ss(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,d)=>l.set(f,d)),!(l.size()>=i)););return ue.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new y6(n,r));let o=this.Er.get(n);o===void 0&&(o=Ye(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.dr=new an(dn.Ar),this.Rr=new an(dn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new dn(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Re(new St([])),r=new dn(n,e),i=new dn(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Re(new St([])),r=new dn(n,e),i=new dn(n,e+1);let o=Ye();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new dn(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Re.comparator(e.key,n.key)||et(e.br,n.br)}static Vr(e,n){return et(e.br,n.br)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new an(dn.Ar)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new g6(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.vr=this.vr.add(new dn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ue.resolve(s)}lookupMutationBatch(e,n){return ue.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const l=this.Cr(s.br);o.push(l)}),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(et);return n.forEach(i=>{const o=new dn(i,0),s=new dn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],l=>{r=r.add(l.br)})}),ue.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const s=new dn(new Re(o),0);let l=new an(et);return this.vr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.br)),!0)},s),ue.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ct(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ue.forEach(n.mutations,i=>{const o=new dn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new dn(n,0),i=this.vr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.Nr=e,this.docs=function(){return new Dt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let r=_o();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jn.newInvalidDocument(i))}),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_o();const s=n.path,l=new Re(s.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||R9(O9(d),r)<=0||(i.has(d.key)||fg(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ve()}Lr(e,n){return ue.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rz(this)}getSize(e){return ue.resolve(this.size)}}class rz extends Q6{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),ue.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.persistence=e,this.Br=new Cs(n=>kT(n),NT),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.kr=0,this.qr=new FT,this.targetCount=0,this.Qr=tl.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),ue.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Un(n),ue.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ue.waitFor(o).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.Kr={},this.overlays={},this.$r=new ag(0),this.Ur=!1,this.Ur=!0,this.Wr=new ez,this.referenceDelegate=e(this),this.Gr=new iz(this),this.indexManager=new U6,this.remoteDocumentCache=function(i){return new nz(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new q6(n),this.jr=new J6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new tz(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new oz(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return ue.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class oz extends N9{constructor(e){super(),this.currentSequenceNumber=e}}class qT{constructor(e){this.persistence=e,this.Zr=new FT,this.Xr=null}static ei(e){return new qT(e)}get ti(){if(this.Xr)return this.Xr;throw Ve()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ti,r=>{const i=Re.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,Be.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return ue.or([()=>ue.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Jp{constructor(e,n){this.persistence=e,this.ri=new Cs(r=>j9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=K6(this,n)}static ei(e,n){return new Jp(e,n)}Hr(){}Jr(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return ue.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?ue.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(l=>{l||(r++,o.removeEntry(s,Be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),ue.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tp(e.data.value)),n}ir(e,n,r){return ue.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ye(),i=Ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new BT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Bq()?8:M9(fD())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new az;return this.ts(e,n,s).next(l=>{if(o.result=l,this.Hi)return this.ns(e,n,s,l.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Pu()<=Ze.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ue.resolve()):(Pu()<=Ze.DEBUG&&Ee("QueryEngine","Query:",Iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Pu()<=Ze.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ue.resolve())}Xi(e,n){if(jI(n))return ue.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kp(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ye(...o);return this.Zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.rs(n,l);return this.ss(n,f,s,c.readTime)?this.Xi(e,Kp(n,null,"F")):this.os(e,f,n,c)}))})))}es(e,n,r,i){return jI(n)||i.isEqual(Be.min())?ue.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?ue.resolve(null):(Pu()<=Ze.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(n)),this.os(e,s,n,C9(i,-1)).next(l=>l))})}rs(e,n){let r=new an(iL(e));return n.forEach((i,o)=>{fg(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return Pu()<=Ze.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.Zi.getDocumentsMatchingQuery(e,n,pa.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Dt(et),this.cs=new Cs(o=>kT(o),NT),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X6(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function lz(t,e,n,r){return new uz(t,e,n,r)}async function IL(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let c=Ye();for(const f of i){s.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of o){l.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Ts:f,removedBatchIds:s,addedBatchIds:l}))})})}function cz(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,d){const p=f.batch,y=p.keys();let _=ue.resolve();return y.forEach(T=>{_=_.next(()=>d.getEntry(c,T)).next(S=>{const w=f.docVersions.get(T);ct(w!==null),S.version.compareTo(w)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),d.addEntry(S)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ye();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CL(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function fz(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((d,p)=>{const y=i.get(p);if(!y)return;l.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,p)));let _=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(An.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(p,_),function(S,w,O){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,_,d)&&l.push(n.Gr.updateTargetData(o,_))});let c=_o(),f=Ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(hz(o,s,e.documentUpdates).next(d=>{c=d.Is,f=d.Es})),!r.isEqual(Be.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(p=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return ue.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(n.us=i,o))}function hz(t,e,n){let r=Ye(),i=Ye();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=_o();return n.forEach((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Be.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Ee("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{Is:s,Es:i}})}function dz(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pz(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,ue.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new na(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function x1(t,e,n){const r=qe(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!kl(s))throw s;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function KI(t,e,n){const r=qe(t);let i=Be.min(),o=Ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,d){const p=qe(c),y=p.cs.get(d);return y!==void 0?ue.resolve(p.us.get(y)):p.Gr.getTargetData(f,d)}(r,s,Mi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,l.targetId).next(c=>{o=c})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:Be.min(),n?o:Ye())).next(l=>(mz(r,t6(e),l),{documents:l,ds:o})))}function mz(t,e,n){let r=t.ls.get(e)||Be.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class QI{constructor(){this.activeTargetIds=s6()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gz{constructor(){this._o=new QI,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new QI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip=null;function Kv(){return ip===null?ip=function(){return 268435456+Math.round(2147483648*Math.random())}():ip++,"0x"+ip.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class wz extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const l=Kv(),c=this.No(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,o,s),this.Bo(n,c,f,i).then(d=>(Ee("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Yu("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}ko(n,r,i,o,s,l){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ol}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=vz[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=Kv();return new Promise((s,l)=>{const c=new Fj;c.setWithCredentials(!0),c.listenOnce(qj.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ep.NO_ERROR:const d=c.getResponseJson();Ee(Rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Ep.TIMEOUT:Ee(Rn,`RPC '${e}' ${o} timed out`),l(new we(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const p=c.getStatus();if(Ee(Rn,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const T=function(w){const O=w.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(O)>=0?O:se.UNKNOWN}(_.status);l(new we(T,_.message))}else l(new we(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new we(se.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{Ee(Rn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);Ee(Rn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}qo(e,n,r){const i=Kv(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=zj(),l=Uj(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");Ee(Rn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=s.createWebChannel(d,c);let y=!1,_=!1;const T=new _z({Eo:w=>{_?Ee(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(y||(Ee(Rn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Ee(Rn,`RPC '${e}' stream ${i} sending:`,w),p.send(w))},Ao:()=>p.close()}),S=(w,O,M)=>{w.listen(O,k=>{try{M(k)}catch(L){setTimeout(()=>{throw L},0)}})};return S(p,Gc.EventType.OPEN,()=>{_||(Ee(Rn,`RPC '${e}' stream ${i} transport opened.`),T.So())}),S(p,Gc.EventType.CLOSE,()=>{_||(_=!0,Ee(Rn,`RPC '${e}' stream ${i} transport closed`),T.Do())}),S(p,Gc.EventType.ERROR,w=>{_||(_=!0,Yu(Rn,`RPC '${e}' stream ${i} transport errored:`,w),T.Do(new we(se.UNAVAILABLE,"The operation could not be completed")))}),S(p,Gc.EventType.MESSAGE,w=>{var O;if(!_){const M=w.data[0];ct(!!M);const k=M,L=(k==null?void 0:k.error)||((O=k[0])===null||O===void 0?void 0:O.error);if(L){Ee(Rn,`RPC '${e}' stream ${i} received error:`,L);const I=L.status;let R=function(C){const V=Ht[C];if(V!==void 0)return gL(V)}(I),x=L.message;R===void 0&&(R=se.INTERNAL,x="Unknown error status: "+I+" with message "+L.message),_=!0,T.Do(new we(R,x)),p.close()}else Ee(Rn,`RPC '${e}' stream ${i} received:`,M),T.vo(M)}}),S(l,Bj.STAT_EVENT,w=>{w.stat===m1.PROXY?Ee(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===m1.NOPROXY&&Ee(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.bo()},0),T}}function Qv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){return new P6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r,i,o,s,l,c){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new OL(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(vo(n.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new we(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bz extends RL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=O6(this.serializer,e),r=function(o){if(!("targetChange"in o))return Be.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Be.min():s.readTime?Di(s.readTime):Be.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=S1(this.serializer),n.addTarget=function(o,s){let l;const c=s.target;if(l=_1(c)?{documents:N6(o,c)}:{query:TL(o,c).ct},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=_L(o,s.resumeToken);const f=b1(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Be.min())>0){l.readTime=Xp(o,s.snapshotVersion.toTimestamp());const f=b1(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=j6(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=S1(this.serializer),n.removeTarget=e,this.c_(n)}}class Ez extends RL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=k6(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=S1(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>R6(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new we(se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,E1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(se.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.ko(e,E1(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(se.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Sz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(vo(n),this.C_=!1):Ee("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{Rs(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=qe(c);f.k_.add(4),await wh(f),f.K_.set("Unknown"),f.k_.delete(4),await yg(f)}(this))})}),this.K_=new Sz(r,i)}}async function yg(t){if(Rs(t))for(const e of t.q_)await e(!0)}async function wh(t){for(const e of t.q_)await e(!1)}function kL(t,e){const n=qe(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),HT(n)?WT(n):Nl(n).s_()&&zT(n,e))}function UT(t,e){const n=qe(t),r=Nl(n);n.B_.delete(e),r.s_()&&NL(n,e),n.B_.size===0&&(r.s_()?r.a_():Rs(n)&&n.K_.set("Unknown"))}function zT(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).V_(e)}function NL(t,e){t.U_.xe(e),Nl(t).m_(e)}function WT(t){t.U_=new T6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.K_.F_()}function HT(t){return Rs(t)&&!Nl(t).i_()&&t.B_.size>0}function Rs(t){return qe(t).k_.size===0}function ML(t){t.U_=void 0}async function Az(t){t.K_.set("Online")}async function Pz(t){t.B_.forEach((e,n)=>{zT(t,e)})}async function Iz(t,e){ML(t),HT(t)?(t.K_.O_(e),WT(t)):t.K_.set("Unknown")}async function Cz(t,e,n){if(t.K_.set("Online"),e instanceof vL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zp(t,r)}else if(e instanceof Ap?t.U_.$e(e):e instanceof yL?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Be.min()))try{const r=await CL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.U_.it(s);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.B_.get(f);d&&o.B_.set(f,d.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,f)=>{const d=o.B_.get(c);if(!d)return;o.B_.set(c,d.withResumeToken(An.EMPTY_BYTE_STRING,d.snapshotVersion)),NL(o,c);const p=new na(d.target,c,f,d.sequenceNumber);zT(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await Zp(t,r)}}async function Zp(t,e,n){if(!kl(e))throw e;t.k_.add(1),await wh(t),t.K_.set("Offline"),n||(n=()=>CL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await yg(t)})}function DL(t,e){return e().catch(n=>Zp(t,n,e))}async function vg(t){const e=qe(t),n=va(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Oz(e);)try{const i=await dz(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,Rz(e,i)}catch(i){await Zp(e,i)}jL(e)&&LL(e)}function Oz(t){return Rs(t)&&t.L_.length<10}function Rz(t,e){t.L_.push(e);const n=va(t);n.s_()&&n.f_&&n.g_(e.mutations)}function jL(t){return Rs(t)&&!va(t).i_()&&t.L_.length>0}function LL(t){va(t).start()}async function kz(t){va(t).w_()}async function Nz(t){const e=va(t);for(const n of t.L_)e.g_(n.mutations)}async function Mz(t,e,n){const r=t.L_.shift(),i=LT.from(r,e,n);await DL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vg(t)}async function Dz(t,e){e&&va(t).f_&&await async function(r,i){if(function(s){return w6(s)&&s!==se.ABORTED}(i.code)){const o=r.L_.shift();va(r).__(),await DL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await vg(r)}}(t,e),jL(t)&&LL(t)}async function XI(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=Rs(n);n.k_.add(3),await wh(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await yg(n)}async function jz(t,e){const n=qe(t);e?(n.k_.delete(2),await yg(n)):e||(n.k_.add(2),await wh(n),n.K_.set("Unknown"))}function Nl(t){return t.W_||(t.W_=function(n,r,i){const o=qe(n);return o.b_(),new bz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:Az.bind(null,t),mo:Pz.bind(null,t),po:Iz.bind(null,t),R_:Cz.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),HT(t)?WT(t):t.K_.set("Unknown")):(await t.W_.stop(),ML(t))})),t.W_}function va(t){return t.G_||(t.G_=function(n,r,i){const o=qe(n);return o.b_(),new Ez(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:kz.bind(null,t),po:Dz.bind(null,t),p_:Nz.bind(null,t),y_:Mz.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await vg(t)):(await t.G_.stop(),t.L_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new GT(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KT(t,e){if(vo("AsyncQueue",`${e}: ${t}`),kl(t))return new we(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.z_=new Dt(Re.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ve():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class nl{constructor(e,n,r,i,o,s,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new nl(e,n,qu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class $z{constructor(){this.queries=ZI(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=qe(n),o=i.queries;i.queries=ZI(),o.forEach((s,l)=>{for(const c of l.J_)c.onError(r)})})(this,new we(se.ABORTED,"Firestore shutting down"))}}function ZI(){return new Cs(t=>rL(t),cg)}async function $L(t,e){const n=qe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new Lz,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=KT(s,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&QT(n)}async function VL(t,e){const n=qe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Vz(t,e){const n=qe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.J_)l.ta(i)&&(r=!0);s.H_=i}}r&&QT(n)}function Fz(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function QT(t){t.X_.forEach(e=>{e.next()})}var A1,eC;(eC=A1||(A1={})).na="default",eC.Cache="cache";class FL{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==A1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.key=e}}class BL{constructor(e){this.key=e}}class qz{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ye(),this.mutatedKeys=Ye(),this.Va=iL(e),this.ma=new qu(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new JI,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const y=i.get(d),_=fg(this.query,p)?p:null,T=!!y&&this.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let w=!1;y&&_?y.data.isEqual(_.data)?T!==S&&(r.track({type:3,doc:_}),w=!0):this.ya(y,_)||(r.track({type:2,doc:_}),w=!0,(c&&this.Va(_,c)>0||f&&this.Va(_,f)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),w=!0):y&&!_&&(r.track({type:1,doc:y}),w=!0,(c||f)&&(l=!0)),w&&(_?(s=s.add(_),o=S?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:l,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((d,p)=>function(_,T){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return S(_)-S(T)}(d.type,p.type)||this.Va(d.doc,p.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],c=this.Ra.size===0&&this.current&&!i?1:0,f=c!==this.Aa;return this.Aa=c,s.length!==0||f?{snapshot:new nl(this.query,e.ma,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new JI,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ye(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new BL(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new qL(r))}),n}va(e){this.da=e.ds,this.Ra=Ye();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return nl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Bz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Uz{constructor(e){this.key=e,this.Fa=!1}}class zz{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Cs(l=>rL(l),cg),this.Oa=new Map,this.Na=new Set,this.La=new Dt(Re.comparator),this.Ba=new Map,this.ka=new FT,this.qa={},this.Qa=new Map,this.Ka=tl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Wz(t,e,n=!0){const r=KL(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await UL(r,e,n,!0),i}async function Hz(t,e){const n=KL(t);await UL(n,e,!0,!1)}async function UL(t,e,n,r){const i=await pz(t.localStore,Mi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await Gz(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&kL(t.remoteStore,i),l}async function Gz(t,e,n,r,i){t.Ua=(p,y,_)=>async function(S,w,O,M){let k=w.view.ga(O);k.ss&&(k=await KI(S.localStore,w.query,!1).then(({documents:x})=>w.view.ga(x,k)));const L=M&&M.targetChanges.get(w.targetId),I=M&&M.targetMismatches.get(w.targetId)!=null,R=w.view.applyChanges(k,S.isPrimaryClient,L,I);return nC(S,w.targetId,R.ba),R.snapshot}(t,p,y,_);const o=await KI(t.localStore,e,!0),s=new qz(e,o.ds),l=s.ga(o.documents),c=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);nC(t,n,f.ba);const d=new Bz(e,n,s);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),f.snapshot}async function Kz(t,e,n){const r=qe(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!cg(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await x1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&UT(r.remoteStore,i.targetId),P1(r,i.targetId)}).catch(Rl)):(P1(r,i.targetId),await x1(r.localStore,i.targetId,!0))}async function Qz(t,e){const n=qe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),UT(n.remoteStore,r.targetId))}async function Yz(t,e,n){const r=r8(t);try{const i=await function(s,l){const c=qe(s),f=on.now(),d=l.reduce((_,T)=>_.add(T.key),Ye());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=_o(),S=Ye();return c.hs.getEntries(_,d).next(w=>{T=w,T.forEach((O,M)=>{M.isValidDocument()||(S=S.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,T)).next(w=>{p=w;const O=[];for(const M of l){const k=p6(M,p.get(M.key).overlayedDocument);k!=null&&O.push(new Os(M.key,k,Qj(k.value.mapValue),co.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,O,l)}).next(w=>{y=w;const O=w.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(_,w.batchId,O)})}).then(()=>({batchId:y.batchId,changes:aL(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let f=s.qa[s.currentUser.toKey()];f||(f=new Dt(et)),f=f.insert(l,c),s.qa[s.currentUser.toKey()]=f}(r,i.batchId,n),await bh(r,i.changes),await vg(r.remoteStore)}catch(i){const o=KT(i,"Failed to persist write");n.reject(o)}}async function zL(t,e){const n=qe(t);try{const r=await fz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?ct(s.Fa):i.removedDocuments.size>0&&(ct(s.Fa),s.Fa=!1))}),await bh(n,r,e)}catch(r){await Rl(r)}}function tC(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const l=s.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=qe(s);c.onlineState=l;let f=!1;c.queries.forEach((d,p)=>{for(const y of p.J_)y.ea(l)&&(f=!0)}),f&&QT(c)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xz(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new Dt(Re.comparator);s=s.insert(o,jn.newNoDocument(o,Be.min()));const l=Ye().add(o),c=new mg(Be.min(),new Map,new Dt(et),s,l);await zL(r,c),r.La=r.La.remove(o),r.Ba.delete(e),YT(r)}else await x1(r.localStore,e,!1).then(()=>P1(r,e,n)).catch(Rl)}async function Jz(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await cz(n.localStore,e);HL(n,r,null),WL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,i)}catch(i){await Rl(i)}}async function Zz(t,e,n){const r=qe(t);try{const i=await function(s,l){const c=qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let d;return c.mutationQueue.lookupMutationBatch(f,l).next(p=>(ct(p!==null),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d)).next(()=>c.localDocuments.getDocuments(f,d))})}(r.localStore,e);HL(r,e,n),WL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,i)}catch(i){await Rl(i)}}function WL(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function HL(t,e,n){const r=qe(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function P1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||GL(t,r)})}function GL(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(UT(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),YT(t))}function nC(t,e,n){for(const r of n)r instanceof qL?(t.ka.addReference(r.key,e),e8(t,r)):r instanceof BL?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||GL(t,r.key)):Ve()}function e8(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.Na.add(r),YT(t))}function YT(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Re(St.fromString(e)),r=t.Ka.next();t.Ba.set(r,new Uz(n)),t.La=t.La.insert(n,r),kL(t.remoteStore,new na(Mi(MT(n.path)),r,"TargetPurposeLimboResolution",ag.oe))}}async function bh(t,e,n){const r=qe(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((l,c)=>{s.push(r.Ua(c,e,n).then(f=>{var d;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=BT.zi(c.targetId,f);o.push(p)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(c,f){const d=qe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ue.forEach(f,y=>ue.forEach(y.Wi,_=>d.persistence.referenceDelegate.addReference(p,y.targetId,_)).next(()=>ue.forEach(y.Gi,_=>d.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))}catch(p){if(!kl(p))throw p;Ee("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const _=d.us.get(y),T=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(T);d.us=d.us.insert(y,S)}}}(r.localStore,o))}async function t8(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await IL(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(l=>{l.forEach(c=>{c.reject(new we(se.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.Ts)}}function n8(t,e){const n=qe(t),r=n.Ba.get(e);if(r&&r.Fa)return Ye().add(r.key);{let i=Ye();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const l=n.xa.get(s);i=i.unionWith(l.view.fa)}return i}}function KL(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xz.bind(null,e),e.Ma.R_=Vz.bind(null,e.eventManager),e.Ma.Wa=Fz.bind(null,e.eventManager),e}function r8(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zz.bind(null,e),e}class em{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return lz(this.persistence,new sz,e.initialUser,this.serializer)}ja(e){return new PL(qT.ei,this.serializer)}za(e){return new gz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}em.provider={build:()=>new em};class i8 extends em{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ct(this.persistence.referenceDelegate instanceof Jp);const r=this.persistence.referenceDelegate.garbageCollector;return new H6(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new PL(r=>Jp.ei(r,n),this.serializer)}}class I1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t8.bind(null,this.syncEngine),await jz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $z}()}createDatastore(e){const n=gg(e.databaseInfo.databaseId),r=function(o){return new wz(o)}(e.databaseInfo);return function(o,s,l,c){return new Tz(o,s,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new xz(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>tC(this.syncEngine,n,0),function(){return YI.p()?new YI:new yz}())}createSyncEngine(e,n){return function(i,o,s,l,c,f,d){const p=new zz(i,o,s,l,c,f);return d&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=qe(i);Ee("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await wh(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}I1.provider={build:()=>new I1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nn.UNAUTHENTICATED,this.clientId=Hj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=KT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yv(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a8(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>XI(e.remoteStore,i)),t._onlineComponents=e}async function a8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yu("Error using user provided cache. Falling back to memory cache: "+n),await Yv(t,new em)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await Yv(t,new i8(void 0));return t._offlineComponents}async function XT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await rC(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await rC(t,new I1))),t._onlineComponents}function s8(t){return XT(t).then(e=>e.syncEngine)}function u8(t){return XT(t).then(e=>e.datastore)}async function YL(t){const e=await XT(t),n=e.eventManager;return n.onListen=Wz.bind(null,e.syncEngine),n.onUnlisten=Kz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Qz.bind(null,e.syncEngine),n}function l8(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,f){const d=new QL({next:y=>{d.eu(),s.enqueueAndForget(()=>VL(o,p));const _=y.docs.has(l);!_&&y.fromCache?f.reject(new we(se.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?f.reject(new we(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new FL(MT(l.path),d,{includeMetadataChanges:!0,ua:!0});return $L(o,p)}(await YL(t),t.asyncQueue,e,n,r)),r.promise}function c8(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,f){const d=new QL({next:y=>{d.eu(),s.enqueueAndForget(()=>VL(o,p)),y.fromCache&&c.source==="server"?f.reject(new we(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new FL(l,d,{includeMetadataChanges:!0,ua:!0});return $L(o,p)}(await YL(t),t.asyncQueue,e,n,r)),r.promise}function f8(t,e,n){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await u8(t);r.resolve(async function(s,l,c){var f;const d=qe(s),{request:p,lt:y,parent:_}=M6(d.serializer,e6(l),c);d.connection.Co||delete p.parent;const T=(await d.ko("RunAggregationQuery",d.serializer.databaseId,_,p,1)).filter(w=>!!w.result);ct(T.length===1);const S=(f=T[0].result)===null||f===void 0?void 0:f.aggregateFields;return Object.keys(S).reduce((w,O)=>(w[y[O]]=S[O],w),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t,e,n){if(!n)throw new we(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h8(t,e,n,r){if(e===!0&&r===!0)throw new we(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oC(t){if(!Re.isDocumentKey(t))throw new we(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aC(t){if(Re.isDocumentKey(t))throw new we(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _g(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function _a(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_g(t);throw new we(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ZL(t,e){if(e<=0)throw new we(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w9;switch(r.type){case"firstParty":return new S9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iC.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),iC.delete(n),r.terminate())}(this),Promise.resolve()}}function d8(t,e,n,r={}){var i;const o=(t=_a(t,wg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Yu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Nn.MOCK_USER;else{l=cD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new we(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Nn(f)}t._authCredentials=new b9(new Wj(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fi(this.firestore,e,this._query)}}class rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class la extends Fi{constructor(e,n,r){super(e,n,MT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Re(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function Yc(t,e,...n){if(t=ir(t),JL("collection","path",e),t instanceof wg){const r=St.fromString(e,...n);return aC(r),new la(t,null,r)}{if(!(t instanceof rr||t instanceof la))throw new we(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return aC(r),new la(t.firestore,null,r)}}function C1(t,e,...n){if(t=ir(t),arguments.length===1&&(e=Hj.newId()),JL("doc","path",e),t instanceof wg){const r=St.fromString(e,...n);return oC(r),new rr(t,null,new Re(r))}{if(!(t instanceof rr||t instanceof la))throw new we(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return oC(r),new rr(t.firestore,t instanceof la?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new OL(this,"async_queue_retry"),this.fu=()=>{const r=Qv();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Qv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Qv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ni;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!kl(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw vo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=GT.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&Ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Eh extends wg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uC(e),this._firestoreClient=void 0,await e}}}function p8(t,e){const n=typeof t=="object"?t:ED(),r=typeof t=="string"?t:"(default)",i=_D(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=uD("firestore");o&&d8(i,...o)}return i}function bg(t){if(t._terminated)throw new we(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m8(t),t._firestoreClient}function m8(t){var e,n,r;const i=t._freezeSettings(),o=function(l,c,f,d){return new F9(l,c,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,XL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new o8(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class y8{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(An.fromBase64String(e))}catch(n){throw new we(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rl(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=/^__.*__$/;class e${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function t$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class tS{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new tS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return tm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(t$(this.Mu)&&v8.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class _8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gg(e)}$u(e,n,r,i=!1){return new tS({Mu:e,methodName:n,Ku:r,path:Sn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nS(t){const e=t._freezeSettings(),n=gg(t._databaseId);return new _8(t._databaseId,!!e.ignoreUndefinedProperties,n)}class Tg extends JT{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tg}}function w8(t,e,n,r){const i=t.$u(1,e,n);i$("Data must be an object, but it was:",i,r);const o=[],s=Er.empty();ba(r,(c,f)=>{const d=rS(e,c,n);f=ir(f);const p=i.Bu(d);if(f instanceof Tg)o.push(d);else{const y=Th(f,p);y!=null&&(o.push(d),s.set(d,y))}});const l=new di(o);return new e$(s,l,i.fieldTransforms)}function b8(t,e,n,r,i,o){const s=t.$u(1,e,n),l=[lC(e,r,n)],c=[i];if(o.length%2!=0)throw new we(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)l.push(lC(e,o[y])),c.push(o[y+1]);const f=[],d=Er.empty();for(let y=l.length-1;y>=0;--y)if(!S8(f,l[y])){const _=l[y];let T=c[y];T=ir(T);const S=s.Bu(_);if(T instanceof Tg)f.push(_);else{const w=Th(T,S);w!=null&&(f.push(_),d.set(_,w))}}const p=new di(f);return new e$(d,p,s.fieldTransforms)}function n$(t,e,n,r=!1){return Th(n,t.$u(r?4:3,e))}function Th(t,e){if(r$(t=ir(t)))return i$("Unsupported field value:",e,t),E8(t,e);if(t instanceof JT)return function(r,i){if(!t$(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let c=Th(l,i.ku(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=on.fromDate(r);return{timestampValue:Xp(i.serializer,o)}}if(r instanceof on){const o=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xp(i.serializer,o)}}if(r instanceof ZT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rl)return{bytesValue:_L(i.serializer,r._byteString)};if(r instanceof rr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:VT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eS)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.qu("VectorValues must only contain numeric values.");return jT(l.serializer,c)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${_g(r)}`)}(t,e)}function E8(t,e){const n={};return Gj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,(r,i)=>{const o=Th(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function r$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof ZT||t instanceof rl||t instanceof rr||t instanceof JT||t instanceof eS)}function i$(t,e,n){if(!r$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_g(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function lC(t,e,n){if((e=ir(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return rS(t,e);throw tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const T8=new RegExp("[~\\*/\\[\\]]");function rS(t,e,n){if(e.search(T8)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eg(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new we(se.INVALID_ARGUMENT,l+t+c)}function S8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x8 extends iS{data(){return super.data()}}function Sg(t,e){return typeof e=="string"?rS(t,e):e instanceof Eg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oS{}class Sh extends oS{}function Xc(t,e,...n){let r=[];e instanceof oS&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof aS).length,l=o.filter(c=>c instanceof xg).length;if(s>1||s>0&&l>0)throw new we(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xg extends Sh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xg(e,n,r)}_apply(e){const n=this._parse(e);return a$(e._query,n),new Fi(e.firestore,e.converter,w1(e._query,n))}_parse(e){const n=nS(e.firestore);return function(o,s,l,c,f,d,p){let y;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new we(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){fC(p,d);const _=[];for(const T of p)_.push(cC(c,o,T));y={arrayValue:{values:_}}}else y=cC(c,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||fC(p,d),y=n$(l,s,p,d==="in"||d==="not-in");return Kt.create(f,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yr(t,e,n){const r=e,i=Sg("where",t);return xg._create(i,r,n)}class aS extends oS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new aS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const c of l)a$(s,c),s=w1(s,c)}(e._query,n),new Fi(e.firestore,e.converter,w1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sS extends Sh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sS(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new we(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cf(o,s)}(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Ea(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Pp(t,e="asc"){const n=e,r=Sg("orderBy",t);return sS._create(r,n)}class Ag extends Sh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ag(e,n,r)}_apply(e){return new Fi(e.firestore,e.converter,Kp(e._query,this._limit,this._limitType))}}function O1(t){return ZL("limit",t),Ag._create("limit",t,"F")}function P8(t){return ZL("limitToLast",t),Ag._create("limitToLast",t,"L")}class uS extends Sh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new uS(e,n,r)}_apply(e){const n=o$(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,function(i,o){return new Ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function I8(...t){return uS._create("startAfter",t,!1)}class lS extends Sh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lS(e,n,r)}_apply(e){const n=o$(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,function(i,o){return new Ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}}function C8(...t){return lS._create("endBefore",t,!1)}function o$(t,e,n,r){if(n[0]=ir(n[0]),n[0]instanceof iS)return function(o,s,l,c,f){if(!c)throw new we(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const p of Fu(o))if(p.field.isKeyField())d.push(Gp(s,c.key));else{const y=c.data.field(p.field);if(ug(y))throw new we(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const _=p.field.canonicalString();throw new we(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}d.push(y)}return new el(d,f)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=nS(t.firestore);return function(s,l,c,f,d,p){const y=s.explicitOrderBy;if(d.length>y.length)throw new we(se.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let T=0;T<d.length;T++){const S=d[T];if(y[T].field.isKeyField()){if(typeof S!="string")throw new we(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof S}`);if(!DT(s)&&S.indexOf("/")!==-1)throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${S}' contains a slash.`);const w=s.path.child(St.fromString(S));if(!Re.isDocumentKey(w))throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const O=new Re(w);_.push(Gp(l,O))}else{const w=n$(c,f,S);_.push(w)}}return new el(_,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function cC(t,e,n){if(typeof(n=ir(n))=="string"){if(n==="")throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DT(e)&&n.indexOf("/")!==-1)throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!Re.isDocumentKey(r))throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gp(t,new Re(r))}if(n instanceof rr)return Gp(t,n._key);throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_g(n)}.`)}function fC(t,e){if(!Array.isArray(t)||t.length===0)throw new we(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a$(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O8{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ba(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>qt(s.doubleValue));return new eS(o)}convertGeoPoint(e){return new ZT(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Af(e));default:return null}}convertTimestamp(e){const n=ma(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);ct(AL(r));const i=new Pf(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return i.isEqual(n)||vo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function R8(){return new g8("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class s$ extends iS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ip extends s${data(e={}){return super.data(e)}}class k8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ip(this._firestore,this._userDataWriter,r.key,r,new Jc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const c=new Ip(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Jc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new Ip(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Jc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:N8(l.type),doc:c,oldIndex:f,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function N8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){t=_a(t,rr);const e=_a(t.firestore,Eh);return l8(bg(e),t._key).then(n=>j8(e,t,n))}class cS extends O8{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,n)}}function Cp(t){t=_a(t,Fi);const e=_a(t.firestore,Eh),n=bg(e),r=new cS(e);return A8(t._query),c8(n,t._query).then(i=>new k8(e,r,t,i))}function M8(t,e,n,...r){t=_a(t,rr);const i=_a(t.firestore,Eh),o=nS(i);let s;return s=typeof(e=ir(e))=="string"||e instanceof Eg?b8(o,"updateDoc",t._key,e,n,r):w8(o,"updateDoc",t._key,e),D8(i,[s.toMutation(t._key,co.exists(!0))])}function D8(t,e){return function(r,i){const o=new Ni;return r.asyncQueue.enqueueAndForget(async()=>Yz(await s8(r),i,o)),o.promise}(bg(t),e)}function j8(t,e,n){const r=n.docs.get(e._key),i=new cS(t);return new s$(t,i,e._key,r,new Jc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){return $8(t,{count:R8()})}function $8(t,e){const n=_a(t.firestore,Eh),r=bg(n),i=$9(e,(o,s)=>new v6(s,o.aggregateType,o._internalFieldPath));return f8(r,t._query,i).then(o=>function(l,c,f){const d=new cS(l);return new y8(c,d,f)}(n,t,o))}(function(e,n=!0){(function(i){Ol=i})(wD),yf(new Hu("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Eh(new E9(r.getProvider("auth-internal")),new A9(r.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(f.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),sa(xI,"4.7.5",e),sa(xI,"4.7.5","esm2017")})();const V8={apiKey:"AIzaSyDeJS1-Ucxs8YniV-vS-TB5uDWIEaTCsFg",authDomain:"dht-firebase-if51.firebaseapp.com",databaseURL:"https://dht-firebase-if51-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"dht-firebase-if51",storageBucket:"dht-firebase-if51.firebasestorage.app",messagingSenderId:"508179112287",appId:"1:508179112287:web:eb19dceb481f4bd0db16ea",measurementId:"G-VP8SK1EK3L"},l$=bD(V8),F8=y9(l$),ra=p8(l$);function c$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=c$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=c$(t))&&(r&&(r+=" "),r+=e);return r}var Xv,hC;function ar(){if(hC)return Xv;hC=1;var t=Array.isArray;return Xv=t,Xv}var Jv,dC;function f$(){if(dC)return Jv;dC=1;var t=typeof Yd=="object"&&Yd&&Yd.Object===Object&&Yd;return Jv=t,Jv}var Zv,pC;function qi(){if(pC)return Zv;pC=1;var t=f$(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Zv=n,Zv}var e_,mC;function xh(){if(mC)return e_;mC=1;var t=qi(),e=t.Symbol;return e_=e,e_}var t_,gC;function q8(){if(gC)return t_;gC=1;var t=xh(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var d=r.call(s);return f&&(l?s[i]=c:delete s[i]),d}return t_=o,t_}var n_,yC;function B8(){if(yC)return n_;yC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return n_=n,n_}var r_,vC;function xo(){if(vC)return r_;vC=1;var t=xh(),e=q8(),n=B8(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return r_=s,r_}var i_,_C;function Ao(){if(_C)return i_;_C=1;function t(e){return e!=null&&typeof e=="object"}return i_=t,i_}var o_,wC;function Ml(){if(wC)return o_;wC=1;var t=xo(),e=Ao(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return o_=r,o_}var a_,bC;function fS(){if(bC)return a_;bC=1;var t=ar(),e=Ml(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return a_=i,a_}var s_,EC;function Ta(){if(EC)return s_;EC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return s_=t,s_}var u_,TC;function hS(){if(TC)return u_;TC=1;var t=xo(),e=Ta(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return u_=s,u_}var l_,SC;function U8(){if(SC)return l_;SC=1;var t=qi(),e=t["__core-js_shared__"];return l_=e,l_}var c_,xC;function z8(){if(xC)return c_;xC=1;var t=U8(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return c_=n,c_}var f_,AC;function h$(){if(AC)return f_;AC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return f_=n,f_}var h_,PC;function W8(){if(PC)return h_;PC=1;var t=hS(),e=z8(),n=Ta(),r=h$(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?d:o;return _.test(r(y))}return h_=p,h_}var d_,IC;function H8(){if(IC)return d_;IC=1;function t(e,n){return e==null?void 0:e[n]}return d_=t,d_}var p_,CC;function ks(){if(CC)return p_;CC=1;var t=W8(),e=H8();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return p_=n,p_}var m_,OC;function Pg(){if(OC)return m_;OC=1;var t=ks(),e=t(Object,"create");return m_=e,m_}var g_,RC;function G8(){if(RC)return g_;RC=1;var t=Pg();function e(){this.__data__=t?t(null):{},this.size=0}return g_=e,g_}var y_,kC;function K8(){if(kC)return y_;kC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return y_=t,y_}var v_,NC;function Q8(){if(NC)return v_;NC=1;var t=Pg(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return r.call(s,o)?s[o]:void 0}return v_=i,v_}var __,MC;function Y8(){if(MC)return __;MC=1;var t=Pg(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return __=r,__}var w_,DC;function X8(){if(DC)return w_;DC=1;var t=Pg(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return w_=n,w_}var b_,jC;function J8(){if(jC)return b_;jC=1;var t=G8(),e=K8(),n=Q8(),r=Y8(),i=X8();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,b_=o,b_}var E_,LC;function Z8(){if(LC)return E_;LC=1;function t(){this.__data__=[],this.size=0}return E_=t,E_}var T_,$C;function dS(){if($C)return T_;$C=1;function t(e,n){return e===n||e!==e&&n!==n}return T_=t,T_}var S_,VC;function Ig(){if(VC)return S_;VC=1;var t=dS();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return S_=e,S_}var x_,FC;function eW(){if(FC)return x_;FC=1;var t=Ig(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():n.call(o,s,1),--this.size,!0}return x_=r,x_}var A_,qC;function tW(){if(qC)return A_;qC=1;var t=Ig();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return A_=e,A_}var P_,BC;function nW(){if(BC)return P_;BC=1;var t=Ig();function e(n){return t(this.__data__,n)>-1}return P_=e,P_}var I_,UC;function rW(){if(UC)return I_;UC=1;var t=Ig();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return I_=e,I_}var C_,zC;function Cg(){if(zC)return C_;zC=1;var t=Z8(),e=eW(),n=tW(),r=nW(),i=rW();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,C_=o,C_}var O_,WC;function pS(){if(WC)return O_;WC=1;var t=ks(),e=qi(),n=t(e,"Map");return O_=n,O_}var R_,HC;function iW(){if(HC)return R_;HC=1;var t=J8(),e=Cg(),n=pS();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return R_=r,R_}var k_,GC;function oW(){if(GC)return k_;GC=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return k_=t,k_}var N_,KC;function Og(){if(KC)return N_;KC=1;var t=oW();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return N_=e,N_}var M_,QC;function aW(){if(QC)return M_;QC=1;var t=Og();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return M_=e,M_}var D_,YC;function sW(){if(YC)return D_;YC=1;var t=Og();function e(n){return t(this,n).get(n)}return D_=e,D_}var j_,XC;function uW(){if(XC)return j_;XC=1;var t=Og();function e(n){return t(this,n).has(n)}return j_=e,j_}var L_,JC;function lW(){if(JC)return L_;JC=1;var t=Og();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return L_=e,L_}var $_,ZC;function mS(){if(ZC)return $_;ZC=1;var t=iW(),e=aW(),n=sW(),r=uW(),i=lW();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,$_=o,$_}var V_,eO;function d$(){if(eO)return V_;eO=1;var t=mS(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,V_=n,V_}var F_,tO;function cW(){if(tO)return F_;tO=1;var t=d$(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return F_=n,F_}var q_,nO;function fW(){if(nO)return q_;nO=1;var t=cW(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(n,"$1"):l||s)}),o});return q_=r,q_}var B_,rO;function gS(){if(rO)return B_;rO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return B_=t,B_}var U_,iO;function hW(){if(iO)return U_;iO=1;var t=xh(),e=gS(),n=ar(),r=Ml(),i=1/0,o=t?t.prototype:void 0,s=o?o.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return s?s.call(c):"";var f=c+"";return f=="0"&&1/c==-i?"-0":f}return U_=l,U_}var z_,oO;function p$(){if(oO)return z_;oO=1;var t=hW();function e(n){return n==null?"":t(n)}return z_=e,z_}var W_,aO;function m$(){if(aO)return W_;aO=1;var t=ar(),e=fS(),n=fW(),r=p$();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return W_=i,W_}var H_,sO;function Rg(){if(sO)return H_;sO=1;var t=Ml(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return H_=n,H_}var G_,uO;function yS(){if(uO)return G_;uO=1;var t=m$(),e=Rg();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return G_=n,G_}var K_,lO;function g$(){if(lO)return K_;lO=1;var t=yS();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return K_=e,K_}var dW=g$();const Fr=vt(dW);var Q_,cO;function pW(){if(cO)return Q_;cO=1;function t(e){return e==null}return Q_=t,Q_}var mW=pW();const Xe=vt(mW);var Y_,fO;function gW(){if(fO)return Y_;fO=1;var t=xo(),e=ar(),n=Ao(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return Y_=i,Y_}var yW=gW();const Ah=vt(yW);var vW=hS();const We=vt(vW);var _W=Ta();const Dl=vt(_W);var X_={exports:{}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hO;function wW(){if(hO)return ft;hO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var O=w.$$typeof;switch(O){case t:switch(w=w.type,w){case n:case i:case r:case f:case d:return w;default:switch(w=w&&w.$$typeof,w){case l:case s:case c:case y:case p:case o:return w;default:return O}}case e:return O}}}return ft.ContextConsumer=s,ft.ContextProvider=o,ft.Element=t,ft.ForwardRef=c,ft.Fragment=n,ft.Lazy=y,ft.Memo=p,ft.Portal=e,ft.Profiler=i,ft.StrictMode=r,ft.Suspense=f,ft.SuspenseList=d,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(w){return S(w)===s},ft.isContextProvider=function(w){return S(w)===o},ft.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},ft.isForwardRef=function(w){return S(w)===c},ft.isFragment=function(w){return S(w)===n},ft.isLazy=function(w){return S(w)===y},ft.isMemo=function(w){return S(w)===p},ft.isPortal=function(w){return S(w)===e},ft.isProfiler=function(w){return S(w)===i},ft.isStrictMode=function(w){return S(w)===r},ft.isSuspense=function(w){return S(w)===f},ft.isSuspenseList=function(w){return S(w)===d},ft.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===d||w===_||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===p||w.$$typeof===o||w.$$typeof===s||w.$$typeof===c||w.$$typeof===T||w.getModuleId!==void 0)},ft.typeOf=S,ft}var dO;function bW(){return dO||(dO=1,X_.exports=wW()),X_.exports}var EW=bW(),J_,pO;function y$(){if(pO)return J_;pO=1;var t=xo(),e=Ao(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return J_=r,J_}var Z_,mO;function TW(){if(mO)return Z_;mO=1;var t=y$();function e(n){return t(n)&&n!=+n}return Z_=e,Z_}var SW=TW();const Ph=vt(SW);var xW=y$();const AW=vt(xW);var pi=function(e){return e===0?0:e>0?1:-1},us=function(e){return Ah(e)&&e.indexOf("%")===e.length-1},_e=function(e){return AW(e)&&!Ph(e)},rn=function(e){return _e(e)||Ah(e)},PW=0,Ih=function(e){var n=++PW;return"".concat(e||"").concat(n)},Ts=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!Ah(e))return r;var o;if(us(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Ph(o)&&(o=r),i&&o>n&&(o=n),o},ta=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},IW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ui=function(e,n){return _e(e)&&_e(n)?function(r){return e+r*(n-e)}:function(){return n}};function nm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Fr(r,e))===n})}function Bu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function R1(t){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R1(t)}var CW=["viewBox","children"],OW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gO=["points","pathLength"],e0={svg:CW,polygon:gO,polyline:gO},vS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(de.isValidElement(e)&&(r=e.props),!Dl(r))return null;var i={};return Object.keys(r).forEach(function(o){vS.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},RW=function(e,n,r){return function(i){return e(n,r,i),null}},im=function(e,n,r){if(!Dl(e)||R1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];vS.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=RW(s,n,r))}),i},kW=["children"],NW=["children"];function yO(t,e){if(t==null)return{};var n=MW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k1(t){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k1(t)}var vO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_O=null,t0=null,_S=function t(e){if(e===_O&&Array.isArray(t0))return t0;var n=[];return de.Children.forEach(e,function(r){Xe(r)||(EW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),t0=n,_O=e,n};function qr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return fo(i)}):r=[fo(e)],_S(t).forEach(function(i){var o=Fr(i,"type.displayName")||Fr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function br(t,e){var n=qr(t,e);return n&&n[0]}var wO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!_e(r)||r<=0||!_e(i)||i<=0)},DW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jW=function(e){return e&&e.type&&Ah(e.type)&&DW.indexOf(e.type)>=0},LW=function(e){return e&&k1(e)==="object"&&"clipDot"in e},$W=function(e,n,r,i){var o,s=(o=e0==null?void 0:e0[i])!==null&&o!==void 0?o:[];return!We(e)&&(i&&s.includes(n)||OW.includes(n))||r&&vS.includes(n)},tt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(de.isValidElement(e)&&(i=e.props),!Dl(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;$W((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(o[s]=i[s])}),o},N1=function t(e,n){if(e===n)return!0;var r=de.Children.count(e);if(r!==de.Children.count(n))return!1;if(r===0)return!0;if(r===1)return bO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!bO(o,s))return!1}return!0},bO=function(e,n){if(Xe(e)&&Xe(n))return!0;if(!Xe(e)&&!Xe(n)){var r=e.props||{},i=r.children,o=yO(r,kW),s=n.props||{},l=s.children,c=yO(s,NW);return i&&l?Bu(o,c)&&N1(i,l):!i&&!l?Bu(o,c):!1}return!1},EO=function(e,n){var r=[],i={};return _S(e).forEach(function(o,s){if(jW(o))r.push(o);else if(o){var l=fo(o.type),c=n[l]||{},f=c.handler,d=c.once;if(f&&(!d||!i[l])){var p=f(o,l,s);r.push(p),i[l]=!0}}}),r},VW=function(e){var n=e&&e.type;return n&&vO[n]?vO[n]:null},FW=function(e,n){return _S(n).indexOf(e)},qW=["children","width","height","viewBox","className","style","title","desc"];function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M1.apply(this,arguments)}function BW(t,e){if(t==null)return{};var n=UW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D1(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=BW(t,qW),d=i||{width:n,height:r,x:0,y:0},p=at("recharts-surface",o);return W.createElement("svg",M1({},tt(f,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),e)}var zW=["children","className"];function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j1.apply(this,arguments)}function WW(t,e){if(t==null)return{};var n=HW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bt=W.forwardRef(function(t,e){var n=t.children,r=t.className,i=WW(t,zW),o=at("recharts-layer",r);return W.createElement("g",j1({className:o},tt(i,!0),{ref:e}),n)}),ho=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},n0,TO;function GW(){if(TO)return n0;TO=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return n0=t,n0}var r0,SO;function KW(){if(SO)return r0;SO=1;var t=GW();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return r0=e,r0}var i0,xO;function v$(){if(xO)return i0;xO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return i0=c,i0}var o0,AO;function QW(){if(AO)return o0;AO=1;function t(e){return e.split("")}return o0=t,o0}var a0,PO;function YW(){if(PO)return a0;PO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",d="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",T=f+"?",S="["+o+"]?",w="(?:"+_+"(?:"+[d,p,y].join("|")+")"+S+T+")*",O=S+T+w,M="(?:"+[d+l+"?",l,p,y,s].join("|")+")",k=RegExp(c+"(?="+c+")|"+M+O,"g");function L(I){return I.match(k)||[]}return a0=L,a0}var s0,IO;function XW(){if(IO)return s0;IO=1;var t=QW(),e=v$(),n=YW();function r(i){return e(i)?n(i):t(i)}return s0=r,s0}var u0,CO;function JW(){if(CO)return u0;CO=1;var t=KW(),e=v$(),n=XW(),r=p$();function i(o){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return u0=i,u0}var l0,OO;function ZW(){if(OO)return l0;OO=1;var t=JW(),e=t("toUpperCase");return l0=e,l0}var eH=ZW();const kg=vt(eH);function Et(t){return function(){return t}}const _$=Math.cos,om=Math.sin,yi=Math.sqrt,am=Math.PI,Ng=2*am,L1=Math.PI,$1=2*L1,is=1e-6,tH=$1-is;function w$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w$:nH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=r-e,f=i-n,d=s-e,p=l-n,y=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>is)if(!(Math.abs(p*c-f*d)>is)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,T=i-l,S=c*c+f*f,w=_*_+T*T,O=Math.sqrt(S),M=Math.sqrt(y),k=o*Math.tan((L1-Math.acos((S+y-w)/(2*O*M)))/2),L=k/M,I=k/O;Math.abs(L-1)>is&&this._append`L${e+L*d},${n+L*p}`,this._append`A${o},${o},0,0,${+(p*_>d*T)},${this._x1=e+I*c},${this._y1=n+I*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,d=n+c,p=1^s,y=s?i-o:o-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>is||Math.abs(this._y1-d)>is)&&this._append`L${f},${d}`,r&&(y<0&&(y=y%$1+$1),y>tH?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:y>is&&this._append`A${r},${r},0,${+(y>=L1)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new rH(e)}function bS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b$(t){this._context=t}b$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Mg(t){return new b$(t)}function E$(t){return t[0]}function T$(t){return t[1]}function S$(t,e){var n=Et(!0),r=null,i=Mg,o=null,s=wS(l);t=typeof t=="function"?t:t===void 0?E$:Et(t),e=typeof e=="function"?e:e===void 0?T$:Et(e);function l(c){var f,d=(c=bS(c)).length,p,y=!1,_;for(r==null&&(o=i(_=s())),f=0;f<=d;++f)!(f<d&&n(p=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(p,f,c),+e(p,f,c));if(_)return o=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Et(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Et(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Et(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function op(t,e,n){var r=null,i=Et(!0),o=null,s=Mg,l=null,c=wS(f);t=typeof t=="function"?t:t===void 0?E$:Et(+t),e=typeof e=="function"?e:Et(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?T$:Et(+n);function f(p){var y,_,T,S=(p=bS(p)).length,w,O=!1,M,k=new Array(S),L=new Array(S);for(o==null&&(l=s(M=c())),y=0;y<=S;++y){if(!(y<S&&i(w=p[y],y,p))===O)if(O=!O)_=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),T=y-1;T>=_;--T)l.point(k[T],L[T]);l.lineEnd(),l.areaEnd()}O&&(k[y]=+t(w,y,p),L[y]=+e(w,y,p),l.point(r?+r(w,y,p):k[y],n?+n(w,y,p):L[y]))}if(M)return l=null,M+""||null}function d(){return S$().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Et(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Et(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Et(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Et(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Et(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Et(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Et(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),f):o},f}class x${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function iH(t){return new x$(t,!0)}function oH(t){return new x$(t,!1)}const ES={draw(t,e){const n=yi(e/am);t.moveTo(n,0),t.arc(0,0,n,0,Ng)}},aH={draw(t,e){const n=yi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},A$=yi(1/3),sH=A$*2,uH={draw(t,e){const n=yi(e/sH),r=n*A$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},lH={draw(t,e){const n=yi(e),r=-n/2;t.rect(r,r,n,n)}},cH=.8908130915292852,P$=om(am/10)/om(7*am/10),fH=om(Ng/10)*P$,hH=-_$(Ng/10)*P$,dH={draw(t,e){const n=yi(e*cH),r=fH*n,i=hH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Ng*o/5,l=_$(s),c=om(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},c0=yi(3),pH={draw(t,e){const n=-yi(e/(c0*3));t.moveTo(0,n*2),t.lineTo(-c0*n,-n),t.lineTo(c0*n,-n),t.closePath()}},jr=-.5,Lr=yi(3)/2,V1=1/yi(12),mH=(V1/2+1)*3,gH={draw(t,e){const n=yi(e/mH),r=n/2,i=n*V1,o=r,s=n*V1+n,l=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(jr*r-Lr*i,Lr*r+jr*i),t.lineTo(jr*o-Lr*s,Lr*o+jr*s),t.lineTo(jr*l-Lr*c,Lr*l+jr*c),t.lineTo(jr*r+Lr*i,jr*i-Lr*r),t.lineTo(jr*o+Lr*s,jr*s-Lr*o),t.lineTo(jr*l+Lr*c,jr*c-Lr*l),t.closePath()}};function yH(t,e){let n=null,r=wS(i);t=typeof t=="function"?t:Et(t||ES),e=typeof e=="function"?e:Et(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Et(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Et(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function sm(){}function um(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function I$(t){this._context=t}I$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vH(t){return new I$(t)}function C$(t){this._context=t}C$.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _H(t){return new C$(t)}function O$(t){this._context=t}O$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wH(t){return new O$(t)}function R$(t){this._context=t}R$.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bH(t){return new R$(t)}function RO(t){return t<0?-1:1}function kO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(RO(o)+RO(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function NO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function f0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,s-l*n,o,s)}function lm(t){this._context=t}lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f0(this,this._t0,NO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,f0(this,NO(this,n=kO(this,t,e)),n);break;default:f0(this,this._t0,n=kO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function k$(t){this._context=new N$(t)}(k$.prototype=Object.create(lm.prototype)).point=function(t,e){lm.prototype.point.call(this,e,t)};function N$(t){this._context=t}N$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function EH(t){return new lm(t)}function TH(t){return new k$(t)}function M$(t){this._context=t}M$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=MO(t),i=MO(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function SH(t){return new M$(t)}function Dg(t,e){this._context=t,this._t=e}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function xH(t){return new Dg(t,.5)}function AH(t){return new Dg(t,0)}function PH(t){return new Dg(t,1)}function il(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,l=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function F1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function IH(t,e){return t[e]}function CH(t){const e=[];return e.key=t,e}function OH(){var t=Et([]),e=F1,n=il,r=IH;function i(o){var s=Array.from(t.apply(this,arguments),CH),l,c=s.length,f=-1,d;for(const p of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(p,s[l].key,f,o)]).data=p;for(l=0,d=bS(e(s));l<c;++l)s[d[l]].index=l;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Et(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Et(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?F1:typeof o=="function"?o:Et(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??il,i):n},i}function RH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}il(t,e)}}function kH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}il(t,e)}}function NH(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,c=0,f=0;l<s;++l){for(var d=t[e[l]],p=d[r][1]||0,y=d[r-1][1]||0,_=(p-y)/2,T=0;T<l;++T){var S=t[e[T]],w=S[r][1]||0,O=S[r-1][1]||0;_+=w-O}c+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,il(t,e)}}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var MH=["type","size","sizeType"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return e=jH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jH(t){var e=LH(t,"string");return kf(e)=="symbol"?e:e+""}function LH(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $H(t,e){if(t==null)return{};var n=VH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var D$={symbolCircle:ES,symbolCross:aH,symbolDiamond:uH,symbolSquare:lH,symbolStar:dH,symbolTriangle:pH,symbolWye:gH},FH=Math.PI/180,qH=function(e){var n="symbol".concat(kg(e));return D$[n]||ES},BH=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*FH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UH=function(e,n){D$["symbol".concat(kg(e))]=n},TS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=$H(e,MH),f=jO(jO({},c),{},{type:r,size:o,sizeType:l}),d=function(){var w=qH(r),O=yH().type(w).size(BH(o,l,r));return O()},p=f.className,y=f.cx,_=f.cy,T=tt(f,!0);return y===+y&&_===+_&&o===+o?W.createElement("path",q1({},T,{className:at("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(_,")"),d:d()})):null};TS.registerSymbol=UH;function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(this,arguments)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){Nf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L$(r.key),r)}}function GH(t,e,n){return e&&HH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KH(t,e,n){return e=cm(e),QH(t,j$()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function QH(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YH(t)}function YH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function XH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U1(t,e)}function U1(t,e){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U1(t,e)}function Nf(t,e,n){return e=L$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=JH(t,"string");return ol(e)=="symbol"?e:e+""}function JH(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $r=32,SS=function(t){function e(){return WH(this,e),KH(this,e,arguments)}return XH(e,t),GH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=$r/2,s=$r/6,l=$r/3,c=r.inactive?i:r.color;if(r.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:$r,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat($r,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat($r/8,"h").concat($r,"v").concat($r*3/4,"h").concat(-$r,"z"),className:"recharts-legend-icon"});if(W.isValidElement(r.legendIcon)){var f=zH({},r);return delete f.legendIcon,W.cloneElement(r.legendIcon,f)}return W.createElement(TS,{fill:c,cx:o,cy:o,size:$r,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,d={x:0,y:0,width:$r,height:$r},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(_,T){var S=_.formatter||c,w=at(Nf(Nf({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",_.inactive));if(_.type==="none")return null;var O=We(_.value)?null:_.value;ho(!We(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=_.inactive?f:_.color;return W.createElement("li",B1({className:w,style:p,key:"legend-item-".concat(T)},im(r.props,_,T)),W.createElement(D1,{width:s,height:s,viewBox:d,style:y},r.renderIcon(_)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},S?S(O,_,T):O))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(de.PureComponent);Nf(SS,"displayName","Legend");Nf(SS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var h0,$O;function ZH(){if($O)return h0;$O=1;var t=Cg();function e(){this.__data__=new t,this.size=0}return h0=e,h0}var d0,VO;function e7(){if(VO)return d0;VO=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return d0=t,d0}var p0,FO;function t7(){if(FO)return p0;FO=1;function t(e){return this.__data__.get(e)}return p0=t,p0}var m0,qO;function n7(){if(qO)return m0;qO=1;function t(e){return this.__data__.has(e)}return m0=t,m0}var g0,BO;function r7(){if(BO)return g0;BO=1;var t=Cg(),e=pS(),n=mS(),r=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,s),this.size=l.size,this}return g0=i,g0}var y0,UO;function $$(){if(UO)return y0;UO=1;var t=Cg(),e=ZH(),n=e7(),r=t7(),i=n7(),o=r7();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,y0=s,y0}var v0,zO;function i7(){if(zO)return v0;zO=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return v0=e,v0}var _0,WO;function o7(){if(WO)return _0;WO=1;function t(e){return this.__data__.has(e)}return _0=t,_0}var w0,HO;function V$(){if(HO)return w0;HO=1;var t=mS(),e=i7(),n=o7();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,w0=r,w0}var b0,GO;function F$(){if(GO)return b0;GO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return b0=t,b0}var E0,KO;function q$(){if(KO)return E0;KO=1;function t(e,n){return e.has(n)}return E0=t,E0}var T0,QO;function B$(){if(QO)return T0;QO=1;var t=V$(),e=F$(),n=q$(),r=1,i=2;function o(s,l,c,f,d,p){var y=c&r,_=s.length,T=l.length;if(_!=T&&!(y&&T>_))return!1;var S=p.get(s),w=p.get(l);if(S&&w)return S==l&&w==s;var O=-1,M=!0,k=c&i?new t:void 0;for(p.set(s,l),p.set(l,s);++O<_;){var L=s[O],I=l[O];if(f)var R=y?f(I,L,O,l,s,p):f(L,I,O,s,l,p);if(R!==void 0){if(R)continue;M=!1;break}if(k){if(!e(l,function(x,P){if(!n(k,P)&&(L===x||d(L,x,c,f,p)))return k.push(P)})){M=!1;break}}else if(!(L===I||d(L,I,c,f,p))){M=!1;break}}return p.delete(s),p.delete(l),M}return T0=o,T0}var S0,YO;function a7(){if(YO)return S0;YO=1;var t=qi(),e=t.Uint8Array;return S0=e,S0}var x0,XO;function s7(){if(XO)return x0;XO=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return x0=t,x0}var A0,JO;function xS(){if(JO)return A0;JO=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return A0=t,A0}var P0,ZO;function u7(){if(ZO)return P0;ZO=1;var t=xh(),e=a7(),n=dS(),r=B$(),i=s7(),o=xS(),s=1,l=2,c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",y="[object Number]",_="[object RegExp]",T="[object Set]",S="[object String]",w="[object Symbol]",O="[object ArrayBuffer]",M="[object DataView]",k=t?t.prototype:void 0,L=k?k.valueOf:void 0;function I(R,x,P,C,V,D,$){switch(P){case M:if(R.byteLength!=x.byteLength||R.byteOffset!=x.byteOffset)return!1;R=R.buffer,x=x.buffer;case O:return!(R.byteLength!=x.byteLength||!D(new e(R),new e(x)));case c:case f:case y:return n(+R,+x);case d:return R.name==x.name&&R.message==x.message;case _:case S:return R==x+"";case p:var j=i;case T:var X=C&s;if(j||(j=o),R.size!=x.size&&!X)return!1;var J=$.get(R);if(J)return J==x;C|=l,$.set(R,x);var re=r(j(R),j(x),C,V,D,$);return $.delete(R),re;case w:if(L)return L.call(R)==L.call(x)}return!1}return P0=I,P0}var I0,eR;function U$(){if(eR)return I0;eR=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return I0=t,I0}var C0,tR;function l7(){if(tR)return C0;tR=1;var t=U$(),e=ar();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return C0=n,C0}var O0,nR;function c7(){if(nR)return O0;nR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[o++]=l)}return s}return O0=t,O0}var R0,rR;function f7(){if(rR)return R0;rR=1;function t(){return[]}return R0=t,R0}var k0,iR;function h7(){if(iR)return k0;iR=1;var t=c7(),e=f7(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return k0=o,k0}var N0,oR;function d7(){if(oR)return N0;oR=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return N0=t,N0}var M0,aR;function p7(){if(aR)return M0;aR=1;var t=xo(),e=Ao(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return M0=r,M0}var D0,sR;function AS(){if(sR)return D0;sR=1;var t=p7(),e=Ao(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return D0=o,D0}var Zc={exports:{}},j0,uR;function m7(){if(uR)return j0;uR=1;function t(){return!1}return j0=t,j0}Zc.exports;var lR;function z$(){return lR||(lR=1,function(t,e){var n=qi(),r=m7(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f}(Zc,Zc.exports)),Zc.exports}var L0,cR;function PS(){if(cR)return L0;cR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return L0=n,L0}var $0,fR;function IS(){if(fR)return $0;fR=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return $0=e,$0}var V0,hR;function g7(){if(hR)return V0;hR=1;var t=xo(),e=IS(),n=Ao(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",T="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",O="[object DataView]",M="[object Float32Array]",k="[object Float64Array]",L="[object Int8Array]",I="[object Int16Array]",R="[object Int32Array]",x="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",V="[object Uint32Array]",D={};D[M]=D[k]=D[L]=D[I]=D[R]=D[x]=D[P]=D[C]=D[V]=!0,D[r]=D[i]=D[w]=D[o]=D[O]=D[s]=D[l]=D[c]=D[f]=D[d]=D[p]=D[y]=D[_]=D[T]=D[S]=!1;function $(j){return n(j)&&e(j.length)&&!!D[t(j)]}return V0=$,V0}var F0,dR;function W$(){if(dR)return F0;dR=1;function t(e){return function(n){return e(n)}}return F0=t,F0}var ef={exports:{}};ef.exports;var pR;function y7(){return pR||(pR=1,function(t,e){var n=f$(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(ef,ef.exports)),ef.exports}var q0,mR;function H$(){if(mR)return q0;mR=1;var t=g7(),e=W$(),n=y7(),r=n&&n.isTypedArray,i=r?e(r):t;return q0=i,q0}var B0,gR;function v7(){if(gR)return B0;gR=1;var t=d7(),e=AS(),n=ar(),r=z$(),i=PS(),o=H$(),s=Object.prototype,l=s.hasOwnProperty;function c(f,d){var p=n(f),y=!p&&e(f),_=!p&&!y&&r(f),T=!p&&!y&&!_&&o(f),S=p||y||_||T,w=S?t(f.length,String):[],O=w.length;for(var M in f)(d||l.call(f,M))&&!(S&&(M=="length"||_&&(M=="offset"||M=="parent")||T&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||i(M,O)))&&w.push(M);return w}return B0=c,B0}var U0,yR;function _7(){if(yR)return U0;yR=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return U0=e,U0}var z0,vR;function G$(){if(vR)return z0;vR=1;function t(e,n){return function(r){return e(n(r))}}return z0=t,z0}var W0,_R;function w7(){if(_R)return W0;_R=1;var t=G$(),e=t(Object.keys,Object);return W0=e,W0}var H0,wR;function b7(){if(wR)return H0;wR=1;var t=_7(),e=w7(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&s.push(l);return s}return H0=i,H0}var G0,bR;function Ch(){if(bR)return G0;bR=1;var t=hS(),e=IS();function n(r){return r!=null&&e(r.length)&&!t(r)}return G0=n,G0}var K0,ER;function jg(){if(ER)return K0;ER=1;var t=v7(),e=b7(),n=Ch();function r(i){return n(i)?t(i):e(i)}return K0=r,K0}var Q0,TR;function E7(){if(TR)return Q0;TR=1;var t=l7(),e=h7(),n=jg();function r(i){return t(i,n,e)}return Q0=r,Q0}var Y0,SR;function T7(){if(SR)return Y0;SR=1;var t=E7(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,l,c,f,d){var p=l&e,y=t(o),_=y.length,T=t(s),S=T.length;if(_!=S&&!p)return!1;for(var w=_;w--;){var O=y[w];if(!(p?O in s:r.call(s,O)))return!1}var M=d.get(o),k=d.get(s);if(M&&k)return M==s&&k==o;var L=!0;d.set(o,s),d.set(s,o);for(var I=p;++w<_;){O=y[w];var R=o[O],x=s[O];if(c)var P=p?c(x,R,O,s,o,d):c(R,x,O,o,s,d);if(!(P===void 0?R===x||f(R,x,l,c,d):P)){L=!1;break}I||(I=O=="constructor")}if(L&&!I){var C=o.constructor,V=s.constructor;C!=V&&"constructor"in o&&"constructor"in s&&!(typeof C=="function"&&C instanceof C&&typeof V=="function"&&V instanceof V)&&(L=!1)}return d.delete(o),d.delete(s),L}return Y0=i,Y0}var X0,xR;function S7(){if(xR)return X0;xR=1;var t=ks(),e=qi(),n=t(e,"DataView");return X0=n,X0}var J0,AR;function x7(){if(AR)return J0;AR=1;var t=ks(),e=qi(),n=t(e,"Promise");return J0=n,J0}var Z0,PR;function K$(){if(PR)return Z0;PR=1;var t=ks(),e=qi(),n=t(e,"Set");return Z0=n,Z0}var ew,IR;function A7(){if(IR)return ew;IR=1;var t=ks(),e=qi(),n=t(e,"WeakMap");return ew=n,ew}var tw,CR;function P7(){if(CR)return tw;CR=1;var t=S7(),e=pS(),n=x7(),r=K$(),i=A7(),o=xo(),s=h$(),l="[object Map]",c="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",y="[object DataView]",_=s(t),T=s(e),S=s(n),w=s(r),O=s(i),M=o;return(t&&M(new t(new ArrayBuffer(1)))!=y||e&&M(new e)!=l||n&&M(n.resolve())!=f||r&&M(new r)!=d||i&&M(new i)!=p)&&(M=function(k){var L=o(k),I=L==c?k.constructor:void 0,R=I?s(I):"";if(R)switch(R){case _:return y;case T:return l;case S:return f;case w:return d;case O:return p}return L}),tw=M,tw}var nw,OR;function I7(){if(OR)return nw;OR=1;var t=$$(),e=B$(),n=u7(),r=T7(),i=P7(),o=ar(),s=z$(),l=H$(),c=1,f="[object Arguments]",d="[object Array]",p="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function T(S,w,O,M,k,L){var I=o(S),R=o(w),x=I?d:i(S),P=R?d:i(w);x=x==f?p:x,P=P==f?p:P;var C=x==p,V=P==p,D=x==P;if(D&&s(S)){if(!s(w))return!1;I=!0,C=!1}if(D&&!C)return L||(L=new t),I||l(S)?e(S,w,O,M,k,L):n(S,w,x,O,M,k,L);if(!(O&c)){var $=C&&_.call(S,"__wrapped__"),j=V&&_.call(w,"__wrapped__");if($||j){var X=$?S.value():S,J=j?w.value():w;return L||(L=new t),k(X,J,O,M,L)}}return D?(L||(L=new t),r(S,w,O,M,k,L)):!1}return nw=T,nw}var rw,RR;function CS(){if(RR)return rw;RR=1;var t=I7(),e=Ao();function n(r,i,o,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,l)}return rw=n,rw}var iw,kR;function C7(){if(kR)return iw;kR=1;var t=$$(),e=CS(),n=1,r=2;function i(o,s,l,c){var f=l.length,d=f,p=!c;if(o==null)return!d;for(o=Object(o);f--;){var y=l[f];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<d;){y=l[f];var _=y[0],T=o[_],S=y[1];if(p&&y[2]){if(T===void 0&&!(_ in o))return!1}else{var w=new t;if(c)var O=c(T,S,_,o,s,w);if(!(O===void 0?e(S,T,n|r,c,w):O))return!1}}return!0}return iw=i,iw}var ow,NR;function Q$(){if(NR)return ow;NR=1;var t=Ta();function e(n){return n===n&&!t(n)}return ow=e,ow}var aw,MR;function O7(){if(MR)return aw;MR=1;var t=Q$(),e=jg();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],l=r[s];i[o]=[s,l,t(l)]}return i}return aw=n,aw}var sw,DR;function Y$(){if(DR)return sw;DR=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return sw=t,sw}var uw,jR;function R7(){if(jR)return uw;jR=1;var t=C7(),e=O7(),n=Y$();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return uw=r,uw}var lw,LR;function k7(){if(LR)return lw;LR=1;function t(e,n){return e!=null&&n in Object(e)}return lw=t,lw}var cw,$R;function N7(){if($R)return cw;$R=1;var t=m$(),e=AS(),n=ar(),r=PS(),i=IS(),o=Rg();function s(l,c,f){c=t(c,l);for(var d=-1,p=c.length,y=!1;++d<p;){var _=o(c[d]);if(!(y=l!=null&&f(l,_)))break;l=l[_]}return y||++d!=p?y:(p=l==null?0:l.length,!!p&&i(p)&&r(_,p)&&(n(l)||e(l)))}return cw=s,cw}var fw,VR;function M7(){if(VR)return fw;VR=1;var t=k7(),e=N7();function n(r,i){return r!=null&&e(r,i,t)}return fw=n,fw}var hw,FR;function D7(){if(FR)return hw;FR=1;var t=CS(),e=g$(),n=M7(),r=fS(),i=Q$(),o=Y$(),s=Rg(),l=1,c=2;function f(d,p){return r(d)&&i(p)?o(s(d),p):function(y){var _=e(y,d);return _===void 0&&_===p?n(y,d):t(p,_,l|c)}}return hw=f,hw}var dw,qR;function jl(){if(qR)return dw;qR=1;function t(e){return e}return dw=t,dw}var pw,BR;function j7(){if(BR)return pw;BR=1;function t(e){return function(n){return n==null?void 0:n[e]}}return pw=t,pw}var mw,UR;function L7(){if(UR)return mw;UR=1;var t=yS();function e(n){return function(r){return t(r,n)}}return mw=e,mw}var gw,zR;function $7(){if(zR)return gw;zR=1;var t=j7(),e=L7(),n=fS(),r=Rg();function i(o){return n(o)?t(r(o)):e(o)}return gw=i,gw}var yw,WR;function Sa(){if(WR)return yw;WR=1;var t=R7(),e=D7(),n=jl(),r=ar(),i=$7();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return yw=o,yw}var vw,HR;function X$(){if(HR)return vw;HR=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return vw=t,vw}var _w,GR;function V7(){if(GR)return _w;GR=1;function t(e){return e!==e}return _w=t,_w}var ww,KR;function F7(){if(KR)return ww;KR=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return ww=t,ww}var bw,QR;function q7(){if(QR)return bw;QR=1;var t=X$(),e=V7(),n=F7();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return bw=r,bw}var Ew,YR;function B7(){if(YR)return Ew;YR=1;var t=q7();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Ew=e,Ew}var Tw,XR;function U7(){if(XR)return Tw;XR=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return Tw=t,Tw}var Sw,JR;function z7(){if(JR)return Sw;JR=1;function t(){}return Sw=t,Sw}var xw,ZR;function W7(){if(ZR)return xw;ZR=1;var t=K$(),e=z7(),n=xS(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return xw=i,xw}var Aw,ek;function H7(){if(ek)return Aw;ek=1;var t=V$(),e=B7(),n=U7(),r=q$(),i=W7(),o=xS(),s=200;function l(c,f,d){var p=-1,y=e,_=c.length,T=!0,S=[],w=S;if(d)T=!1,y=n;else if(_>=s){var O=f?null:i(c);if(O)return o(O);T=!1,y=r,w=new t}else w=f?[]:S;e:for(;++p<_;){var M=c[p],k=f?f(M):M;if(M=d||M!==0?M:0,T&&k===k){for(var L=w.length;L--;)if(w[L]===k)continue e;f&&w.push(k),S.push(M)}else y(w,k,d)||(w!==S&&w.push(k),S.push(M))}return S}return Aw=l,Aw}var Pw,tk;function G7(){if(tk)return Pw;tk=1;var t=Sa(),e=H7();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Pw=n,Pw}var K7=G7();const nk=vt(K7);function J$(t,e,n){return e===!0?nk(t,n):We(e)?nk(t,e):t}function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}var Q7=["ref"];function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){Lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eV(r.key),r)}}function X7(t,e,n){return e&&ik(t.prototype,e),n&&ik(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function J7(t,e,n){return e=fm(e),Z7(t,Z$()?Reflect.construct(e,n||[],fm(t).constructor):e.apply(t,n))}function Z7(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eG(t)}function eG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function tG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z1(t,e)}function Lg(t,e,n){return e=eV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eV(t){var e=nG(t,"string");return al(e)=="symbol"?e:e+""}function nG(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rG(t,e){if(t==null)return{};var n=iG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oG(t){return t.value}function aG(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var n=rG(e,Q7);return W.createElement(SS,n)}var ok=1,ps=function(t){function e(){var n;Y7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=J7(this,e,[].concat(i)),Lg(n,"lastBoundingBox",{width:-1,height:-1}),n}return tG(e,t),X7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ok||Math.abs(i.height-this.lastBoundingBox.height)>ok)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,d=i.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var _=this.getBBoxSnapshot();p={left:((f||0)-_.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var T=this.getBBoxSnapshot();y={top:((d||0)-T.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return io(io({},p),y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,d=i.payload,p=io(io({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){r.wrapperNode=_}},aG(o,io(io({},this.props),{},{payload:J$(d,f,oG)})))}}],[{key:"getWithHeight",value:function(r,i){var o=io(io({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&_e(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(de.PureComponent);Lg(ps,"displayName","Legend");Lg(ps,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Iw,ak;function sG(){if(ak)return Iw;ak=1;var t=xh(),e=AS(),n=ar(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return Iw=i,Iw}var Cw,sk;function tV(){if(sk)return Cw;sk=1;var t=U$(),e=sG();function n(r,i,o,s,l){var c=-1,f=r.length;for(o||(o=e),l||(l=[]);++c<f;){var d=r[c];i>0&&o(d)?i>1?n(d,i-1,o,s,l):t(l,d):s||(l[l.length]=d)}return l}return Cw=n,Cw}var Ow,uk;function uG(){if(uk)return Ow;uk=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++o];if(r(s[f],f,s)===!1)break}return n}}return Ow=t,Ow}var Rw,lk;function lG(){if(lk)return Rw;lk=1;var t=uG(),e=t();return Rw=e,Rw}var kw,ck;function nV(){if(ck)return kw;ck=1;var t=lG(),e=jg();function n(r,i){return r&&t(r,i,e)}return kw=n,kw}var Nw,fk;function cG(){if(fk)return Nw;fk=1;var t=Ch();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return Nw=e,Nw}var Mw,hk;function OS(){if(hk)return Mw;hk=1;var t=nV(),e=cG(),n=e(t);return Mw=n,Mw}var Dw,dk;function rV(){if(dk)return Dw;dk=1;var t=OS(),e=Ch();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,f){s[++o]=i(l,c,f)}),s}return Dw=n,Dw}var jw,pk;function fG(){if(pk)return jw;pk=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return jw=t,jw}var Lw,mk;function hG(){if(mk)return Lw;mk=1;var t=Ml();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,l=t(n),c=r!==void 0,f=r===null,d=r===r,p=t(r);if(!f&&!p&&!l&&n>r||l&&c&&d&&!f&&!p||o&&c&&d||!i&&d||!s)return 1;if(!o&&!l&&!p&&n<r||p&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!d)return-1}return 0}return Lw=e,Lw}var $w,gk;function dG(){if(gk)return $w;gk=1;var t=hG();function e(n,r,i){for(var o=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++o<c;){var d=t(s[o],l[o]);if(d){if(o>=f)return d;var p=i[o];return d*(p=="desc"?-1:1)}}return n.index-r.index}return $w=e,$w}var Vw,yk;function pG(){if(yk)return Vw;yk=1;var t=gS(),e=yS(),n=Sa(),r=rV(),i=fG(),o=W$(),s=dG(),l=jl(),c=ar();function f(d,p,y){p.length?p=t(p,function(S){return c(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):p=[l];var _=-1;p=t(p,o(n));var T=r(d,function(S,w,O){var M=t(p,function(k){return k(S)});return{criteria:M,index:++_,value:S}});return i(T,function(S,w){return s(S,w,y)})}return Vw=f,Vw}var Fw,vk;function mG(){if(vk)return Fw;vk=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Fw=t,Fw}var qw,_k;function gG(){if(_k)return qw;_k=1;var t=mG(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=s[l];return d[i]=o(f),t(r,this,d)}}return qw=n,qw}var Bw,wk;function yG(){if(wk)return Bw;wk=1;function t(e){return function(){return e}}return Bw=t,Bw}var Uw,bk;function iV(){if(bk)return Uw;bk=1;var t=ks(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Uw=e,Uw}var zw,Ek;function vG(){if(Ek)return zw;Ek=1;var t=yG(),e=iV(),n=jl(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return zw=r,zw}var Ww,Tk;function _G(){if(Tk)return Ww;Tk=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Ww=r,Ww}var Hw,Sk;function wG(){if(Sk)return Hw;Sk=1;var t=vG(),e=_G(),n=e(t);return Hw=n,Hw}var Gw,xk;function bG(){if(xk)return Gw;xk=1;var t=jl(),e=gG(),n=wG();function r(i,o){return n(e(i,o,t),i+"")}return Gw=r,Gw}var Kw,Ak;function $g(){if(Ak)return Kw;Ak=1;var t=dS(),e=Ch(),n=PS(),r=Ta();function i(o,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return Kw=i,Kw}var Qw,Pk;function EG(){if(Pk)return Qw;Pk=1;var t=tV(),e=pG(),n=bG(),r=$g(),i=n(function(o,s){if(o==null)return[];var l=s.length;return l>1&&r(o,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return Qw=i,Qw}var TG=EG();const RS=vt(TG);function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(this,arguments)}function SG(t,e){return IG(t)||PG(t,e)||AG(t,e)||xG()}function xG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AG(t,e){if(t){if(typeof t=="string")return Ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ik(t,e)}}function Ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function IG(t){if(Array.isArray(t))return t}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){CG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CG(t,e,n){return e=OG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OG(t){var e=RG(t,"string");return Mf(e)=="symbol"?e:e+""}function RG(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kG(t){return Array.isArray(t)&&rn(t[0])&&rn(t[1])?t.join(" ~ "):t}var NG=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,d=e.payload,p=e.formatter,y=e.itemSorter,_=e.wrapperClassName,T=e.labelClassName,S=e.label,w=e.labelFormatter,O=e.accessibilityLayer,M=O===void 0?!1:O,k=function(){if(d&&d.length){var $={padding:0,margin:0},j=(y?RS(d,y):d).map(function(X,J){if(X.type==="none")return null;var re=Yw({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},l),ie=X.formatter||p||kG,Q=X.value,ne=X.name,ae=Q,B=ne;if(ie&&ae!=null&&B!=null){var H=ie(Q,ne,X,J,d);if(Array.isArray(H)){var le=SG(H,2);ae=le[0],B=le[1]}else ae=H}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:re},rn(B)?W.createElement("span",{className:"recharts-tooltip-item-name"},B):null,rn(B)?W.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,W.createElement("span",{className:"recharts-tooltip-item-value"},ae),W.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:$},j)}return null},L=Yw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=Yw({margin:0},f),R=!Xe(S),x=R?S:"",P=at("recharts-default-tooltip",_),C=at("recharts-tooltip-label",T);R&&w&&d!==void 0&&d!==null&&(x=w(S,d));var V=M?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",W1({className:P,style:L},V),W.createElement("p",{className:C,style:I},W.isValidElement(x)?x:"".concat(x)),k())};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function ap(t,e,n){return e=MG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MG(t){var e=DG(t,"string");return Df(e)=="symbol"?e:e+""}function DG(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lc="recharts-tooltip-wrapper",jG={visibility:"hidden"};function LG(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(Lc,ap(ap(ap(ap({},"".concat(Lc,"-right"),_e(n)&&e&&_e(e.x)&&n>=e.x),"".concat(Lc,"-left"),_e(n)&&e&&_e(e.x)&&n<e.x),"".concat(Lc,"-bottom"),_e(r)&&e&&_e(e.y)&&r>=e.y),"".concat(Lc,"-top"),_e(r)&&e&&_e(e.y)&&r<e.y))}function Ok(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&_e(o[r]))return o[r];var d=n[r]-l-i,p=n[r]+i;if(e[r])return s[r]?d:p;if(s[r]){var y=d,_=c[r];return y<_?Math.max(p,c[r]):Math.max(d,c[r])}var T=p+l,S=c[r]+f;return T>S?Math.max(d,c[r]):Math.max(p,c[r])}function $G(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function VG(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,d,p;return s.height>0&&s.width>0&&n?(d=Ok({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=Ok({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=$G({translateX:d,translateY:p,useTranslate3d:l})):f=jG,{cssProperties:f,cssClasses:LG({translateX:d,translateY:p,coordinate:n})}}function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){G1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aV(r.key),r)}}function BG(t,e,n){return e&&qG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UG(t,e,n){return e=hm(e),zG(t,oV()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function zG(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WG(t)}function WG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function HG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H1(t,e)}function G1(t,e,n){return e=aV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aV(t){var e=GG(t,"string");return sl(e)=="symbol"?e:e+""}function GG(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nk=1,KG=function(t){function e(){var n;FG(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=UG(this,e,[].concat(i)),G1(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),G1(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&f!==void 0?f:0}})}}),n}return HG(e,t),BG(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Nk||Math.abs(r.height-this.state.lastBoundingBox.height)>Nk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,d=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,_=i.offset,T=i.position,S=i.reverseDirection,w=i.useTranslate3d,O=i.viewBox,M=i.wrapperStyle,k=VG({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:_,position:T,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:O}),L=k.cssClasses,I=k.cssProperties,R=kk(kk({transition:y&&o?"transform ".concat(l,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},M);return W.createElement("div",{tabIndex:-1,className:L,style:R,ref:function(P){r.wrapperNode=P}},f)}}])}(de.PureComponent),QG=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},po={isSsr:QG(),get:function(e){return po[e]},set:function(e,n){if(typeof e=="string")po[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){po[i]=e[i]})}}};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){kS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uV(r.key),r)}}function JG(t,e,n){return e&&XG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZG(t,e,n){return e=dm(e),eK(t,sV()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function eK(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tK(t)}function tK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function nK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K1(t,e)}function kS(t,e,n){return e=uV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uV(t){var e=rK(t,"string");return ul(e)=="symbol"?e:e+""}function rK(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iK(t){return t.dataKey}function oK(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(NG,e)}var Oi=function(t){function e(){return YG(this,e),ZG(this,e,arguments)}return nK(e,t),JG(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,d=i.coordinate,p=i.filterNull,y=i.isAnimationActive,_=i.offset,T=i.payload,S=i.payloadUniqBy,w=i.position,O=i.reverseDirection,M=i.useTranslate3d,k=i.viewBox,L=i.wrapperStyle,I=T??[];p&&I.length&&(I=J$(T.filter(function(x){return x.value!=null&&(x.hide!==!0||r.props.includeHidden)}),S,iK));var R=I.length>0;return W.createElement(KG,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:y,active:o,coordinate:d,hasPayload:R,offset:_,position:w,reverseDirection:O,useTranslate3d:M,viewBox:k,wrapperStyle:L},oK(f,Dk(Dk({},this.props),{},{payload:I})))}}])}(de.PureComponent);kS(Oi,"displayName","Tooltip");kS(Oi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xw,jk;function aK(){if(jk)return Xw;jk=1;var t=qi(),e=function(){return t.Date.now()};return Xw=e,Xw}var Jw,Lk;function sK(){if(Lk)return Jw;Lk=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Jw=e,Jw}var Zw,$k;function uK(){if($k)return Zw;$k=1;var t=sK(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Zw=n,Zw}var eb,Vk;function lV(){if(Vk)return eb;Vk=1;var t=uK(),e=Ta(),n=Ml(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?l(f.slice(2),p?2:8):i.test(f)?r:+f}return eb=c,eb}var tb,Fk;function lK(){if(Fk)return tb;Fk=1;var t=Ta(),e=aK(),n=lV(),r="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var d,p,y,_,T,S,w=0,O=!1,M=!1,k=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(O=!!f.leading,M="maxWait"in f,y=M?i(n(f.maxWait)||0,c):y,k="trailing"in f?!!f.trailing:k);function L(j){var X=d,J=p;return d=p=void 0,w=j,_=l.apply(J,X),_}function I(j){return w=j,T=setTimeout(P,c),O?L(j):_}function R(j){var X=j-S,J=j-w,re=c-X;return M?o(re,y-J):re}function x(j){var X=j-S,J=j-w;return S===void 0||X>=c||X<0||M&&J>=y}function P(){var j=e();if(x(j))return C(j);T=setTimeout(P,R(j))}function C(j){return T=void 0,k&&d?L(j):(d=p=void 0,_)}function V(){T!==void 0&&clearTimeout(T),w=0,d=S=p=T=void 0}function D(){return T===void 0?_:C(e())}function $(){var j=e(),X=x(j);if(d=arguments,p=this,S=j,X){if(T===void 0)return I(S);if(M)return clearTimeout(T),T=setTimeout(P,c),L(S)}return T===void 0&&(T=setTimeout(P,c)),_}return $.cancel=V,$.flush=D,$}return tb=s,tb}var nb,qk;function cK(){if(qk)return nb;qk=1;var t=lK(),e=Ta(),n="Expected a function";function r(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return nb=r,nb}var fK=cK();const cV=vt(fK);function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){hK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hK(t,e,n){return e=dK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dK(t){var e=pK(t,"string");return jf(e)=="symbol"?e:e+""}function pK(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mK(t,e){return _K(t)||vK(t,e)||yK(t,e)||gK()}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yK(t,e){if(t){if(typeof t=="string")return Uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uk(t,e)}}function Uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function _K(t){if(Array.isArray(t))return t}var wK=de.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,d=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,_=t.children,T=t.debounce,S=T===void 0?0:T,w=t.id,O=t.className,M=t.onResize,k=t.style,L=k===void 0?{}:k,I=de.useRef(null),R=de.useRef();R.current=M,de.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var x=de.useState({containerWidth:i.width,containerHeight:i.height}),P=mK(x,2),C=P[0],V=P[1],D=de.useCallback(function(j,X){V(function(J){var re=Math.round(j),ie=Math.round(X);return J.containerWidth===re&&J.containerHeight===ie?J:{containerWidth:re,containerHeight:ie}})},[]);de.useEffect(function(){var j=function(ne){var ae,B=ne[0].contentRect,H=B.width,le=B.height;D(H,le),(ae=R.current)===null||ae===void 0||ae.call(R,H,le)};S>0&&(j=cV(j,S,{trailing:!0,leading:!1}));var X=new ResizeObserver(j),J=I.current.getBoundingClientRect(),re=J.width,ie=J.height;return D(re,ie),X.observe(I.current),function(){X.disconnect()}},[D,S]);var $=de.useMemo(function(){var j=C.containerWidth,X=C.containerHeight;if(j<0||X<0)return null;ho(us(s)||us(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ho(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=us(s)?j:s,re=us(c)?X:c;n&&n>0&&(J?re=J/n:re&&(J=re*n),y&&re>y&&(re=y)),ho(J>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,re,s,c,d,p,n);var ie=!Array.isArray(_)&&fo(_.type).endsWith("Chart");return W.Children.map(_,function(Q){return W.isValidElement(Q)?de.cloneElement(Q,sp({width:J,height:re},ie?{style:sp({height:"100%",width:"100%",maxHeight:re,maxWidth:J},Q.props.style)}:{})):Q})},[n,_,c,y,p,d,C,s]);return W.createElement("div",{id:w?"".concat(w):void 0,className:at("recharts-responsive-container",O),style:sp(sp({},L),{},{width:s,height:c,minWidth:d,minHeight:p,maxHeight:y}),ref:I},$)}),fV=function(e){return null};fV.displayName="Cell";function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){bK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bK(t,e,n){return e=EK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EK(t){var e=TK(t,"string");return Lf(e)=="symbol"?e:e+""}function TK(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tu={widthCache:{},cacheCount:0},SK=2e3,xK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Wk="recharts_measurement_span";function AK(t){var e=Q1({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ff=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||po.isSsr)return{width:0,height:0};var r=AK(n),i=JSON.stringify({text:e,copyStyle:r});if(Tu.widthCache[i])return Tu.widthCache[i];try{var o=document.getElementById(Wk);o||(o=document.createElement("span"),o.setAttribute("id",Wk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Q1(Q1({},xK),r);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Tu.widthCache[i]=c,++Tu.cacheCount>SK&&(Tu.cacheCount=0,Tu.widthCache={}),c}catch{return{width:0,height:0}}},PK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function pm(t,e){return RK(t)||OK(t,e)||CK(t,e)||IK()}function IK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(t,e){if(t){if(typeof t=="string")return Hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function RK(t){if(Array.isArray(t))return t}function kK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MK(r.key),r)}}function NK(t,e,n){return e&&Gk(t.prototype,e),n&&Gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MK(t){var e=DK(t,"string");return $f(e)=="symbol"?e:e+""}function DK(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$K=Object.keys(hV),ku="NaN";function VK(t,e){return t*hV[e]}var up=function(){function t(e,n){kK(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!jK.test(n)&&(this.num=NaN,this.unit=""),$K.includes(n)&&(this.num=VK(e,n),this.unit="px")}return NK(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=LK.exec(n))!==null&&r!==void 0?r:[],o=pm(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}])}();function dV(t){if(t.includes(ku))return ku;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Kk.exec(e))!==null&&n!==void 0?n:[],i=pm(r,4),o=i[1],s=i[2],l=i[3],c=up.parse(o??""),f=up.parse(l??""),d=s==="*"?c.multiply(f):c.divide(f);if(d.isNaN())return ku;e=e.replace(Kk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=Qk.exec(e))!==null&&p!==void 0?p:[],_=pm(y,4),T=_[1],S=_[2],w=_[3],O=up.parse(T??""),M=up.parse(w??""),k=S==="+"?O.add(M):O.subtract(M);if(k.isNaN())return ku;e=e.replace(Qk,k.toString())}return e}var Yk=/\(([^()]*)\)/;function FK(t){for(var e=t;e.includes("(");){var n=Yk.exec(e),r=pm(n,2),i=r[1];e=e.replace(Yk,dV(i))}return e}function qK(t){var e=t.replace(/\s+/g,"");return e=FK(e),e=dV(e),e}function BK(t){try{return qK(t)}catch{return ku}}function rb(t){var e=BK(t.slice(5,-1));return e===ku?"":e}var UK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zK=["dx","dy","angle","className","breakAll"];function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(this,arguments)}function Xk(t,e){if(t==null)return{};var n=WK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jk(t,e){return QK(t)||KK(t,e)||GK(t,e)||HK()}function HK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GK(t,e){if(t){if(typeof t=="string")return Zk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zk(t,e)}}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function QK(t){if(Array.isArray(t))return t}var pV=/[ \f\n\r\t\v\u2028\u2029]+/,mV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Xe(n)||(r?o=n.toString().split(""):o=n.toString().split(pV));var s=o.map(function(c){return{word:c,width:ff(c,i).width}}),l=r?0:ff("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},YK=function(e,n,r,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,d=_e(s),p=l,y=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(re,ie){var Q=ie.word,ne=ie.width,ae=re[re.length-1];if(ae&&(i==null||o||ae.width+ne+r<Number(i)))ae.words.push(Q),ae.width+=ne+r;else{var B={words:[Q],width:ne};re.push(B)}return re},[])},_=y(n),T=function(J){return J.reduce(function(re,ie){return re.width>ie.width?re:ie})};if(!d)return _;for(var S="",w=function(J){var re=p.slice(0,J),ie=mV({breakAll:f,style:c,children:re+S}).wordsWithComputedWidth,Q=y(ie),ne=Q.length>s||T(Q).width>Number(i);return[ne,Q]},O=0,M=p.length-1,k=0,L;O<=M&&k<=p.length-1;){var I=Math.floor((O+M)/2),R=I-1,x=w(R),P=Jk(x,2),C=P[0],V=P[1],D=w(I),$=Jk(D,1),j=$[0];if(!C&&!j&&(O=I+1),C&&j&&(M=I-1),!C&&j){L=V;break}k++}return L||_},eN=function(e){var n=Xe(e)?[]:e.toString().split(pV);return[{words:n}]},XK=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!po.isSsr){var c,f,d=mV({breakAll:s,children:i,style:o});if(d){var p=d.wordsWithComputedWidth,y=d.spaceWidth;c=p,f=y}else return eN(i);return YK({breakAll:s,children:i,maxLines:l,style:o},c,f,n,r)}return eN(i)},tN="#808080",mm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,d=e.scaleToFit,p=d===void 0?!1:d,y=e.textAnchor,_=y===void 0?"start":y,T=e.verticalAnchor,S=T===void 0?"end":T,w=e.fill,O=w===void 0?tN:w,M=Xk(e,UK),k=de.useMemo(function(){return XK({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:p,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,p,M.style,M.width]),L=M.dx,I=M.dy,R=M.angle,x=M.className,P=M.breakAll,C=Xk(M,zK);if(!rn(r)||!rn(o))return null;var V=r+(_e(L)?L:0),D=o+(_e(I)?I:0),$;switch(S){case"start":$=rb("calc(".concat(f,")"));break;case"middle":$=rb("calc(".concat((k.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:$=rb("calc(".concat(k.length-1," * -").concat(l,")"));break}var j=[];if(p){var X=k[0].width,J=M.width;j.push("scale(".concat((_e(J)?J/X:1)/X,")"))}return R&&j.push("rotate(".concat(R,", ").concat(V,", ").concat(D,")")),j.length&&(C.transform=j.join(" ")),W.createElement("text",Y1({},tt(C,!0),{x:V,y:D,className:at("recharts-text",x),textAnchor:_,fill:O.includes("url")?tN:O}),k.map(function(re,ie){var Q=re.words.join(P?"":" ");return W.createElement("tspan",{x:V,dy:ie===0?$:l,key:"".concat(Q,"-").concat(ie)},Q)}))};function ca(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NS(t){let e,n,r;t.length!==2?(e=ca,n=(l,c)=>ca(t(l),c),r=(l,c)=>t(l)-c):(e=t===ca||t===JK?t:ZK,n=t,r=t);function i(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(l[p],c)<0?f=p+1:d=p}while(f<d)}return f}function o(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(l[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function s(l,c,f=0,d=l.length){const p=i(l,c,f,d-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:s,right:o}}function ZK(){return 0}function gV(t){return t===null?NaN:+t}function*eQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const tQ=NS(ca),Oh=tQ.right;NS(gV).center;class nN extends Map{constructor(e,n=iQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rN(this,e))}has(e){return super.has(rN(this,e))}set(e,n){return super.set(nQ(this,e),n)}delete(e){return super.delete(rQ(this,e))}}function rN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function iQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oQ(t=ca){if(t===ca)return yV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aQ=Math.sqrt(50),sQ=Math.sqrt(10),uQ=Math.sqrt(2);function gm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=aQ?10:o>=sQ?5:o>=uQ?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?gm(t,e,n*2):[l,c,f]}function X1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?gm(e,t,n):gm(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function J1(t,e,n){return e=+e,t=+t,n=+n,gm(t,e,n)[2]}function Z1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?J1(e,t,n):J1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function iN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yV:oQ(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/c+y)),T=Math.min(r,Math.floor(e+(c-f)*p/c+y));vV(t,e,_,T,i)}const o=t[e];let s=n,l=r;for($c(t,n,e),i(t[r],o)>0&&$c(t,n,r);s<l;){for($c(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?$c(t,n,l):(++l,$c(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function $c(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lQ(t,e,n){if(t=Float64Array.from(eQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return oN(t);if(e>=1)return iN(t);var r,i=(r-1)*e,o=Math.floor(i),s=iN(vV(t,o).subarray(0,o+1)),l=oN(t.subarray(o+1));return s+(l-s)*(i-o)}}function cQ(t,e,n=gV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function fQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eE=Symbol("implicit");function MS(){var t=new nN,e=[],n=[],r=eE;function i(o){let s=t.get(o);if(s===void 0){if(r!==eE)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new nN;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return MS(e,n).unknown(r)},Ur.apply(i,arguments),i}function Vf(){var t=MS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,l=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var y=e().length,_=i<r,T=_?i:r,S=_?r:i;o=(S-T)/Math.max(1,y-c+f*2),l&&(o=Math.floor(o)),T+=(S-T-o*(y-c))*d,s=o*(1-c),l&&(T=Math.round(T),s=Math.round(s));var w=fQ(y).map(function(O){return T+o*O});return n(_?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},t.copy=function(){return Vf(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(d)},Ur.apply(p(),arguments)}function _V(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _V(e())},t}function hf(){return _V(Vf.apply(null,arguments).paddingInner(1))}function DS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rh(){}var Ff=.7,ym=1/Ff,Uu="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hQ=/^#([0-9a-f]{3,8})$/,dQ=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),pQ=new RegExp(`^rgb\\(${ji},${ji},${ji}\\)$`),mQ=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${qf}\\)$`),gQ=new RegExp(`^rgba\\(${ji},${ji},${ji},${qf}\\)$`),yQ=new RegExp(`^hsl\\(${qf},${ji},${ji}\\)$`),vQ=new RegExp(`^hsla\\(${qf},${ji},${ji},${qf}\\)$`),aN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DS(Rh,Bf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sN,formatHex:sN,formatHex8:_Q,formatHsl:wQ,formatRgb:uN,toString:uN});function sN(){return this.rgb().formatHex()}function _Q(){return this.rgb().formatHex8()}function wQ(){return bV(this).formatHsl()}function uN(){return this.rgb().formatRgb()}function Bf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?lN(e):n===3?new nr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dQ.exec(t))?new nr(e[1],e[2],e[3],1):(e=pQ.exec(t))?new nr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mQ.exec(t))?lp(e[1],e[2],e[3],e[4]):(e=gQ.exec(t))?lp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yQ.exec(t))?hN(e[1],e[2]/100,e[3]/100,1):(e=vQ.exec(t))?hN(e[1],e[2]/100,e[3]/100,e[4]):aN.hasOwnProperty(t)?lN(aN[t]):t==="transparent"?new nr(NaN,NaN,NaN,0):null}function lN(t){return new nr(t>>16&255,t>>8&255,t&255,1)}function lp(t,e,n,r){return r<=0&&(t=e=n=NaN),new nr(t,e,n,r)}function bQ(t){return t instanceof Rh||(t=Bf(t)),t?(t=t.rgb(),new nr(t.r,t.g,t.b,t.opacity)):new nr}function tE(t,e,n,r){return arguments.length===1?bQ(t):new nr(t,e,n,r??1)}function nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}DS(nr,tE,wV(Rh,{brighter(t){return t=t==null?ym:Math.pow(ym,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nr(ms(this.r),ms(this.g),ms(this.b),vm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cN,formatHex:cN,formatHex8:EQ,formatRgb:fN,toString:fN}));function cN(){return`#${ls(this.r)}${ls(this.g)}${ls(this.b)}`}function EQ(){return`#${ls(this.r)}${ls(this.g)}${ls(this.b)}${ls((isNaN(this.opacity)?1:this.opacity)*255)}`}function fN(){const t=vm(this.opacity);return`${t===1?"rgb(":"rgba("}${ms(this.r)}, ${ms(this.g)}, ${ms(this.b)}${t===1?")":`, ${t})`}`}function vm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ms(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ls(t){return t=ms(t),(t<16?"0":"")+t.toString(16)}function hN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ci(t,e,n,r)}function bV(t){if(t instanceof ci)return new ci(t.h,t.s,t.l,t.opacity);if(t instanceof Rh||(t=Bf(t)),!t)return new ci;if(t instanceof ci)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new ci(s,l,c,t.opacity)}function TQ(t,e,n,r){return arguments.length===1?bV(t):new ci(t,e,n,r??1)}function ci(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}DS(ci,TQ,wV(Rh,{brighter(t){return t=t==null?ym:Math.pow(ym,t),new ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ff:Math.pow(Ff,t),new ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nr(ib(t>=240?t-240:t+120,i,r),ib(t,i,r),ib(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ci(dN(this.h),cp(this.s),cp(this.l),vm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vm(this.opacity);return`${t===1?"hsl(":"hsla("}${dN(this.h)}, ${cp(this.s)*100}%, ${cp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dN(t){return t=(t||0)%360,t<0?t+360:t}function cp(t){return Math.max(0,Math.min(1,t||0))}function ib(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jS=t=>()=>t;function SQ(t,e){return function(n){return t+n*e}}function xQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function AQ(t){return(t=+t)==1?EV:function(e,n){return n-e?xQ(e,n,t):jS(isNaN(e)?n:e)}}function EV(t,e){var n=e-t;return n?SQ(t,n):jS(isNaN(t)?e:t)}const pN=function t(e){var n=AQ(e);function r(i,o){var s=n((i=tE(i)).r,(o=tE(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=EV(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=f(d),i+""}}return r.gamma=t,r}(1);function PQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function IQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ll(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function OQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _m(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function RQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ll(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var nE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ob=new RegExp(nE.source,"g");function kQ(t){return function(){return t}}function NQ(t){return function(e){return t(e)+""}}function MQ(t,e){var n=nE.lastIndex=ob.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=nE.exec(t))&&(i=ob.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:_m(r,i)})),n=ob.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?NQ(c[0].x):kQ(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)l[(p=c[d]).i]=p.x(f);return l.join("")})}function Ll(t,e){var n=typeof e,r;return e==null||n==="boolean"?jS(e):(n==="number"?_m:n==="string"?(r=Bf(e))?(e=r,pN):MQ:e instanceof Bf?pN:e instanceof Date?OQ:IQ(e)?PQ:Array.isArray(e)?CQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RQ:_m)(t,e)}function LS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function DQ(t,e){e===void 0&&(e=t,t=Ll);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function jQ(t){return function(){return t}}function wm(t){return+t}var mN=[0,1];function zn(t){return t}function rE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jQ(isNaN(e)?NaN:.5)}function LQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $Q(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=rE(i,r),o=n(s,o)):(r=rE(r,i),o=n(o,s)),function(l){return o(r(l))}}function VQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=rE(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var c=Oh(t,l,1,r)-1;return o[c](i[c](l))}}function kh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vg(){var t=mN,e=mN,n=Ll,r,i,o,s=zn,l,c,f;function d(){var y=Math.min(t.length,e.length);return s!==zn&&(s=LQ(t[0],t[y-1])),l=y>2?VQ:$Q,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?o:(c||(c=l(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=l(e,t.map(r),_m)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,wm),d()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),d()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=LS,d()},p.clamp=function(y){return arguments.length?(s=y?!0:zn,d()):s!==zn},p.interpolate=function(y){return arguments.length?(n=y,d()):n},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,_){return r=y,i=_,d()}}function $S(){return Vg()(zn,zn)}function FQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ll(t){return t=bm(Math.abs(t)),t?t[1]:NaN}function qQ(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function BQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var UQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uf(t){if(!(e=UQ.exec(t)))throw new Error("invalid format: "+t);var e;return new VS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uf.prototype=VS.prototype;function VS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}VS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var TV;function WQ(t,e){var n=bm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(TV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bm(t,Math.max(0,e+o-1))[0]}function gN(t,e){var n=bm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:FQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gN(t*100,e),r:gN,s:WQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vN(t){return t}var _N=Array.prototype.map,wN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HQ(t){var e=t.grouping===void 0||t.thousands===void 0?vN:qQ(_N.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?vN:BQ(_N.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Uf(p);var y=p.fill,_=p.align,T=p.sign,S=p.symbol,w=p.zero,O=p.width,M=p.comma,k=p.precision,L=p.trim,I=p.type;I==="n"?(M=!0,I="g"):yN[I]||(k===void 0&&(k=12),L=!0,I="g"),(w||y==="0"&&_==="=")&&(w=!0,y="0",_="=");var R=S==="$"?n:S==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",x=S==="$"?r:/[%p]/.test(I)?s:"",P=yN[I],C=/[defgprs%]/.test(I);k=k===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function V(D){var $=R,j=x,X,J,re;if(I==="c")j=P(D)+j,D="";else{D=+D;var ie=D<0||1/D<0;if(D=isNaN(D)?c:P(Math.abs(D),k),L&&(D=zQ(D)),ie&&+D==0&&T!=="+"&&(ie=!1),$=(ie?T==="("?T:l:T==="-"||T==="("?"":T)+$,j=(I==="s"?wN[8+TV/3]:"")+j+(ie&&T==="("?")":""),C){for(X=-1,J=D.length;++X<J;)if(re=D.charCodeAt(X),48>re||re>57){j=(re===46?i+D.slice(X+1):D.slice(X))+j,D=D.slice(0,X);break}}}M&&!w&&(D=e(D,1/0));var Q=$.length+D.length+j.length,ne=Q<O?new Array(O-Q+1).join(y):"";switch(M&&w&&(D=e(ne+D,ne.length?O-j.length:1/0),ne=""),_){case"<":D=$+D+j+ne;break;case"=":D=$+ne+D+j;break;case"^":D=ne.slice(0,Q=ne.length>>1)+$+D+j+ne.slice(Q);break;default:D=ne+$+D+j;break}return o(D)}return V.toString=function(){return p+""},V}function d(p,y){var _=f((p=Uf(p),p.type="f",p)),T=Math.max(-8,Math.min(8,Math.floor(ll(y)/3)))*3,S=Math.pow(10,-T),w=wN[8+T/3];return function(O){return _(S*O)+w}}return{format:f,formatPrefix:d}}var fp,FS,SV;GQ({thousands:",",grouping:[3],currency:["$",""]});function GQ(t){return fp=HQ(t),FS=fp.format,SV=fp.formatPrefix,fp}function KQ(t){return Math.max(0,-ll(Math.abs(t)))}function QQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ll(e)/3)))*3-ll(Math.abs(t)))}function YQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ll(e)-ll(t))+1}function xV(t,e,n,r){var i=Z1(t,e,n),o;switch(r=Uf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=QQ(i,s))&&(r.precision=o),SV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=YQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=KQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return FS(r)}function xa(t){var e=t.domain;return t.ticks=function(n){var r=e();return X1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return xV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],c,f,d=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);d-- >0;){if(f=J1(s,l,n),f===c)return r[i]=s,r[o]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Em(){var t=$S();return t.copy=function(){return kh(t,Em())},Ur.apply(t,arguments),xa(t)}function AV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,wm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return AV(t).unknown(e)},t=arguments.length?Array.from(t,wm):[0,1],xa(n)}function PV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function bN(t){return Math.log(t)}function EN(t){return Math.exp(t)}function XQ(t){return-Math.log(-t)}function JQ(t){return-Math.exp(-t)}function ZQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eY(t){return t===10?ZQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TN(t){return(e,n)=>-t(-e,n)}function qS(t){const e=t(bN,EN),n=e.domain;let r=10,i,o;function s(){return i=tY(r),o=eY(r),n()[0]<0?(i=TN(i),o=TN(o),t(XQ,JQ)):t(bN,EN),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let y=i(f),_=i(d),T,S;const w=l==null?10:+l;let O=[];if(!(r%1)&&_-y<w){if(y=Math.floor(y),_=Math.ceil(_),f>0){for(;y<=_;++y)for(T=1;T<r;++T)if(S=y<0?T/o(-y):T*o(y),!(S<f)){if(S>d)break;O.push(S)}}else for(;y<=_;++y)for(T=r-1;T>=1;--T)if(S=y>0?T/o(-y):T*o(y),!(S<f)){if(S>d)break;O.push(S)}O.length*2<w&&(O=X1(f,d,w))}else O=X1(y,_,Math.min(_-y,w)).map(o);return p?O.reverse():O},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Uf(c)).precision==null&&(c.trim=!0),c=FS(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return d=>{let p=d/o(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?c(d):""}},e.nice=()=>n(PV(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function IV(){const t=qS(Vg()).domain([1,10]);return t.copy=()=>kh(t,IV()).base(t.base()),Ur.apply(t,arguments),t}function SN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function BS(t){var e=1,n=t(SN(e),xN(e));return n.constant=function(r){return arguments.length?t(SN(e=+r),xN(e)):e},xa(n)}function CV(){var t=BS(Vg());return t.copy=function(){return kh(t,CV()).constant(t.constant())},Ur.apply(t,arguments)}function AN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rY(t){return t<0?-t*t:t*t}function US(t){var e=t(zn,zn),n=1;function r(){return n===1?t(zn,zn):n===.5?t(nY,rY):t(AN(n),AN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xa(e)}function zS(){var t=US(Vg());return t.copy=function(){return kh(t,zS()).exponent(t.exponent())},Ur.apply(t,arguments),t}function iY(){return zS.apply(null,arguments).exponent(.5)}function PN(t){return Math.sign(t)*t*t}function oY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OV(){var t=$S(),e=[0,1],n=!1,r;function i(o){var s=oY(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(PN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,wm)).map(PN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return OV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ur.apply(i,arguments),xa(i)}function RV(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=cQ(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Oh(n,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ca),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return RV().domain(t).range(e).unknown(r)},Ur.apply(o,arguments)}function kV(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Oh(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return kV().domain([t,e]).range(i).unknown(o)},Ur.apply(xa(s),arguments)}function NV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Oh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return NV().domain(t).range(e).unknown(n)},Ur.apply(i,arguments)}const ab=new Date,sb=new Date;function sn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>sn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ab.setTime(+o),sb.setTime(+s),t(ab),t(sb),Math.floor(n(ab,sb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Tm=sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Tm);Tm.range;const ao=1e3,Vr=ao*60,so=Vr*60,wo=so*24,WS=wo*7,IN=wo*30,ub=wo*365,cs=sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ao)},(t,e)=>(e-t)/ao,t=>t.getUTCSeconds());cs.range;const HS=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ao)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getMinutes());HS.range;const GS=sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getUTCMinutes());GS.range;const KS=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ao-t.getMinutes()*Vr)},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getHours());KS.range;const QS=sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getUTCHours());QS.range;const Nh=sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vr)/wo,t=>t.getDate()-1);Nh.range;const Fg=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wo,t=>t.getUTCDate()-1);Fg.range;const MV=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wo,t=>Math.floor(t/wo));MV.range;function Ns(t){return sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Vr)/WS)}const qg=Ns(0),Sm=Ns(1),aY=Ns(2),sY=Ns(3),cl=Ns(4),uY=Ns(5),lY=Ns(6);qg.range;Sm.range;aY.range;sY.range;cl.range;uY.range;lY.range;function Ms(t){return sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/WS)}const Bg=Ms(0),xm=Ms(1),cY=Ms(2),fY=Ms(3),fl=Ms(4),hY=Ms(5),dY=Ms(6);Bg.range;xm.range;cY.range;fY.range;fl.range;hY.range;dY.range;const YS=sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YS.range;const XS=sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XS.range;const bo=sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bo.range;const Eo=sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Eo.range;function DV(t,e,n,r,i,o){const s=[[cs,1,ao],[cs,5,5*ao],[cs,15,15*ao],[cs,30,30*ao],[o,1,Vr],[o,5,5*Vr],[o,15,15*Vr],[o,30,30*Vr],[i,1,so],[i,3,3*so],[i,6,6*so],[i,12,12*so],[r,1,wo],[r,2,2*wo],[n,1,WS],[e,1,IN],[e,3,3*IN],[t,1,ub]];function l(f,d,p){const y=d<f;y&&([f,d]=[d,f]);const _=p&&typeof p.range=="function"?p:c(f,d,p),T=_?_.range(f,+d+1):[];return y?T.reverse():T}function c(f,d,p){const y=Math.abs(d-f)/p,_=NS(([,,w])=>w).right(s,y);if(_===s.length)return t.every(Z1(f/ub,d/ub,p));if(_===0)return Tm.every(Math.max(Z1(f,d,p),1));const[T,S]=s[y/s[_-1][2]<s[_][2]/y?_-1:_];return T.every(S)}return[l,c]}const[pY,mY]=DV(Eo,XS,Bg,MV,QS,GS),[gY,yY]=DV(bo,YS,qg,Nh,KS,HS);function lb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function cb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vY(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=Fc(i),d=qc(i),p=Fc(o),y=qc(o),_=Fc(s),T=qc(s),S=Fc(l),w=qc(l),O=Fc(c),M=qc(c),k={a:ie,A:Q,b:ne,B:ae,c:null,d:MN,e:MN,f:qY,g:XY,G:ZY,H:$Y,I:VY,j:FY,L:jV,m:BY,M:UY,p:B,q:H,Q:LN,s:$N,S:zY,u:WY,U:HY,V:GY,w:KY,W:QY,x:null,X:null,y:YY,Y:JY,Z:eX,"%":jN},L={a:le,A:xe,b:Oe,B:je,c:null,d:DN,e:DN,f:iX,g:pX,G:gX,H:tX,I:nX,j:rX,L:$V,m:oX,M:aX,p:ze,q:Fe,Q:LN,s:$N,S:sX,u:uX,U:lX,V:cX,w:fX,W:hX,x:null,X:null,y:dX,Y:mX,Z:yX,"%":jN},I={a:V,A:D,b:$,B:j,c:X,d:kN,e:kN,f:MY,g:RN,G:ON,H:NN,I:NN,j:OY,L:NY,m:CY,M:RY,p:C,q:IY,Q:jY,s:LY,S:kY,u:TY,U:SY,V:xY,w:EY,W:AY,x:J,X:re,y:RN,Y:ON,Z:PY,"%":DY};k.x=R(n,k),k.X=R(r,k),k.c=R(e,k),L.x=R(n,L),L.X=R(r,L),L.c=R(e,L);function R(pe,Ie){return function(De){var ce=[],ut=-1,Ue=0,_t=pe.length,xt,Ut,sr;for(De instanceof Date||(De=new Date(+De));++ut<_t;)pe.charCodeAt(ut)===37&&(ce.push(pe.slice(Ue,ut)),(Ut=CN[xt=pe.charAt(++ut)])!=null?xt=pe.charAt(++ut):Ut=xt==="e"?" ":"0",(sr=Ie[xt])&&(xt=sr(De,Ut)),ce.push(xt),Ue=ut+1);return ce.push(pe.slice(Ue,ut)),ce.join("")}}function x(pe,Ie){return function(De){var ce=Vc(1900,void 0,1),ut=P(ce,pe,De+="",0),Ue,_t;if(ut!=De.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Ie&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ue=cb(Vc(ce.y,0,1)),_t=Ue.getUTCDay(),Ue=_t>4||_t===0?xm.ceil(Ue):xm(Ue),Ue=Fg.offset(Ue,(ce.V-1)*7),ce.y=Ue.getUTCFullYear(),ce.m=Ue.getUTCMonth(),ce.d=Ue.getUTCDate()+(ce.w+6)%7):(Ue=lb(Vc(ce.y,0,1)),_t=Ue.getDay(),Ue=_t>4||_t===0?Sm.ceil(Ue):Sm(Ue),Ue=Nh.offset(Ue,(ce.V-1)*7),ce.y=Ue.getFullYear(),ce.m=Ue.getMonth(),ce.d=Ue.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),_t="Z"in ce?cb(Vc(ce.y,0,1)).getUTCDay():lb(Vc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(_t+5)%7:ce.w+ce.U*7-(_t+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,cb(ce)):lb(ce)}}function P(pe,Ie,De,ce){for(var ut=0,Ue=Ie.length,_t=De.length,xt,Ut;ut<Ue;){if(ce>=_t)return-1;if(xt=Ie.charCodeAt(ut++),xt===37){if(xt=Ie.charAt(ut++),Ut=I[xt in CN?Ie.charAt(ut++):xt],!Ut||(ce=Ut(pe,De,ce))<0)return-1}else if(xt!=De.charCodeAt(ce++))return-1}return ce}function C(pe,Ie,De){var ce=f.exec(Ie.slice(De));return ce?(pe.p=d.get(ce[0].toLowerCase()),De+ce[0].length):-1}function V(pe,Ie,De){var ce=_.exec(Ie.slice(De));return ce?(pe.w=T.get(ce[0].toLowerCase()),De+ce[0].length):-1}function D(pe,Ie,De){var ce=p.exec(Ie.slice(De));return ce?(pe.w=y.get(ce[0].toLowerCase()),De+ce[0].length):-1}function $(pe,Ie,De){var ce=O.exec(Ie.slice(De));return ce?(pe.m=M.get(ce[0].toLowerCase()),De+ce[0].length):-1}function j(pe,Ie,De){var ce=S.exec(Ie.slice(De));return ce?(pe.m=w.get(ce[0].toLowerCase()),De+ce[0].length):-1}function X(pe,Ie,De){return P(pe,e,Ie,De)}function J(pe,Ie,De){return P(pe,n,Ie,De)}function re(pe,Ie,De){return P(pe,r,Ie,De)}function ie(pe){return s[pe.getDay()]}function Q(pe){return o[pe.getDay()]}function ne(pe){return c[pe.getMonth()]}function ae(pe){return l[pe.getMonth()]}function B(pe){return i[+(pe.getHours()>=12)]}function H(pe){return 1+~~(pe.getMonth()/3)}function le(pe){return s[pe.getUTCDay()]}function xe(pe){return o[pe.getUTCDay()]}function Oe(pe){return c[pe.getUTCMonth()]}function je(pe){return l[pe.getUTCMonth()]}function ze(pe){return i[+(pe.getUTCHours()>=12)]}function Fe(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ie=R(pe+="",k);return Ie.toString=function(){return pe},Ie},parse:function(pe){var Ie=x(pe+="",!1);return Ie.toString=function(){return pe},Ie},utcFormat:function(pe){var Ie=R(pe+="",L);return Ie.toString=function(){return pe},Ie},utcParse:function(pe){var Ie=x(pe+="",!0);return Ie.toString=function(){return pe},Ie}}}var CN={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,_Y=/^%/,wY=/[\\^$*+?|[\]().{}]/g;function st(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function bY(t){return t.replace(wY,"\\$&")}function Fc(t){return new RegExp("^(?:"+t.map(bY).join("|")+")","i")}function qc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function EY(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function TY(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function SY(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function xY(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function AY(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ON(t,e,n){var r=gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function RN(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function IY(t,e,n){var r=gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function CY(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function kN(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function OY(t,e,n){var r=gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function NN(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function RY(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function kY(t,e,n){var r=gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function NY(t,e,n){var r=gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function MY(t,e,n){var r=gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DY(t,e,n){var r=_Y.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jY(t,e,n){var r=gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function LY(t,e,n){var r=gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function MN(t,e){return st(t.getDate(),e,2)}function $Y(t,e){return st(t.getHours(),e,2)}function VY(t,e){return st(t.getHours()%12||12,e,2)}function FY(t,e){return st(1+Nh.count(bo(t),t),e,3)}function jV(t,e){return st(t.getMilliseconds(),e,3)}function qY(t,e){return jV(t,e)+"000"}function BY(t,e){return st(t.getMonth()+1,e,2)}function UY(t,e){return st(t.getMinutes(),e,2)}function zY(t,e){return st(t.getSeconds(),e,2)}function WY(t){var e=t.getDay();return e===0?7:e}function HY(t,e){return st(qg.count(bo(t)-1,t),e,2)}function LV(t){var e=t.getDay();return e>=4||e===0?cl(t):cl.ceil(t)}function GY(t,e){return t=LV(t),st(cl.count(bo(t),t)+(bo(t).getDay()===4),e,2)}function KY(t){return t.getDay()}function QY(t,e){return st(Sm.count(bo(t)-1,t),e,2)}function YY(t,e){return st(t.getFullYear()%100,e,2)}function XY(t,e){return t=LV(t),st(t.getFullYear()%100,e,2)}function JY(t,e){return st(t.getFullYear()%1e4,e,4)}function ZY(t,e){var n=t.getDay();return t=n>=4||n===0?cl(t):cl.ceil(t),st(t.getFullYear()%1e4,e,4)}function eX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function DN(t,e){return st(t.getUTCDate(),e,2)}function tX(t,e){return st(t.getUTCHours(),e,2)}function nX(t,e){return st(t.getUTCHours()%12||12,e,2)}function rX(t,e){return st(1+Fg.count(Eo(t),t),e,3)}function $V(t,e){return st(t.getUTCMilliseconds(),e,3)}function iX(t,e){return $V(t,e)+"000"}function oX(t,e){return st(t.getUTCMonth()+1,e,2)}function aX(t,e){return st(t.getUTCMinutes(),e,2)}function sX(t,e){return st(t.getUTCSeconds(),e,2)}function uX(t){var e=t.getUTCDay();return e===0?7:e}function lX(t,e){return st(Bg.count(Eo(t)-1,t),e,2)}function VV(t){var e=t.getUTCDay();return e>=4||e===0?fl(t):fl.ceil(t)}function cX(t,e){return t=VV(t),st(fl.count(Eo(t),t)+(Eo(t).getUTCDay()===4),e,2)}function fX(t){return t.getUTCDay()}function hX(t,e){return st(xm.count(Eo(t)-1,t),e,2)}function dX(t,e){return st(t.getUTCFullYear()%100,e,2)}function pX(t,e){return t=VV(t),st(t.getUTCFullYear()%100,e,2)}function mX(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function gX(t,e){var n=t.getUTCDay();return t=n>=4||n===0?fl(t):fl.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function yX(){return"+0000"}function jN(){return"%"}function LN(t){return+t}function $N(t){return Math.floor(+t/1e3)}var Su,FV,qV;vX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vX(t){return Su=vY(t),FV=Su.format,Su.parse,qV=Su.utcFormat,Su.utcParse,Su}function _X(t){return new Date(t)}function wX(t){return t instanceof Date?+t:+new Date(+t)}function JS(t,e,n,r,i,o,s,l,c,f){var d=$S(),p=d.invert,y=d.domain,_=f(".%L"),T=f(":%S"),S=f("%I:%M"),w=f("%I %p"),O=f("%a %d"),M=f("%b %d"),k=f("%B"),L=f("%Y");function I(R){return(c(R)<R?_:l(R)<R?T:s(R)<R?S:o(R)<R?w:r(R)<R?i(R)<R?O:M:n(R)<R?k:L)(R)}return d.invert=function(R){return new Date(p(R))},d.domain=function(R){return arguments.length?y(Array.from(R,wX)):y().map(_X)},d.ticks=function(R){var x=y();return t(x[0],x[x.length-1],R??10)},d.tickFormat=function(R,x){return x==null?I:f(x)},d.nice=function(R){var x=y();return(!R||typeof R.range!="function")&&(R=e(x[0],x[x.length-1],R??10)),R?y(PV(x,R)):d},d.copy=function(){return kh(d,JS(t,e,n,r,i,o,s,l,c,f))},d}function bX(){return Ur.apply(JS(gY,yY,bo,YS,qg,Nh,KS,HS,cs,FV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EX(){return Ur.apply(JS(pY,mY,Eo,XS,Bg,Fg,QS,GS,cs,qV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ug(){var t=0,e=1,n,r,i,o,s=zn,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function d(p){return function(y){var _,T;return arguments.length?([_,T]=y,s=p(_,T),f):[s(0),s(1)]}}return f.range=d(Ll),f.rangeRound=d(LS),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Aa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BV(){var t=xa(Ug()(zn));return t.copy=function(){return Aa(t,BV())},Po.apply(t,arguments)}function UV(){var t=qS(Ug()).domain([1,10]);return t.copy=function(){return Aa(t,UV()).base(t.base())},Po.apply(t,arguments)}function zV(){var t=BS(Ug());return t.copy=function(){return Aa(t,zV()).constant(t.constant())},Po.apply(t,arguments)}function ZS(){var t=US(Ug());return t.copy=function(){return Aa(t,ZS()).exponent(t.exponent())},Po.apply(t,arguments)}function TX(){return ZS.apply(null,arguments).exponent(.5)}function WV(){var t=[],e=zn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Oh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ca),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>lQ(t,o/r))},n.copy=function(){return WV(e).domain(t)},Po.apply(n,arguments)}function zg(){var t=0,e=.5,n=1,r=1,i,o,s,l,c,f=zn,d,p=!1,y;function _(S){return isNaN(S=+S)?y:(S=.5+((S=+d(S))-o)*(r*S<r*o?l:c),f(p?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=d(t=+t),o=d(e=+e),s=d(n=+n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(p=!!S,_):p},_.interpolator=function(S){return arguments.length?(f=S,_):f};function T(S){return function(w){var O,M,k;return arguments.length?([O,M,k]=w,f=DQ(S,[O,M,k]),_):[f(0),f(.5),f(1)]}}return _.range=T(Ll),_.rangeRound=T(LS),_.unknown=function(S){return arguments.length?(y=S,_):y},function(S){return d=S,i=S(t),o=S(e),s=S(n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,_}}function HV(){var t=xa(zg()(zn));return t.copy=function(){return Aa(t,HV())},Po.apply(t,arguments)}function GV(){var t=qS(zg()).domain([.1,1,10]);return t.copy=function(){return Aa(t,GV()).base(t.base())},Po.apply(t,arguments)}function KV(){var t=BS(zg());return t.copy=function(){return Aa(t,KV()).constant(t.constant())},Po.apply(t,arguments)}function ex(){var t=US(zg());return t.copy=function(){return Aa(t,ex()).exponent(t.exponent())},Po.apply(t,arguments)}function SX(){return ex.apply(null,arguments).exponent(.5)}const VN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vf,scaleDiverging:HV,scaleDivergingLog:GV,scaleDivergingPow:ex,scaleDivergingSqrt:SX,scaleDivergingSymlog:KV,scaleIdentity:AV,scaleImplicit:eE,scaleLinear:Em,scaleLog:IV,scaleOrdinal:MS,scalePoint:hf,scalePow:zS,scaleQuantile:RV,scaleQuantize:kV,scaleRadial:OV,scaleSequential:BV,scaleSequentialLog:UV,scaleSequentialPow:ZS,scaleSequentialQuantile:WV,scaleSequentialSqrt:TX,scaleSequentialSymlog:zV,scaleSqrt:iY,scaleSymlog:CV,scaleThreshold:NV,scaleTime:bX,scaleUtc:EX,tickFormat:xV},Symbol.toStringTag,{value:"Module"}));var fb,FN;function QV(){if(FN)return fb;FN=1;var t=Ml();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var l=n[o],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,d=l}return d}return fb=e,fb}var hb,qN;function xX(){if(qN)return hb;qN=1;function t(e,n){return e>n}return hb=t,hb}var db,BN;function AX(){if(BN)return db;BN=1;var t=QV(),e=xX(),n=jl();function r(i){return i&&i.length?t(i,n,e):void 0}return db=r,db}var PX=AX();const Wg=vt(PX);var pb,UN;function IX(){if(UN)return pb;UN=1;function t(e,n){return e<n}return pb=t,pb}var mb,zN;function CX(){if(zN)return mb;zN=1;var t=QV(),e=IX(),n=jl();function r(i){return i&&i.length?t(i,n,e):void 0}return mb=r,mb}var OX=CX();const Hg=vt(OX);var gb,WN;function RX(){if(WN)return gb;WN=1;var t=gS(),e=Sa(),n=rV(),r=ar();function i(o,s){var l=r(o)?t:n;return l(o,e(s,3))}return gb=i,gb}var yb,HN;function kX(){if(HN)return yb;HN=1;var t=tV(),e=RX();function n(r,i){return t(e(r,i),1)}return yb=n,yb}var NX=kX();const MX=vt(NX);var vb,GN;function DX(){if(GN)return vb;GN=1;var t=CS();function e(n,r){return t(n,r)}return vb=e,vb}var jX=DX();const Gg=vt(jX);var $l=1e9,LX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nx,kt=!0,Br="[DecimalError] ",gs=Br+"Invalid argument: ",tx=Br+"Exponent out of range: ",Vl=Math.floor,os=Math.pow,$X=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tr,pn=1e7,Ct=7,YV=9007199254740991,Am=Vl(YV/Ct),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return mo(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return gt(mo(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return Qt(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Tr))throw Error(Br+"NaN");if(n.s<1)throw Error(Br+(n.s?"NaN":"-Infinity"));return n.eq(Tr)?new r(0):(kt=!1,e=mo(zf(n,o),zf(t,o),o),kt=!0,gt(e,i))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZV(e,t):XV(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Br+"NaN");return n.s?(kt=!1,e=mo(n,t,0,1).times(t),kt=!0,n.minus(e)):gt(new r(n),i)};Se.naturalExponential=Se.exp=function(){return JV(this)};Se.naturalLogarithm=Se.ln=function(){return zf(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XV(e,t):ZV(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gs+t);if(e=Qt(i)+1,r=i.d.length-1,n=r*Ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Br+"NaN")}for(t=Qt(l),kt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ki(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(mo(l,o,s+2)).times(.5),ki(o.d).slice(0,s)===(e=ki(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;s+=4}return kt=!0,gt(r,n)};Se.times=Se.mul=function(t){var e,n,r,i,o,s,l,c,f,d=this,p=d.constructor,y=d.d,_=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,c=y.length,f=_.length,c<f&&(o=y,y=_,_=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+_[r]*y[i-r-1]+e,o[i--]=l%pn|0,e=l/pn|0;o[i]=(o[i]+e)%pn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,kt?gt(t,p.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Vi(t,0,$l),e===void 0?e=r.rounding:Vi(e,0,8),gt(n,t+Qt(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ss(r,!0):(Vi(t,0,$l),e===void 0?e=i.rounding:Vi(e,0,8),r=gt(new i(r),t+1,e),n=Ss(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ss(i):(Vi(t,0,$l),e===void 0?e=o.rounding:Vi(e,0,8),r=gt(new o(i),t+Qt(i)+1,e),n=Ss(r.abs(),!1,t+Qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Qt(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,i,o,s,l=this,c=l.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(Tr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Br+"Infinity");return l}if(l.eq(Tr))return l;if(r=c.precision,t.eq(Tr))return gt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=l.s,s){if((n=d<0?-d:d)<=YV){for(i=new c(Tr),e=Math.ceil(r/Ct+4),kt=!1;n%2&&(i=i.times(l),QN(i.d,e)),n=Vl(n/2),n!==0;)l=l.times(l),QN(l.d,e);return kt=!0,t.s<0?new c(Tr).div(i):gt(i,r)}}else if(o<0)throw Error(Br+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,kt=!1,i=t.times(zf(l,r+f)),kt=!0,i=JV(i),i.s=o,i};Se.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Qt(i),r=Ss(i,n<=o.toExpNeg||n>=o.toExpPos)):(Vi(t,1,$l),e===void 0?e=o.rounding:Vi(e,0,8),i=gt(new o(i),t,e),n=Qt(i),r=Ss(i,t<=n||n<=o.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Vi(t,1,$l),e===void 0?e=r.rounding:Vi(e,0,8)),gt(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Qt(t),n=t.constructor;return Ss(t,e<=n.toExpNeg||e>=n.toExpPos)};function XV(t,e){var n,r,i,o,s,l,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),kt?gt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(p/Ct),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/pn|0,c[o]%=pn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,kt?gt(e,p):e}function Vi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gs+t)}function ki(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Ct-r.length,n&&(o+=Zo(n)),o+=r;s=t[e],r=s+"",n=Ct-r.length,n&&(o+=Zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var mo=function(){function t(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%pn|0,s=o/pn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*pn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,c,f,d,p,y,_,T,S,w,O,M,k,L,I,R,x,P,C=r.constructor,V=r.s==i.s?1:-1,D=r.d,$=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Br+"Division by zero");for(c=r.e-i.e,x=$.length,I=D.length,_=new C(V),T=_.d=[],f=0;$[f]==(D[f]||0);)++f;if($[f]>(D[f]||0)&&--c,o==null?M=o=C.precision:s?M=o+(Qt(r)-Qt(i))+1:M=o,M<0)return new C(0);if(M=M/Ct+2|0,f=0,x==1)for(d=0,$=$[0],M++;(f<I||d)&&M--;f++)k=d*pn+(D[f]||0),T[f]=k/$|0,d=k%$|0;else{for(d=pn/($[0]+1)|0,d>1&&($=t($,d),D=t(D,d),x=$.length,I=D.length),L=x,S=D.slice(0,x),w=S.length;w<x;)S[w++]=0;P=$.slice(),P.unshift(0),R=$[0],$[1]>=pn/2&&++R;do d=0,l=e($,S,x,w),l<0?(O=S[0],x!=w&&(O=O*pn+(S[1]||0)),d=O/R|0,d>1?(d>=pn&&(d=pn-1),p=t($,d),y=p.length,w=S.length,l=e(p,S,y,w),l==1&&(d--,n(p,x<y?P:$,y))):(d==0&&(l=d=1),p=$.slice()),y=p.length,y<w&&p.unshift(0),n(S,p,w),l==-1&&(w=S.length,l=e($,S,x,w),l<1&&(d++,n(S,x<w?P:$,w))),w=S.length):l===0&&(d++,S=[0]),T[f++]=d,l&&S[0]?S[w++]=D[L]||0:(S=[D[L]],w=1);while((L++<I||S[0]!==void 0)&&M--)}return T[0]||T.shift(),_.e=c,gt(_,s?o+Qt(_)+1:o)}}();function JV(t,e){var n,r,i,o,s,l,c=0,f=0,d=t.constructor,p=d.precision;if(Qt(t)>16)throw Error(tx+Qt(t));if(!t.s)return new d(Tr);for(e==null?(kt=!1,l=p):l=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(os(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new d(Tr),d.precision=l;;){if(i=gt(i.times(t),l),n=n.times(++c),s=o.plus(mo(i,n,l)),ki(s.d).slice(0,l)===ki(o.d).slice(0,l)){for(;f--;)o=gt(o.times(o),l);return d.precision=p,e==null?(kt=!0,gt(o,p)):o}o=s}}function Qt(t){for(var e=t.e*Ct,n=t.d[0];n>=10;n/=10)e++;return e}function _b(t,e,n){if(e>t.LN10.sd())throw kt=!0,n&&(t.precision=n),Error(Br+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function Zo(t){for(var e="";t--;)e+="0";return e}function zf(t,e){var n,r,i,o,s,l,c,f,d,p=1,y=10,_=t,T=_.d,S=_.constructor,w=S.precision;if(_.s<1)throw Error(Br+(_.s?"NaN":"-Infinity"));if(_.eq(Tr))return new S(0);if(e==null?(kt=!1,f=w):f=e,_.eq(10))return e==null&&(kt=!0),_b(S,f);if(f+=y,S.precision=f,n=ki(T),r=n.charAt(0),o=Qt(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=ki(_.d),r=n.charAt(0),p++;o=Qt(_),r>1?(_=new S("0."+n),o++):_=new S(r+"."+n.slice(1))}else return c=_b(S,f+2,w).times(o+""),_=zf(new S(r+"."+n.slice(1)),f-y).plus(c),S.precision=w,e==null?(kt=!0,gt(_,w)):_;for(l=s=_=mo(_.minus(Tr),_.plus(Tr),f),d=gt(_.times(_),f),i=3;;){if(s=gt(s.times(d),f),c=l.plus(mo(s,new S(i),f)),ki(c.d).slice(0,f)===ki(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(_b(S,f+2,w).times(o+""))),l=mo(l,new S(p),f),S.precision=w,e==null?(kt=!0,gt(l,w)):l;l=c,i+=2}}function KN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Vl(n/Ct),t.d=[],r=(n+1)%Ct,n<0&&(r+=Ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ct;r<i;)t.d.push(+e.slice(r,r+=Ct));e=e.slice(r),r=Ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),kt&&(t.e>Am||t.e<-Am))throw Error(tx+n)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,n){var r,i,o,s,l,c,f,d,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Ct,i=e,f=p[d=0];else{if(d=Math.ceil((r+1)/Ct),o=p.length,d>=o)return t;for(f=o=p[d],s=1;o>=10;o/=10)s++;r%=Ct,i=r-Ct+s}if(n!==void 0&&(o=os(10,s-i-1),l=f/o%10|0,c=e<0||p[d+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/os(10,s-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=Qt(t),p.length=1,e=e-o-1,p[0]=os(10,(Ct-e%Ct)%Ct),t.e=Vl(-e/Ct)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,o=1,d--):(p.length=d+1,o=os(10,Ct-r),p[d]=i>0?(f/os(10,s-i)%os(10,i)|0)*o:0),c)for(;;)if(d==0){(p[0]+=o)==pn&&(p[0]=1,++t.e);break}else{if(p[d]+=o,p[d]!=pn)break;p[d--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(kt&&(t.e>Am||t.e<-Am))throw Error(tx+Qt(t));return t}function ZV(t,e){var n,r,i,o,s,l,c,f,d,p,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),kt?gt(e,_):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(d=s<0,d?(n=c,s=-s,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(_/Ct),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}s=0}for(d&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=pn-1;--c[o],c[i]+=pn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,kt?gt(e,_):e):new y(0)}function Ss(t,e,n){var r,i=Qt(t),o=ki(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Zo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Zo(-i-1)+o,n&&(r=n-s)>0&&(o+=Zo(r))):i>=s?(o+=Zo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Zo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Zo(r))),t.s<0?"-"+o:o}function QN(t,e){if(t.length>e)return t.length=e,!0}function eF(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(gs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return KN(s,o.toString())}else if(typeof o!="string")throw Error(gs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,$X.test(o))KN(s,o);else throw Error(gs+o)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eF,i.config=i.set=VX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function VX(t){if(!t||typeof t!="object")throw Error(Br+"Object expected");var e,n,r,i=["precision",1,$l,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Vl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gs+n+": "+r);return this}var nx=eF(LX);Tr=new nx(1);const pt=nx;function FX(t){return zX(t)||UX(t)||BX(t)||qX()}function qX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BX(t,e){if(t){if(typeof t=="string")return iE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(t,e)}}function UX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zX(t){if(Array.isArray(t))return iE(t)}function iE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WX=function(e){return e},tF={"@@functional/placeholder":!0},nF=function(e){return e===tF},YN=function(e){return function n(){return arguments.length===0||arguments.length===1&&nF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},HX=function t(e,n){return e===1?n:YN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==tF}).length;return s>=e?n.apply(void 0,i):t(e-s,YN(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=i.map(function(p){return nF(p)?c.shift():p});return n.apply(void 0,FX(d).concat(c))}))})},Kg=function(e){return HX(e.length,e)},oE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},GX=Kg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),KX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return WX;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},aE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function QX(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function YX(t,e,n){for(var r=new pt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var XX=Kg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),JX=Kg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ZX=Kg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Qg={rangeStep:YX,getDigitCount:QX,interpolateNumber:XX,uninterpolateNumber:JX,uninterpolateTruncation:ZX};function sE(t){return nJ(t)||tJ(t)||iF(t)||eJ()}function eJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nJ(t){if(Array.isArray(t))return uE(t)}function Wf(t,e){return oJ(t)||iJ(t,e)||iF(t,e)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iF(t,e){if(t){if(typeof t=="string")return uE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(t,e)}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function oJ(t){if(Array.isArray(t))return t}function oF(t){var e=Wf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function aF(t,e,n){if(t.lte(0))return new pt(0);var r=Qg.getDigitCount(t.toNumber()),i=new pt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,l=new pt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new pt(Math.ceil(c))}function aJ(t,e,n){var r=1,i=new pt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new pt(10).pow(Qg.getDigitCount(t)-1),i=new pt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):n||(i=new pt(Math.floor(t)));var s=Math.floor((e-1)/2),l=KX(GX(function(c){return i.add(new pt(c-s).mul(r)).toNumber()}),oE);return l(0,e)}function sF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var o=aF(new pt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new pt(0):(s=new pt(t).add(e).div(2),s=s.sub(new pt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new pt(e).sub(s).div(o).toNumber()),f=l+c+1;return f>n?sF(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:o,tickMin:s.sub(new pt(l).mul(o)),tickMax:s.add(new pt(c).mul(o))})}function sJ(t){var e=Wf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=oF([n,r]),c=Wf(l,2),f=c[0],d=c[1];if(f===-1/0||d===1/0){var p=d===1/0?[f].concat(sE(oE(0,i-1).map(function(){return 1/0}))):[].concat(sE(oE(0,i-1).map(function(){return-1/0})),[d]);return n>r?aE(p):p}if(f===d)return aJ(f,i,o);var y=sF(f,d,s,o),_=y.step,T=y.tickMin,S=y.tickMax,w=Qg.rangeStep(T,S.add(new pt(.1).mul(_)),_);return n>r?aE(w):w}function uJ(t,e){var n=Wf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=oF([r,i]),l=Wf(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var d=Math.max(e,2),p=aF(new pt(f).sub(c).div(d-1),o,0),y=[].concat(sE(Qg.rangeStep(new pt(c),new pt(f).sub(new pt(.99).mul(p)),p)),[f]);return r>i?aE(y):y}var lJ=rF(sJ),cJ=rF(uJ),fJ="Invariant failed";function xs(t,e){throw new Error(fJ)}var hJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function dJ(t,e){return yJ(t)||gJ(t,e)||mJ(t,e)||pJ()}function pJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(t,e){if(t){if(typeof t=="string")return XN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XN(t,e)}}function XN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function yJ(t){if(Array.isArray(t))return t}function vJ(t,e){if(t==null)return{};var n=_J(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _J(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cF(r.key),r)}}function EJ(t,e,n){return e&&bJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t,e,n){return e=Im(e),SJ(t,uF()?Reflect.construct(e,n||[],Im(t).constructor):e.apply(t,n))}function SJ(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJ(t)}function xJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Im(t)}function AJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function lF(t,e,n){return e=cF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cF(t){var e=PJ(t,"string");return hl(e)=="symbol"?e:e+""}function PJ(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mh=function(t){function e(){return wJ(this,e),TJ(this,e,arguments)}return AJ(e,t),EJ(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,d=r.xAxis,p=r.yAxis,y=vJ(r,hJ),_=tt(y,!1);this.props.direction==="x"&&d.type!=="number"&&xs();var T=c.map(function(S){var w=f(S,l),O=w.x,M=w.y,k=w.value,L=w.errorVal;if(!L)return null;var I=[],R,x;if(Array.isArray(L)){var P=dJ(L,2);R=P[0],x=P[1]}else R=x=L;if(o==="vertical"){var C=d.scale,V=M+i,D=V+s,$=V-s,j=C(k-R),X=C(k+x);I.push({x1:X,y1:D,x2:X,y2:$}),I.push({x1:j,y1:V,x2:X,y2:V}),I.push({x1:j,y1:D,x2:j,y2:$})}else if(o==="horizontal"){var J=p.scale,re=O+i,ie=re-s,Q=re+s,ne=J(k-R),ae=J(k+x);I.push({x1:ie,y1:ae,x2:Q,y2:ae}),I.push({x1:re,y1:ne,x2:re,y2:ae}),I.push({x1:ie,y1:ne,x2:Q,y2:ne})}return W.createElement(Bt,Pm({className:"recharts-errorBar",key:"bar-".concat(I.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},_),I.map(function(B){return W.createElement("line",Pm({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return W.createElement(Bt,{className:"recharts-errorBars"},T)}}])}(W.Component);lF(Mh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lF(Mh,"displayName","ErrorBar");function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){IJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IJ(t,e,n){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=OJ(t,"string");return Hf(e)=="symbol"?e:e+""}function OJ(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=br(n,ps);if(!s)return null;var l=ps.defaultProps,c=l!==void 0?ts(ts({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(r||[]).reduce(function(d,p){var y=p.item,_=p.props,T=_.sectors||_.data||[];return d.concat(T.map(function(S){return{type:s.props.iconType||y.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):f=(r||[]).map(function(d){var p=d.item,y=p.type.defaultProps,_=y!==void 0?ts(ts({},y),p.props):{},T=_.dataKey,S=_.name,w=_.legendType,O=_.hide;return{inactive:O,dataKey:T,type:c.iconType||w||"square",color:rx(p),value:S||T,payload:_}}),ts(ts(ts({},c),ps.getWithHeight(s,i)),{},{payload:f,item:s})};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function ZN(t){return MJ(t)||NJ(t)||kJ(t)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return cE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(t,e)}}function NJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MJ(t){if(Array.isArray(t))return cE(t)}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zu(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=jJ(t,"string");return Gf(e)=="symbol"?e:e+""}function jJ(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xr(t,e,n){return Xe(t)||Xe(e)?n:rn(e)?Fr(t,e,n):We(e)?e(t):n}function df(t,e,n,r){var i=MX(t,function(l){return xr(l,e)});if(n==="number"){var o=i.filter(function(l){return _e(l)||parseFloat(l)});return o.length?[Hg(o),Wg(o)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!Xe(l)}):i;return s.map(function(l){return rn(l)||l instanceof Date?l:""})}var LJ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var d=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,y=f>=l-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(pi(p-d)!==pi(y-p)){var T=[];if(pi(y-p)===pi(c[1]-c[0])){_=y;var S=p+c[1]-c[0];T[0]=Math.min(S,(S+d)/2),T[1]=Math.max(S,(S+d)/2)}else{_=d;var w=y+c[1]-c[0];T[0]=Math.min(p,(w+p)/2),T[1]=Math.max(p,(w+p)/2)}var O=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(e>O[0]&&e<=O[1]||e>=T[0]&&e<=T[1]){s=i[f].index;break}}else{var M=Math.min(d,y),k=Math.max(d,y);if(e>(M+p)/2&&e<=(k+p)/2){s=i[f].index;break}}}else for(var L=0;L<l;L++)if(L===0&&e<=(r[L].coordinate+r[L+1].coordinate)/2||L>0&&L<l-1&&e>(r[L].coordinate+r[L-1].coordinate)/2&&e<=(r[L].coordinate+r[L+1].coordinate)/2||L===l-1&&e>(r[L].coordinate+r[L-1].coordinate)/2){s=r[L].index;break}return s},rx=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,s=o.stroke,l=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},$J=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var d=o[l[c]].stackGroups,p=Object.keys(d),y=0,_=p.length;y<_;y++){var T=d[p[y]],S=T.items,w=T.cateAxisId,O=S.filter(function(x){return fo(x.type).indexOf("Bar")>=0});if(O&&O.length){var M=O[0].type.defaultProps,k=M!==void 0?Lt(Lt({},M),O[0].props):O[0].props,L=k.barSize,I=k[w];s[I]||(s[I]=[]);var R=Xe(L)?n:L;s[I].push({item:O[0],stackList:O.slice(1),barSize:Xe(R)?void 0:Ts(R,r,0)})}}return s},VJ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=Ts(n,i,0,!0),d,p=[];if(s[0].barSize===+s[0].barSize){var y=!1,_=i/c,T=s.reduce(function(L,I){return L+I.barSize||0},0);T+=(c-1)*f,T>=i&&(T-=(c-1)*f,f=0),T>=i&&_>0&&(y=!0,_*=.9,T=c*_);var S=(i-T)/2>>0,w={offset:S-f,size:0};d=s.reduce(function(L,I){var R={item:I.item,position:{offset:w.offset+w.size+f,size:y?_:I.barSize}},x=[].concat(ZN(L),[R]);return w=x[x.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){x.push({item:P,position:w})}),x},p)}else{var O=Ts(r,i,0,!0);i-2*O-(c-1)*f<=0&&(f=0);var M=(i-2*O-(c-1)*f)/c;M>1&&(M>>=0);var k=l===+l?Math.min(M,l):M;d=s.reduce(function(L,I,R){var x=[].concat(ZN(L),[{item:I.item,position:{offset:O+(M+f)*R+(M-k)/2,size:k}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){x.push({item:P,position:x[x.length-1].position})}),x},p)}return d},FJ=function(e,n,r,i){var o=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=fF({children:o,legendWidth:c});if(f){var d=i||{},p=d.width,y=d.height,_=f.align,T=f.verticalAlign,S=f.layout;if((S==="vertical"||S==="horizontal"&&T==="middle")&&_!=="center"&&_e(e[_]))return Lt(Lt({},e),{},zu({},_,e[_]+(p||0)));if((S==="horizontal"||S==="vertical"&&_==="center")&&T!=="middle"&&_e(e[T]))return Lt(Lt({},e),{},zu({},T,e[T]+(y||0)))}return e},qJ=function(e,n,r){return Xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hF=function(e,n,r,i,o){var s=n.props.children,l=qr(s,Mh).filter(function(f){return qJ(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,d){var p=xr(d,r);if(Xe(p))return f;var y=Array.isArray(p)?[Hg(p),Wg(p)]:[p,p],_=c.reduce(function(T,S){var w=xr(d,S,0),O=y[0]-Math.abs(Array.isArray(w)?w[0]:w),M=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(O,T[0]),Math.max(M,T[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},BJ=function(e,n,r,i,o){var s=n.map(function(l){return hF(e,l,r,o,i)}).filter(function(l){return!Xe(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},dF=function(e,n,r,i,o){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&hF(e,c,f,i)||df(e,f,r,o)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var d=0,p=f.length;d<p;d++)l[f[d]]||(l[f[d]]=!0,c.push(f[d]));return c},[])},pF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},mF=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var o,s,l=e.map(function(c){return c.coordinate===n&&(o=!0),c.coordinate===r&&(s=!0),c.coordinate});return o||l.push(n),s||l.push(r),l},uo=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?pi(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(p){var y=o?o.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return d.filter(function(p){return!Ph(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:o?o[p]:p,index:y,offset:f}})},wb=new WeakMap,hp=function(e,n){if(typeof n!="function")return e;wb.has(e)||wb.set(e,new WeakMap);var r=wb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},UJ=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Vf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Em(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:hf(),realScaleType:"point"}:o==="category"?{scale:Vf(),realScaleType:"band"}:{scale:Em(),realScaleType:"linear"};if(Ah(i)){var c="scale".concat(kg(i));return{scale:(VN[c]||hf)(),realScaleType:VN[c]?c:"point"}}return We(i)?{scale:i}:{scale:hf(),realScaleType:"point"}},t2=1e-4,zJ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-t2,s=Math.max(i[0],i[1])+t2,l=e(n[0]),c=e(n[r-1]);(l<o||l>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},WJ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},HJ=function(e,n){if(!n||n.length!==2||!_e(n[0])||!_e(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(o[0]=r),(!_e(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},GJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,l=0;l<n;++l){var c=Ph(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},KJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var l=Ph(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},QJ={sign:GJ,expand:RH,none:il,silhouette:kH,wiggle:NH,positive:KJ},YJ=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=QJ[r],s=OH().keys(i).value(function(l,c){return+xr(l,c,0)}).order(F1).offset(o);return s(e)},XJ=function(e,n,r,i,o,s){if(!e)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(p,y){var _,T=(_=y.type)!==null&&_!==void 0&&_.defaultProps?Lt(Lt({},y.type.defaultProps),y.props):y.props,S=T.stackId,w=T.hide;if(w)return p;var O=T[r],M=p[O]||{hasStack:!1,stackGroups:{}};if(rn(S)){var k=M.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(y),M.hasStack=!0,M.stackGroups[S]=k}else M.stackGroups[Ih("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return Lt(Lt({},p),{},zu({},O,M))},c),d={};return Object.keys(f).reduce(function(p,y){var _=f[y];if(_.hasStack){var T={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(S,w){var O=_.stackGroups[w];return Lt(Lt({},S),{},zu({},w,{numericAxisId:r,cateAxisId:i,items:O.items,stackedData:YJ(e,O.items,o)}))},T)}return Lt(Lt({},p),{},zu({},y,_))},d)},JJ=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var d=lJ(f,o,l);return e.domain([Hg(d),Wg(d)]),{niceTicks:d}}if(o&&i==="number"){var p=e.domain(),y=cJ(p,o,l);return{niceTicks:y}}return null};function n2(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var l=nm(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=xr(i,Xe(s)?e.dataKey:s);return Xe(c)?null:e.scale(c)}var r2=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=xr(s,n.dataKey,n.domain[l]);return Xe(c)?null:n.scale(c)-o/2+i},ZJ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},eZ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(rn(o)){var s=n[o];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},tZ=function(e){return e.reduce(function(n,r){return[Hg(r.concat([n[0]]).filter(_e)),Wg(r.concat([n[1]]).filter(_e))]},[1/0,-1/0])},gF=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,d){var p=tZ(d.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},i2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fE=function(e,n,r){if(We(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(_e(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(i2.test(e[0])){var o=+i2.exec(e[0])[1];i[0]=n[0]-o}else We(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(_e(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(o2.test(e[1])){var s=+o2.exec(e[1])[1];i[1]=n[1]+s}else We(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Cm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=RS(n,function(p){return p.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],d=o[l-1];s=Math.min((f.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},a2=function(e,n,r){return!e||!e.length||Gg(e,Fr(r,"type.defaultProps.domain"))?n:e},yF=function(e,n){var r=e.type.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,d=r.hide;return Lt(Lt({},tt(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:rx(e),value:xr(n,i),type:c,payload:n,chartType:f,hide:d})};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){nZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e,n){return e=rZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=iZ(t,"string");return Kf(e)=="symbol"?e:e+""}function iZ(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Om=Math.PI/180,oZ=function(e){return e*180/Math.PI},xn=function(e,n,r,i){return{x:e+Math.cos(-Om*i)*r,y:n+Math.sin(-Om*i)*r}},aZ=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},sZ=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,l=aZ({x:r,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(r-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:oZ(f),angleInRadian:f}},uZ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},lZ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},l2=function(e,n){var r=e.x,i=e.y,o=sZ({x:r,y:i},n),s=o.radius,l=o.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var d=uZ(n),p=d.startAngle,y=d.endAngle,_=l,T;if(p<=y){for(;_>y;)_-=360;for(;_<p;)_+=360;T=_>=p&&_<=y}else{for(;_>p;)_-=360;for(;_<y;)_+=360;T=_>=y&&_<=p}return T?u2(u2({},n),{},{radius:s,angle:lZ(_,n)}):null};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}var cZ=["offset"];function fZ(t){return mZ(t)||pZ(t)||dZ(t)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(t,e){if(t){if(typeof t=="string")return hE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(t,e)}}function pZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mZ(t){if(Array.isArray(t))return hE(t)}function hE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gZ(t,e){if(t==null)return{};var n=yZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){vZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vZ(t,e,n){return e=_Z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Z(t){var e=wZ(t,"string");return Qf(e)=="symbol"?e:e+""}function wZ(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yf.apply(this,arguments)}var bZ=function(e){var n=e.value,r=e.formatter,i=Xe(e.children)?n:e.children;return We(r)?r(i):i},EZ=function(e,n){var r=pi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},TZ=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,d=c.cy,p=c.innerRadius,y=c.outerRadius,_=c.startAngle,T=c.endAngle,S=c.clockWise,w=(p+y)/2,O=EZ(_,T),M=O>=0?1:-1,k,L;i==="insideStart"?(k=_+M*s,L=S):i==="insideEnd"?(k=T-M*s,L=!S):i==="end"&&(k=T+M*s,L=S),L=O<=0?L:!L;var I=xn(f,d,w,k),R=xn(f,d,w,k+(L?1:-1)*359),x="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(L?0:1,`,
    `).concat(R.x,",").concat(R.y),P=Xe(e.id)?Ih("recharts-radial-line-"):e.id;return W.createElement("text",Yf({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:P,d:x})),W.createElement("textPath",{xlinkHref:"#".concat(P)},n))},SZ=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,d=o.startAngle,p=o.endAngle,y=(d+p)/2;if(i==="outside"){var _=xn(s,l,f+r,y),T=_.x,S=_.y;return{x:T,y:S,textAnchor:T>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+f)/2,O=xn(s,l,w,y),M=O.x,k=O.y;return{x:M,y:k,textAnchor:"middle",verticalAnchor:"middle"}},xZ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,l=s.x,c=s.y,f=s.width,d=s.height,p=d>=0?1:-1,y=p*i,_=p>0?"end":"start",T=p>0?"start":"end",S=f>=0?1:-1,w=S*i,O=S>0?"end":"start",M=S>0?"start":"end";if(o==="top"){var k={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:_};return tn(tn({},k),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var L={x:l+f/2,y:c+d+y,textAnchor:"middle",verticalAnchor:T};return tn(tn({},L),r?{height:Math.max(r.y+r.height-(c+d),0),width:f}:{})}if(o==="left"){var I={x:l-w,y:c+d/2,textAnchor:O,verticalAnchor:"middle"};return tn(tn({},I),r?{width:Math.max(I.x-r.x,0),height:d}:{})}if(o==="right"){var R={x:l+f+w,y:c+d/2,textAnchor:M,verticalAnchor:"middle"};return tn(tn({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:d}:{})}var x=r?{width:f,height:d}:{};return o==="insideLeft"?tn({x:l+w,y:c+d/2,textAnchor:M,verticalAnchor:"middle"},x):o==="insideRight"?tn({x:l+f-w,y:c+d/2,textAnchor:O,verticalAnchor:"middle"},x):o==="insideTop"?tn({x:l+f/2,y:c+y,textAnchor:"middle",verticalAnchor:T},x):o==="insideBottom"?tn({x:l+f/2,y:c+d-y,textAnchor:"middle",verticalAnchor:_},x):o==="insideTopLeft"?tn({x:l+w,y:c+y,textAnchor:M,verticalAnchor:T},x):o==="insideTopRight"?tn({x:l+f-w,y:c+y,textAnchor:O,verticalAnchor:T},x):o==="insideBottomLeft"?tn({x:l+w,y:c+d-y,textAnchor:M,verticalAnchor:_},x):o==="insideBottomRight"?tn({x:l+f-w,y:c+d-y,textAnchor:O,verticalAnchor:_},x):Dl(o)&&(_e(o.x)||us(o.x))&&(_e(o.y)||us(o.y))?tn({x:l+Ts(o.x,f),y:c+Ts(o.y,d),textAnchor:"end",verticalAnchor:"end"},x):tn({x:l+f/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},x)},AZ=function(e){return"cx"in e&&_e(e.cx)};function Ln(t){var e=t.offset,n=e===void 0?5:e,r=gZ(t,cZ),i=tn({offset:n},r),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,d=i.className,p=d===void 0?"":d,y=i.textBreakAll;if(!o||Xe(l)&&Xe(c)&&!de.isValidElement(f)&&!We(f))return null;if(de.isValidElement(f))return de.cloneElement(f,i);var _;if(We(f)){if(_=de.createElement(f,i),de.isValidElement(_))return _}else _=bZ(i);var T=AZ(o),S=tt(i,!0);if(T&&(s==="insideStart"||s==="insideEnd"||s==="end"))return TZ(i,_,S);var w=T?SZ(i):xZ(i);return W.createElement(mm,Yf({className:at("recharts-label",p)},S,w,{breakAll:y}),_)}Ln.displayName="Label";var vF=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,d=e.outerRadius,p=e.x,y=e.y,_=e.top,T=e.left,S=e.width,w=e.height,O=e.clockWise,M=e.labelViewBox;if(M)return M;if(_e(S)&&_e(w)){if(_e(p)&&_e(y))return{x:p,y,width:S,height:w};if(_e(_)&&_e(T))return{x:_,y:T,width:S,height:w}}return _e(p)&&_e(y)?{x:p,y,width:0,height:0}:_e(n)&&_e(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:d||c||l||0,clockWise:O}:e.viewBox?e.viewBox:{}},PZ=function(e,n){return e?e===!0?W.createElement(Ln,{key:"label-implicit",viewBox:n}):rn(e)?W.createElement(Ln,{key:"label-implicit",viewBox:n,value:e}):de.isValidElement(e)?e.type===Ln?de.cloneElement(e,{key:"label-implicit",viewBox:n}):W.createElement(Ln,{key:"label-implicit",content:e,viewBox:n}):We(e)?W.createElement(Ln,{key:"label-implicit",content:e,viewBox:n}):Dl(e)?W.createElement(Ln,Yf({viewBox:n},e,{key:"label-implicit"})):null:null},IZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=vF(e),s=qr(i,Ln).map(function(c,f){return de.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return s;var l=PZ(e.label,n||o);return[l].concat(fZ(s))};Ln.parseViewBox=vF;Ln.renderCallByParent=IZ;var bb,f2;function CZ(){if(f2)return bb;f2=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return bb=t,bb}var OZ=CZ();const RZ=vt(OZ);function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}var kZ=["valueAccessor"],NZ=["data","dataKey","clockWise","id","textBreakAll"];function MZ(t){return $Z(t)||LZ(t)||jZ(t)||DZ()}function DZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jZ(t,e){if(t){if(typeof t=="string")return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}}function LZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Z(t){if(Array.isArray(t))return dE(t)}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function h2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(n),!0).forEach(function(r){VZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VZ(t,e,n){return e=FZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZ(t){var e=qZ(t,"string");return Xf(e)=="symbol"?e:e+""}function qZ(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p2(t,e){if(t==null)return{};var n=BZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var UZ=function(e){return Array.isArray(e.value)?RZ(e.value):e.value};function fa(t){var e=t.valueAccessor,n=e===void 0?UZ:e,r=p2(t,kZ),i=r.data,o=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=p2(r,NZ);return!i||!i.length?null:W.createElement(Bt,{className:"recharts-label-list"},i.map(function(d,p){var y=Xe(o)?n(d,p):xr(d&&d.payload,o),_=Xe(l)?{}:{id:"".concat(l,"-").concat(p)};return W.createElement(Ln,Rm({},tt(d,!0),f,_,{parentViewBox:d.parentViewBox,value:y,textBreakAll:c,viewBox:Ln.parseViewBox(Xe(s)?d:d2(d2({},d),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}fa.displayName="LabelList";function zZ(t,e){return t?t===!0?W.createElement(fa,{key:"labelList-implicit",data:e}):W.isValidElement(t)||We(t)?W.createElement(fa,{key:"labelList-implicit",data:e,content:t}):Dl(t)?W.createElement(fa,Rm({data:e},t,{key:"labelList-implicit"})):null:null}function WZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=qr(r,fa).map(function(s,l){return de.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=zZ(t.label,e);return[o].concat(MZ(i))}fa.renderCallByParent=WZ;function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){HZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HZ(t,e,n){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t){var e=KZ(t,"string");return Jf(e)=="symbol"?e:e+""}function KZ(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QZ=function(e,n){var r=pi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},dp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,d=c*(l?1:-1)+i,p=Math.asin(c/d)/Om,y=f?o:o+s*p,_=xn(n,r,d,y),T=xn(n,r,i,y),S=f?o-s*p:o,w=xn(n,r,d*Math.cos(p*Om),S);return{center:_,circleTangency:T,lineTangency:w,theta:p}},_F=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=QZ(s,l),f=s+c,d=xn(n,r,o,s),p=xn(n,r,o,f),y="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var _=xn(n,r,i,s),T=xn(n,r,i,f);y+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},YZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,d=e.endAngle,p=pi(d-f),y=dp({cx:n,cy:r,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),_=y.circleTangency,T=y.lineTangency,S=y.theta,w=dp({cx:n,cy:r,radius:o,angle:d,sign:-p,cornerRadius:s,cornerIsExternal:c}),O=w.circleTangency,M=w.lineTangency,k=w.theta,L=c?Math.abs(f-d):Math.abs(f-d)-S-k;if(L<0)return l?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):_F({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d});var I="M ".concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(L>180),",").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
  `);if(i>0){var R=dp({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),x=R.circleTangency,P=R.lineTangency,C=R.theta,V=dp({cx:n,cy:r,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=V.circleTangency,$=V.lineTangency,j=V.theta,X=c?Math.abs(f-d):Math.abs(f-d)-C-j;if(X<0&&s===0)return"".concat(I,"L").concat(n,",").concat(r,"Z");I+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(p>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else I+="L".concat(n,",").concat(r,"Z");return I},XZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wF=function(e){var n=g2(g2({},XZ),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,d=n.startAngle,p=n.endAngle,y=n.className;if(s<o||d===p)return null;var _=at("recharts-sector",y),T=s-o,S=Ts(l,T,0,!0),w;return S>0&&Math.abs(d-p)<360?w=YZ({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(S,T/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):w=_F({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:p}),W.createElement("path",pE({},tt(n,!0),{className:_,d:w,role:"img"}))};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(this,arguments)}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){JZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JZ(t,e,n){return e=ZZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZZ(t){var e=eee(t,"string");return Zf(e)=="symbol"?e:e+""}function eee(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _2={curveBasisClosed:_H,curveBasisOpen:wH,curveBasis:vH,curveBumpX:iH,curveBumpY:oH,curveLinearClosed:bH,curveLinear:Mg,curveMonotoneX:EH,curveMonotoneY:TH,curveNatural:SH,curveStep:xH,curveStepAfter:PH,curveStepBefore:AH},pp=function(e){return e.x===+e.x&&e.y===+e.y},Bc=function(e){return e.x},Uc=function(e){return e.y},tee=function(e,n){if(We(e))return e;var r="curve".concat(kg(e));return(r==="curveMonotone"||r==="curveBump")&&n?_2["".concat(r).concat(n==="vertical"?"Y":"X")]:_2[r]||Mg},nee=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,d=tee(r,l),p=f?o.filter(function(S){return pp(S)}):o,y;if(Array.isArray(s)){var _=f?s.filter(function(S){return pp(S)}):s,T=p.map(function(S,w){return v2(v2({},S),{},{base:_[w]})});return l==="vertical"?y=op().y(Uc).x1(Bc).x0(function(S){return S.base.x}):y=op().x(Bc).y1(Uc).y0(function(S){return S.base.y}),y.defined(pp).curve(d),y(T)}return l==="vertical"&&_e(s)?y=op().y(Uc).x1(Bc).x0(s):_e(s)?y=op().x(Bc).y1(Uc).y0(s):y=S$().x(Bc).y(Uc),y.defined(pp).curve(d),y(p)},gE=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?nee(e):i;return W.createElement("path",mE({},tt(e,!1),rm(e),{className:at("recharts-curve",n),d:s,ref:o}))},Eb={exports:{}},Tb,w2;function ree(){if(w2)return Tb;w2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tb=t,Tb}var Sb,b2;function iee(){if(b2)return Sb;b2=1;var t=ree();function e(){}function n(){}return n.resetWarningCache=e,Sb=function(){function r(s,l,c,f,d,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Sb}var E2;function oee(){return E2||(E2=1,Eb.exports=iee()()),Eb.exports}var aee=oee();const ht=vt(aee);var see=Object.getOwnPropertyNames,uee=Object.getOwnPropertySymbols,lee=Object.prototype.hasOwnProperty;function T2(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function mp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),l=o.get(r);if(s&&l)return s===r&&l===n;o.set(n,r),o.set(r,n);var c=t(n,r,i);return o.delete(n),o.delete(r),c}}function S2(t){return see(t).concat(uee(t))}var bF=Object.hasOwn||function(t,e){return lee.call(t,e)};function Fl(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var EF="_owner",x2=Object.getOwnPropertyDescriptor,A2=Object.keys;function cee(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function fee(t,e){return Fl(t.getTime(),e.getTime())}function P2(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,s,l;(s=i.next())&&!s.done;){for(var c=e.entries(),f=!1,d=0;(l=c.next())&&!l.done;){var p=s.value,y=p[0],_=p[1],T=l.value,S=T[0],w=T[1];!f&&!r[d]&&(f=n.equals(y,S,o,d,t,e,n)&&n.equals(_,w,y,S,t,e,n))&&(r[d]=!0),d++}if(!f)return!1;o++}return!0}function hee(t,e,n){var r=A2(t),i=r.length;if(A2(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===EF&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!bF(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function zc(t,e,n){var r=S2(t),i=r.length;if(S2(e).length!==i)return!1;for(var o,s,l;i-- >0;)if(o=r[i],o===EF&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!bF(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(s=x2(t,o),l=x2(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function dee(t,e){return Fl(t.valueOf(),e.valueOf())}function pee(t,e){return t.source===e.source&&t.flags===e.flags}function I2(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,s;(o=i.next())&&!o.done;){for(var l=e.values(),c=!1,f=0;(s=l.next())&&!s.done;)!c&&!r[f]&&(c=n.equals(o.value,s.value,o.value,s.value,t,e,n))&&(r[f]=!0),f++;if(!c)return!1}return!0}function mee(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var gee="[object Arguments]",yee="[object Boolean]",vee="[object Date]",_ee="[object Map]",wee="[object Number]",bee="[object Object]",Eee="[object RegExp]",Tee="[object Set]",See="[object String]",xee=Array.isArray,C2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,O2=Object.assign,Aee=Object.prototype.toString.call.bind(Object.prototype.toString);function Pee(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(d,p,y){if(d===p)return!0;if(d==null||p==null||typeof d!="object"||typeof p!="object")return d!==d&&p!==p;var _=d.constructor;if(_!==p.constructor)return!1;if(_===Object)return i(d,p,y);if(xee(d))return e(d,p,y);if(C2!=null&&C2(d))return c(d,p,y);if(_===Date)return n(d,p,y);if(_===RegExp)return s(d,p,y);if(_===Map)return r(d,p,y);if(_===Set)return l(d,p,y);var T=Aee(d);return T===vee?n(d,p,y):T===Eee?s(d,p,y):T===_ee?r(d,p,y):T===Tee?l(d,p,y):T===bee?typeof d.then!="function"&&typeof p.then!="function"&&i(d,p,y):T===gee?i(d,p,y):T===yee||T===wee||T===See?o(d,p,y):!1}}function Iee(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?zc:cee,areDatesEqual:fee,areMapsEqual:r?T2(P2,zc):P2,areObjectsEqual:r?zc:hee,arePrimitiveWrappersEqual:dee,areRegExpsEqual:pee,areSetsEqual:r?T2(I2,zc):I2,areTypedArraysEqual:r?zc:mee};if(n&&(i=O2({},i,n(i))),e){var o=mp(i.areArraysEqual),s=mp(i.areMapsEqual),l=mp(i.areObjectsEqual),c=mp(i.areSetsEqual);i=O2({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function Cee(t){return function(e,n,r,i,o,s,l){return t(e,n,l)}}function Oee(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(c,f){var d=r(),p=d.cache,y=p===void 0?e?new WeakMap:void 0:p,_=d.meta;return n(c,f,{cache:y,equals:i,meta:_,strict:o})};if(e)return function(c,f){return n(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,f){return n(c,f,s)}}var Ree=Pa();Pa({strict:!0});Pa({circular:!0});Pa({circular:!0,strict:!0});Pa({createInternalComparator:function(){return Fl}});Pa({strict:!0,createInternalComparator:function(){return Fl}});Pa({circular:!0,createInternalComparator:function(){return Fl}});Pa({circular:!0,createInternalComparator:function(){return Fl},strict:!0});function Pa(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,l=Iee(t),c=Pee(l),f=r?r(c):Cee(c);return Oee({circular:n,comparator:c,createState:i,equals:f,strict:s})}function kee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function R2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):kee(i)};requestAnimationFrame(r)}function yE(t){"@babel/helpers - typeof";return yE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yE(t)}function Nee(t){return Lee(t)||jee(t)||Dee(t)||Mee()}function Mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(t,e){if(t){if(typeof t=="string")return k2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(t,e)}}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lee(t){if(Array.isArray(t))return t}function $ee(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,l=Nee(s),c=l[0],f=l.slice(1);if(typeof c=="number"){R2(i.bind(null,f),c);return}i(c),R2(i.bind(null,f));return}yE(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){TF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TF(t,e,n){return e=Vee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vee(t){var e=Fee(t,"string");return eh(e)==="symbol"?e:String(e)}function Fee(t,e){if(eh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qee=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Bee=function(e){return e},Uee=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pf=function(e,n){return Object.keys(n).reduce(function(r,i){return M2(M2({},r),{},TF({},i,e(i,n[i])))},{})},D2=function(e,n,r){return e.map(function(i){return"".concat(Uee(i)," ").concat(n,"ms ").concat(r)}).join(",")};function zee(t,e){return Gee(t)||Hee(t,e)||SF(t,e)||Wee()}function Wee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Gee(t){if(Array.isArray(t))return t}function Kee(t){return Xee(t)||Yee(t)||SF(t)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SF(t,e){if(t){if(typeof t=="string")return vE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vE(t,e)}}function Yee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xee(t){if(Array.isArray(t))return vE(t)}function vE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var km=1e-4,xF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},AF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},j2=function(e,n){return function(r){var i=xF(e,n);return AF(i,r)}},Jee=function(e,n){return function(r){var i=xF(e,n),o=[].concat(Kee(i.map(function(s,l){return s*l}).slice(1)),[0]);return AF(o,r)}},L2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=zee(f,4);i=d[0],o=d[1],s=d[2],l=d[3]}}}var p=j2(i,s),y=j2(o,l),_=Jee(i,s),T=function(O){return O>1?1:O<0?0:O},S=function(O){for(var M=O>1?1:O,k=M,L=0;L<8;++L){var I=p(k)-M,R=_(k);if(Math.abs(I-M)<km||R<km)return y(k);k=T(k-I/R)}return y(k)};return S.isStepper=!1,S},Zee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(d,p,y){var _=-(d-p)*r,T=y*o,S=y+(_-T)*l/1e3,w=y*l/1e3+d;return Math.abs(w-p)<km&&Math.abs(S)<km?[p,0]:[w,S]};return c.isStepper=!0,c.dt=l,c},ete=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return L2(i);case"spring":return Zee();default:if(i.split("(")[0]==="cubic-bezier")return L2(i)}return typeof i=="function"?i:null};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function $2(t){return rte(t)||nte(t)||PF(t)||tte()}function tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rte(t){if(Array.isArray(t))return wE(t)}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _E(t,e,n){return e=ite(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ite(t){var e=ote(t,"string");return th(e)==="symbol"?e:String(e)}function ote(t,e){if(th(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(th(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ate(t,e){return lte(t)||ute(t,e)||PF(t,e)||ste()}function ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PF(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ute(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function lte(t){if(Array.isArray(t))return t}var Nm=function(e,n,r){return e+(n-e)*r},bE=function(e){var n=e.from,r=e.to;return n!==r},cte=function t(e,n,r){var i=pf(function(o,s){if(bE(s)){var l=e(s.from,s.to,s.velocity),c=ate(l,2),f=c[0],d=c[1];return En(En({},s),{},{from:f,velocity:d})}return s},n);return r<1?pf(function(o,s){return bE(s)?En(En({},s),{},{velocity:Nm(s.velocity,i[o].velocity,r),from:Nm(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const fte=function(t,e,n,r,i){var o=qee(t,e),s=o.reduce(function(w,O){return En(En({},w),{},_E({},O,[t[O],e[O]]))},{}),l=o.reduce(function(w,O){return En(En({},w),{},_E({},O,{from:t[O],velocity:0,to:e[O]}))},{}),c=-1,f,d,p=function(){return null},y=function(){return pf(function(O,M){return M.from},l)},_=function(){return!Object.values(l).filter(bE).length},T=function(O){f||(f=O);var M=O-f,k=M/n.dt;l=cte(n,l,k),i(En(En(En({},t),e),y())),f=O,_()||(c=requestAnimationFrame(p))},S=function(O){d||(d=O);var M=(O-d)/r,k=pf(function(I,R){return Nm.apply(void 0,$2(R).concat([n(M)]))},s);if(i(En(En(En({},t),e),k)),M<1)c=requestAnimationFrame(p);else{var L=pf(function(I,R){return Nm.apply(void 0,$2(R).concat([n(1)]))},s);i(En(En(En({},t),e),L))}};return p=n.isStepper?T:S,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}var hte=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dte(t,e){if(t==null)return{};var n=pte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xb(t){return vte(t)||yte(t)||gte(t)||mte()}function mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(t,e){if(t){if(typeof t=="string")return EE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(t,e)}}function yte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vte(t){if(Array.isArray(t))return EE(t)}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){tf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tf(t,e,n){return e=IF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IF(r.key),r)}}function bte(t,e,n){return e&&wte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IF(t){var e=Ete(t,"string");return dl(e)==="symbol"?e:String(e)}function Ete(t,e){if(dl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TE(t,e)}function Ste(t){var e=xte();return function(){var r=Mm(t),i;if(e){var o=Mm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return SE(this,i)}}function SE(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xE(t)}function xE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}var To=function(t){Tte(n,t);var e=Ste(n);function n(r,i){var o;_te(this,n),o=e.call(this,r,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,d=s.to,p=s.steps,y=s.children,_=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(xE(o)),o.changeStyle=o.changeStyle.bind(xE(o)),!l||_<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:d}),SE(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof y=="function")return o.state={style:f},SE(o);o.state={style:c?tf({},c,f):f}}else o.state={style:{}};return o}return bte(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,d=o.to,p=o.from,y=this.state.style;if(l){if(!s){var _={style:c?tf({},c,d):d};this.state&&y&&(c&&y[c]!==d||!c&&y!==d)&&this.setState(_);return}if(!(Ree(i.to,d)&&i.canBegin&&i.isActive)){var T=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=T||f?p:i.to;if(this.state&&y){var w={style:c?tf({},c,S):S};(c&&y[c]!==S||!c&&y!==S)&&this.setState(w)}this.runAnimation(oi(oi({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,d=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,_=fte(s,l,ete(f),c,this.changeStyle),T=function(){o.stopJSAnimation=_()};this.manager.start([y,d,T,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],d=f.style,p=f.duration,y=p===void 0?0:p,_=function(S,w,O){if(O===0)return S;var M=w.duration,k=w.easing,L=k===void 0?"ease":k,I=w.style,R=w.properties,x=w.onAnimationEnd,P=O>0?s[O-1]:w,C=R||Object.keys(I);if(typeof L=="function"||L==="spring")return[].concat(xb(S),[o.runJSAnimation.bind(o,{from:P.style,to:I,duration:M,easing:L}),M]);var V=D2(C,M,L),D=oi(oi(oi({},P.style),I),{},{transition:V});return[].concat(xb(S),[D,M,x]).filter(Bee)};return this.manager.start([c].concat(xb(s.reduce(_,[d,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$ee());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,_=i.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var S=l?tf({},l,c):c,w=D2(Object.keys(S),s,f);T.start([d,o,oi(oi({},S),{},{transition:w}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=dte(i,hte),f=de.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!l||f===0||s<=0)return o;var p=function(_){var T=_.props,S=T.style,w=S===void 0?{}:S,O=T.className,M=de.cloneElement(_,oi(oi({},c),{},{style:oi(oi({},w),d),className:O}));return M};return f===1?p(de.Children.only(o)):W.createElement("div",null,de.Children.map(o,function(y){return p(y)}))}}]),n}(de.PureComponent);To.displayName="Animate";To.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};To.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}function Ate(t,e){return Ote(t)||Cte(t,e)||Ite(t,e)||Pte()}function Pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ite(t,e){if(t){if(typeof t=="string")return q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Ote(t){if(Array.isArray(t))return t}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return e=kte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kte(t){var e=Nte(t,"string");return nh(e)=="symbol"?e:e+""}function Nte(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z2=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],y=0,_=4;y<_;y++)p[y]=o[y]>s?s:o[y];d="M".concat(e,",").concat(n+l*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),d+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*p[1])),d+="L ".concat(e+r,",").concat(n+i-l*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),d+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*p[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var T=Math.min(s,o);d="M ".concat(e,",").concat(n+l*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+c*T,",").concat(n,`
            L `).concat(e+r-c*T,",").concat(n,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*T,`
            L `).concat(e+r,",").concat(n+i-l*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e+r-c*T,",").concat(n+i,`
            L `).concat(e+c*T,",").concat(n+i,`
            A `).concat(T,",").concat(T,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*T," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Mte=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),d=Math.max(o,o+l),p=Math.min(s,s+c),y=Math.max(s,s+c);return r>=f&&r<=d&&i>=p&&i<=y}return!1},Dte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ix=function(e){var n=U2(U2({},Dte),e),r=de.useRef(),i=de.useState(-1),o=Ate(i,2),s=o[0],l=o[1];de.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&l(L)}catch{}},[]);var c=n.x,f=n.y,d=n.width,p=n.height,y=n.radius,_=n.className,T=n.animationEasing,S=n.animationDuration,w=n.animationBegin,O=n.isAnimationActive,M=n.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||d===0||p===0)return null;var k=at("recharts-rectangle",_);return M?W.createElement(To,{canBegin:s>0,from:{width:d,height:p,x:c,y:f},to:{width:d,height:p,x:c,y:f},duration:S,animationEasing:T,isActive:M},function(L){var I=L.width,R=L.height,x=L.x,P=L.y;return W.createElement(To,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:O,easing:T},W.createElement("path",Dm({},tt(n,!0),{className:k,d:z2(x,P,I,R,y),ref:r})))}):W.createElement("path",Dm({},tt(n,!0),{className:k,d:z2(c,f,d,p,y)}))};function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(this,arguments)}var ox=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=at("recharts-dot",o);return n===+n&&r===+r&&i===+i?W.createElement("circle",AE({},tt(e,!1),rm(e),{className:s,cx:n,cy:r,r:i})):null};function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}var jte=["x","y","top","left","width","height","className"];function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(this,arguments)}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){$te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $te(t,e,n){return e=Vte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vte(t){var e=Fte(t,"string");return rh(e)=="symbol"?e:e+""}function Fte(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qte(t,e){if(t==null)return{};var n=Bte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ute=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},zte=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,d=e.width,p=d===void 0?0:d,y=e.height,_=y===void 0?0:y,T=e.className,S=qte(e,jte),w=Lte({x:r,y:o,top:l,left:f,width:p,height:_},S);return!_e(r)||!_e(o)||!_e(p)||!_e(_)||!_e(l)||!_e(f)?null:W.createElement("path",PE({},tt(w,!0),{className:at("recharts-cross",T),d:Ute(r,o,p,_,l,f)}))},Ab,H2;function Wte(){if(H2)return Ab;H2=1;var t=G$(),e=t(Object.getPrototypeOf,Object);return Ab=e,Ab}var Pb,G2;function Hte(){if(G2)return Pb;G2=1;var t=xo(),e=Wte(),n=Ao(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(d){if(!n(d)||t(d)!=r)return!1;var p=e(d);if(p===null)return!0;var y=l.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return Pb=f,Pb}var Gte=Hte();const Kte=vt(Gte);var Ib,K2;function Qte(){if(K2)return Ib;K2=1;var t=xo(),e=Ao(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Ib=r,Ib}var Yte=Qte();const Xte=vt(Yte);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function Jte(t,e){return nne(t)||tne(t,e)||ene(t,e)||Zte()}function Zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t,e){if(t){if(typeof t=="string")return Q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q2(t,e)}}function Q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function nne(t){if(Array.isArray(t))return t}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return e=ine(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=one(t,"string");return ih(e)=="symbol"?e:e+""}function one(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J2=function(e,n,r,i,o){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+o),l+="L ".concat(e+r-s/2-i,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},ane={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sne=function(e){var n=X2(X2({},ane),e),r=de.useRef(),i=de.useState(-1),o=Jte(i,2),s=o[0],l=o[1];de.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&l(k)}catch{}},[]);var c=n.x,f=n.y,d=n.upperWidth,p=n.lowerWidth,y=n.height,_=n.className,T=n.animationEasing,S=n.animationDuration,w=n.animationBegin,O=n.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||y!==+y||d===0&&p===0||y===0)return null;var M=at("recharts-trapezoid",_);return O?W.createElement(To,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:d,lowerWidth:p,height:y,x:c,y:f},duration:S,animationEasing:T,isActive:O},function(k){var L=k.upperWidth,I=k.lowerWidth,R=k.height,x=k.x,P=k.y;return W.createElement(To,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:T},W.createElement("path",jm({},tt(n,!0),{className:M,d:J2(x,P,L,I,R),ref:r})))}):W.createElement("g",null,W.createElement("path",jm({},tt(n,!0),{className:M,d:J2(c,f,d,p,y)})))},une=["option","shapeType","propTransformer","activeClassName","isActive"];function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function lne(t,e){if(t==null)return{};var n=cne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return e=hne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=dne(t,"string");return oh(e)=="symbol"?e:e+""}function dne(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t,e){return Lm(Lm({},e),t)}function mne(t,e){return t==="symbols"}function eM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return W.createElement(ix,n);case"trapezoid":return W.createElement(sne,n);case"sector":return W.createElement(wF,n);case"symbols":if(mne(e))return W.createElement(TS,n);break;default:return null}}function gne(t){return de.isValidElement(t)?t.props:t}function yne(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?pne:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=lne(t,une),f;if(de.isValidElement(e))f=de.cloneElement(e,Lm(Lm({},c),gne(e)));else if(We(e))f=e(c);else if(Kte(e)&&!Xte(e)){var d=i(e,c);f=W.createElement(eM,{shapeType:n,elementProps:d})}else{var p=c;f=W.createElement(eM,{shapeType:n,elementProps:p})}return l?W.createElement(Bt,{className:s},f):f}function Yg(t,e){return e!=null&&"trapezoids"in t.props}function Xg(t,e){return e!=null&&"sectors"in t.props}function ah(t,e){return e!=null&&"points"in t.props}function vne(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function _ne(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function wne(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function bne(t,e){var n;return Yg(t,e)?n=vne:Xg(t,e)?n=_ne:ah(t,e)&&(n=wne),n}function Ene(t,e){var n;return Yg(t,e)?n="trapezoids":Xg(t,e)?n="sectors":ah(t,e)&&(n="points"),n}function Tne(t,e){if(Yg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Xg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ah(t,e)?e.payload:{}}function Sne(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Ene(n,e),o=Tne(n,e),s=r.filter(function(c,f){var d=Gg(o,c),p=n.props[i].filter(function(T){var S=bne(n,e);return S(T,e)}),y=n.props[i].indexOf(p[p.length-1]),_=f===y;return d&&_}),l=r.indexOf(s[s.length-1]);return l}var Cb,tM;function xne(){if(tM)return Cb;tM=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var l=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=o;return f}return Cb=n,Cb}var Ob,nM;function CF(){if(nM)return Ob;nM=1;var t=lV(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return Ob=r,Ob}var Rb,rM;function Ane(){if(rM)return Rb;rM=1;var t=xne(),e=$g(),n=CF();function r(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),l=l===void 0?o<s?1:-1:n(l),t(o,s,l,i)}}return Rb=r,Rb}var kb,iM;function Pne(){if(iM)return kb;iM=1;var t=Ane(),e=t();return kb=e,kb}var Ine=Pne();const $m=vt(Ine);function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){OF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OF(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=One(t,"string");return sh(e)=="symbol"?e:e+""}function One(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rne=["Webkit","Moz","O","ms"],kne=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Rne.reduce(function(o,s){return aM(aM({},o),{},OF({},s+r,n))},{});return i[e]=n,i};function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kF(r.key),r)}}function Mne(t,e,n){return e&&uM(t.prototype,e),n&&uM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dne(t,e,n){return e=Fm(e),jne(t,RF()?Reflect.construct(e,n||[],Fm(t).constructor):e.apply(t,n))}function jne(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lne(t)}function Lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function $ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IE(t,e)}function _r(t,e,n){return e=kF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kF(t){var e=Vne(t,"string");return pl(e)=="symbol"?e:e+""}function Vne(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fne=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=hf().domain($m(0,c)).range([o,o+s-l]),d=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:d}},lM=function(e){return e.changedTouches&&!!e.changedTouches.length},ml=function(t){function e(n){var r;return Nne(this,e),r=Dne(this,e,[n]),_r(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),_r(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),_r(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),_r(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),_r(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),_r(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),_r(r,"handleSlideDragStart",function(i){var o=lM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $ne(e,t),Mne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,d=f.length-1,p=Math.min(i,o),y=Math.max(i,o),_=e.getIndexInRange(s,p),T=e.getIndexInRange(s,y);return{startIndex:_-_%c,endIndex:T===d?d:T-T%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=xr(o[r],l,r);return We(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,d=c.width,p=c.travellerWidth,y=c.startIndex,_=c.endIndex,T=c.onChange,S=r.pageX-o;S>0?S=Math.min(S,f+d-p-l,f+d-p-s):S<0&&(S=Math.max(S,f-s,f-l));var w=this.getIndex({startX:s+S,endX:l+S});(w.startIndex!==y||w.endIndex!==_)&&T&&T(w),this.setState({startX:s+S,endX:l+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=lM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],d=this.props,p=d.x,y=d.width,_=d.travellerWidth,T=d.onChange,S=d.gap,w=d.data,O={startX:this.state.startX,endX:this.state.endX},M=r.pageX-o;M>0?M=Math.min(M,p+y-_-f):M<0&&(M=Math.max(M,p-f)),O[s]=f+M;var k=this.getIndex(O),L=k.startIndex,I=k.endIndex,R=function(){var P=w.length-1;return s==="startX"&&(l>c?L%S===0:I%S===0)||l<c&&I===P||s==="endX"&&(l>c?I%S===0:L%S===0)||l>c&&I===P};this.setState(_r(_r({},s,f+M),"brushMoveStartX",r.pageX),function(){T&&R()&&T(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,d=this.state[i],p=l.indexOf(d);if(p!==-1){var y=p+r;if(!(y===-1||y>=l.length)){var _=l[y];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(_r({},i,_),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return W.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.data,f=r.children,d=r.padding,p=de.Children.only(f);return p?W.cloneElement(p,{x:i,y:o,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,l=this,c=this.props,f=c.y,d=c.travellerWidth,p=c.height,y=c.traveller,_=c.ariaLabel,T=c.data,S=c.startIndex,w=c.endIndex,O=Math.max(r,this.props.x),M=Nb(Nb({},tt(this.props,!1)),{},{x:O,y:f,width:d,height:p}),k=_||"Min value: ".concat((o=T[S])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=T[w])===null||s===void 0?void 0:s.name);return W.createElement(Bt,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,M))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,d=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,d=this.state,p=d.startX,y=d.endX,_=5,T={pointerEvents:"none",fill:f};return W.createElement(Bt,{className:"recharts-brush-texts"},W.createElement(mm,Vm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-_,y:s+l/2},T),this.getTextOfTick(i)),W.createElement(mm,Vm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+_,y:s+l/2},T),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,l=r.x,c=r.y,f=r.width,d=r.height,p=r.alwaysShowText,y=this.state,_=y.startX,T=y.endX,S=y.isTextActive,w=y.isSlideMoving,O=y.isTravellerMoving,M=y.isTravellerFocused;if(!i||!i.length||!_e(l)||!_e(c)||!_e(f)||!_e(d)||f<=0||d<=0)return null;var k=at("recharts-brush",o),L=W.Children.count(s)===1,I=kne("userSelect","none");return W.createElement(Bt,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),L&&this.renderPanorama(),this.renderSlide(_,T),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(T,"endX"),(S||w||O||M||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(o+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return W.isValidElement(r)?o=W.cloneElement(r,i):We(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,d=r.startIndex,p=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return Nb({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?Fne({data:o,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var y=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])}(de.PureComponent);_r(ml,"displayName","Brush");_r(ml,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Mb,cM;function qne(){if(cM)return Mb;cM=1;var t=OS();function e(n,r){var i;return t(n,function(o,s,l){return i=r(o,s,l),!i}),!!i}return Mb=e,Mb}var Db,fM;function Bne(){if(fM)return Db;fM=1;var t=F$(),e=Sa(),n=qne(),r=ar(),i=$g();function o(s,l,c){var f=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return Db=o,Db}var Une=Bne();const zne=vt(Une);var Li=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},jb,hM;function Wne(){if(hM)return jb;hM=1;var t=iV();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return jb=e,jb}var Lb,dM;function Hne(){if(dM)return Lb;dM=1;var t=Wne(),e=nV(),n=Sa();function r(i,o){var s={};return o=n(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return Lb=r,Lb}var Gne=Hne();const Kne=vt(Gne);var $b,pM;function Qne(){if(pM)return $b;pM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return $b=t,$b}var Vb,mM;function Yne(){if(mM)return Vb;mM=1;var t=OS();function e(n,r){var i=!0;return t(n,function(o,s,l){return i=!!r(o,s,l),i}),i}return Vb=e,Vb}var Fb,gM;function Xne(){if(gM)return Fb;gM=1;var t=Qne(),e=Yne(),n=Sa(),r=ar(),i=$g();function o(s,l,c){var f=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return Fb=o,Fb}var Jne=Xne();const NF=vt(Jne);var Zne=["x","y"];function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return e=tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return uh(e)=="symbol"?e:e+""}function nre(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rre(t,e){if(t==null)return{};var n=ire(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ire(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ore(t,e){var n=t.x,r=t.y,i=rre(t,Zne),o="".concat(n),s=parseInt(o,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Wc(Wc(Wc(Wc(Wc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:y,name:e.name,radius:e.radius})}function vM(t){return W.createElement(yne,CE({shapeType:"rectangle",propTransformer:ore,activeClassName:"recharts-active-bar"},t))}var are=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||xs(),n)}},sre=["value","background"],MF;function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function ure(t,e){if(t==null)return{};var n=lre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jF(r.key),r)}}function fre(t,e,n){return e&&wM(t.prototype,e),n&&wM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hre(t,e,n){return e=Bm(e),dre(t,DF()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function dre(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pre(t)}function pre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DF=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OE(t,e)}function ia(t,e,n){return e=jF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jF(t){var e=gre(t,"string");return gl(e)=="symbol"?e:e+""}function gre(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dh=function(t){function e(){var n;cre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hre(this,e,[].concat(i)),ia(n,"state",{isAnimationFinished:!1}),ia(n,"id",Ih("recharts-bar-")),ia(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),ia(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return mre(e,t),fre(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,d=tt(this.props,!1);return r&&r.map(function(p,y){var _=y===c,T=_?f:s,S=Gt(Gt(Gt({},d),p),{},{isActive:_,option:T,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(Bt,qm({className:"recharts-bar-rectangle"},im(i.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),W.createElement(vM,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,y=this.state.prevData;return W.createElement(To,{begin:c,duration:f,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var T=_.t,S=o.map(function(w,O){var M=y&&y[O];if(M){var k=ui(M.x,w.x),L=ui(M.y,w.y),I=ui(M.width,w.width),R=ui(M.height,w.height);return Gt(Gt({},w),{},{x:k(T),y:L(T),width:I(T),height:R(T)})}if(s==="horizontal"){var x=ui(0,w.height),P=x(T);return Gt(Gt({},w),{},{y:w.y+w.height-P,height:P})}var C=ui(0,w.width),V=C(T);return Gt(Gt({},w),{},{width:V})});return W.createElement(Bt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Gg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=tt(this.props.background,!1);return o.map(function(f,d){f.value;var p=f.background,y=ure(f,sre);if(!p)return null;var _=Gt(Gt(Gt(Gt(Gt({},y),{},{fill:"#eee"},p),c),im(r.props,f,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(vM,qm({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,d=o.children,p=qr(d,Mh);if(!p)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,_=function(w,O){var M=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:M,errorVal:xr(w,O)}},T={clipPath:r?"url(#clipPath-".concat(i,")"):null};return W.createElement(Bt,T,p.map(function(S){return W.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,d=r.top,p=r.width,y=r.height,_=r.isAnimationActive,T=r.background,S=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,O=at("recharts-bar",s),M=l&&l.allowDataOverflow,k=c&&c.allowDataOverflow,L=M||k,I=Xe(S)?this.id:S;return W.createElement(Bt,{className:O},M||k?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(I)},W.createElement("rect",{x:M?f:f-p/2,y:k?d:d-y/2,width:M?p:p*2,height:k?y:y*2}))):null,W.createElement(Bt,{className:"recharts-bar-rectangles",clipPath:L?"url(#clipPath-".concat(I,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(L,I),(!_||w)&&fa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(de.PureComponent);MF=Dh;ia(Dh,"displayName","Bar");ia(Dh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ia(Dh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,y=t.offset,_=WJ(r,n);if(!_)return null;var T=e.layout,S=n.type.defaultProps,w=S!==void 0?Gt(Gt({},S),n.props):n.props,O=w.dataKey,M=w.children,k=w.minPointSize,L=T==="horizontal"?s:o,I=f?L.scale.domain():null,R=ZJ({numericAxis:L}),x=qr(M,fV),P=p.map(function(C,V){var D,$,j,X,J,re;f?D=HJ(f[d+V],I):(D=xr(C,O),Array.isArray(D)||(D=[R,D]));var ie=are(k,MF.defaultProps.minPointSize)(D[1],V);if(T==="horizontal"){var Q,ne=[s.scale(D[0]),s.scale(D[1])],ae=ne[0],B=ne[1];$=r2({axis:o,ticks:l,bandSize:i,offset:_.offset,entry:C,index:V}),j=(Q=B??ae)!==null&&Q!==void 0?Q:void 0,X=_.size;var H=ae-B;if(J=Number.isNaN(H)?0:H,re={x:$,y:s.y,width:X,height:s.height},Math.abs(ie)>0&&Math.abs(J)<Math.abs(ie)){var le=pi(J||ie)*(Math.abs(ie)-Math.abs(J));j-=le,J+=le}}else{var xe=[o.scale(D[0]),o.scale(D[1])],Oe=xe[0],je=xe[1];if($=Oe,j=r2({axis:s,ticks:c,bandSize:i,offset:_.offset,entry:C,index:V}),X=je-Oe,J=_.size,re={x:o.x,y:j,width:o.width,height:J},Math.abs(ie)>0&&Math.abs(X)<Math.abs(ie)){var ze=pi(X||ie)*(Math.abs(ie)-Math.abs(X));X+=ze}}return Gt(Gt(Gt({},C),{},{x:$,y:j,width:X,height:J,value:f?D:D[1],payload:C,background:re},x&&x[V]&&x[V].props),{},{tooltipPayload:[yF(n,C)],tooltipPosition:{x:$+X/2,y:j+J/2}})});return Gt({data:P,layout:T},y)});function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function yre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LF(r.key),r)}}function vre(t,e,n){return e&&bM(t.prototype,e),n&&bM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){Jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jg(t,e,n){return e=LF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LF(t){var e=_re(t,"string");return lh(e)=="symbol"?e:e+""}function _re(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wre=function(e,n,r,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,d=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},y=!!br(f,Dh);return d.reduce(function(_,T){var S=n[T],w=S.orientation,O=S.domain,M=S.padding,k=M===void 0?{}:M,L=S.mirror,I=S.reversed,R="".concat(w).concat(L?"Mirror":""),x,P,C,V,D;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var $=O[1]-O[0],j=1/0,X=S.categoricalDomain.sort();if(X.forEach(function(xe,Oe){Oe>0&&(j=Math.min((xe||0)-(X[Oe-1]||0),j))}),Number.isFinite(j)){var J=j/$,re=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(x=J*re/2),S.padding==="no-gap"){var ie=Ts(e.barCategoryGap,J*re),Q=J*re/2;x=Q-ie-(Q-ie)/re*ie}}}i==="xAxis"?P=[r.left+(k.left||0)+(x||0),r.left+r.width-(k.right||0)-(x||0)]:i==="yAxis"?P=c==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(x||0),r.top+r.height-(k.bottom||0)-(x||0)]:P=S.range,I&&(P=[P[1],P[0]]);var ne=UJ(S,o,y),ae=ne.scale,B=ne.realScaleType;ae.domain(O).range(P),zJ(ae);var H=JJ(ae,ai(ai({},S),{},{realScaleType:B}));i==="xAxis"?(D=w==="top"&&!L||w==="bottom"&&L,C=r.left,V=p[R]-D*S.height):i==="yAxis"&&(D=w==="left"&&!L||w==="right"&&L,C=p[R]-D*S.width,V=r.top);var le=ai(ai(ai({},S),H),{},{realScaleType:B,x:C,y:V,scale:ae,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return le.bandSize=Cm(le,H),!S.hide&&i==="xAxis"?p[R]+=(D?-1:1)*le.height:S.hide||(p[R]+=(D?-1:1)*le.width),ai(ai({},_),{},Jg({},T,le))},{})},$F=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},bre=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return $F({x:n,y:r},{x:i,y:o})},VF=function(){function t(e){yre(this,t),this.scale=e}return vre(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Jg(VF,"EPS",1e-4);var ax=function(e){var n=Object.keys(e).reduce(function(r,i){return ai(ai({},r),{},Jg({},i,VF.create(e[i])))},{});return ai(ai({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return Kne(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return NF(i,function(o,s){return n[s].isInRange(o)})}})};function Ere(t){return(t%180+180)%180}var Tre=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ere(i),s=o*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},qb,TM;function Sre(){if(TM)return qb;TM=1;var t=Sa(),e=Ch(),n=jg();function r(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=n(o),s=function(p){return f(c[p],p,c)}}var d=i(o,s,l);return d>-1?c[f?o[d]:d]:void 0}}return qb=r,qb}var Bb,SM;function xre(){if(SM)return Bb;SM=1;var t=CF();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return Bb=e,Bb}var Ub,xM;function Are(){if(xM)return Ub;xM=1;var t=X$(),e=Sa(),n=xre(),r=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(o,e(s,3),f)}return Ub=i,Ub}var zb,AM;function Pre(){if(AM)return zb;AM=1;var t=Sre(),e=Are(),n=t(e);return zb=n,zb}var Ire=Pre();const Cre=vt(Ire);var Ore=d$();const Rre=vt(Ore);var kre=Rre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),sx=de.createContext(void 0),ux=de.createContext(void 0),FF=de.createContext(void 0),qF=de.createContext({}),BF=de.createContext(void 0),UF=de.createContext(0),zF=de.createContext(0),PM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,d=kre(o);return W.createElement(sx.Provider,{value:r},W.createElement(ux.Provider,{value:i},W.createElement(qF.Provider,{value:o},W.createElement(FF.Provider,{value:d},W.createElement(BF.Provider,{value:s},W.createElement(UF.Provider,{value:f},W.createElement(zF.Provider,{value:c},l)))))))},Nre=function(){return de.useContext(BF)},WF=function(e){var n=de.useContext(sx);n==null&&xs();var r=n[e];return r==null&&xs(),r},Mre=function(){var e=de.useContext(sx);return ta(e)},Dre=function(){var e=de.useContext(ux),n=Cre(e,function(r){return NF(r.domain,Number.isFinite)});return n||ta(e)},HF=function(e){var n=de.useContext(ux);n==null&&xs();var r=n[e];return r==null&&xs(),r},jre=function(){var e=de.useContext(FF);return e},Lre=function(){return de.useContext(qF)},lx=function(){return de.useContext(zF)},cx=function(){return de.useContext(UF)};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function $re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KF(r.key),r)}}function Fre(t,e,n){return e&&Vre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qre(t,e,n){return e=Um(e),Bre(t,GF()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function Bre(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ure(t)}function Ure(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function zre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RE(t,e)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fx(t,e,n){return e=KF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KF(t){var e=Wre(t,"string");return yl(e)=="symbol"?e:e+""}function Wre(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hre(t,e){return Yre(t)||Qre(t,e)||Kre(t,e)||Gre()}function Gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kre(t,e){if(t){if(typeof t=="string")return OM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OM(t,e)}}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Yre(t){if(Array.isArray(t))return t}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}var Xre=function(e,n){var r;return W.isValidElement(e)?r=W.cloneElement(e,n):We(e)?r=e(n):r=W.createElement("line",kE({},n,{className:"recharts-reference-line-line"})),r},Jre=function(e,n,r,i,o,s,l,c,f){var d=o.x,p=o.y,y=o.width,_=o.height;if(r){var T=f.y,S=e.y.apply(T,{position:s});if(Li(f,"discard")&&!e.y.isInRange(S))return null;var w=[{x:d+y,y:S},{x:d,y:S}];return c==="left"?w.reverse():w}if(n){var O=f.x,M=e.x.apply(O,{position:s});if(Li(f,"discard")&&!e.x.isInRange(M))return null;var k=[{x:M,y:p+_},{x:M,y:p}];return l==="top"?k.reverse():k}if(i){var L=f.segment,I=L.map(function(R){return e.apply(R,{position:s})});return Li(f,"discard")&&zne(I,function(R){return!e.isInRange(R)})?null:I}return null};function Zre(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=Nre(),d=WF(i),p=HF(o),y=jre();if(!f||!y)return null;ho(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=ax({x:d.scale,y:p.scale}),T=rn(e),S=rn(n),w=r&&r.length===2,O=Jre(_,T,S,w,y,t.position,d.orientation,p.orientation,t);if(!O)return null;var M=Hre(O,2),k=M[0],L=k.x,I=k.y,R=M[1],x=R.x,P=R.y,C=Li(t,"hidden")?"url(#".concat(f,")"):void 0,V=CM(CM({clipPath:C},tt(t,!0)),{},{x1:L,y1:I,x2:x,y2:P});return W.createElement(Bt,{className:at("recharts-reference-line",l)},Xre(s,V),Ln.renderCallByParent(t,bre({x1:L,y1:I,x2:x,y2:P})))}var hx=function(t){function e(){return $re(this,e),qre(this,e,arguments)}return zre(e,t),Fre(e,[{key:"render",value:function(){return W.createElement(Zre,this.props)}}])}(W.Component);fx(hx,"displayName","ReferenceLine");fx(hx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(this,arguments)}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YF(r.key),r)}}function nie(t,e,n){return e&&tie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rie(t,e,n){return e=zm(e),iie(t,QF()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function iie(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oie(t)}function oie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QF=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function aie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ME(t,e)}function Zg(t,e,n){return e=YF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YF(t){var e=sie(t,"string");return vl(e)=="symbol"?e:e+""}function sie(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uie=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=ax({x:i.scale,y:o.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Li(e,"discard")&&!s.isInRange(l)?null:l},ey=function(t){function e(){return eie(this,e),rie(this,e,arguments)}return aie(e,t),nie(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,f=rn(i),d=rn(o);if(ho(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!d)return null;var p=uie(this.props);if(!p)return null;var y=p.x,_=p.y,T=this.props,S=T.shape,w=T.className,O=Li(this.props,"hidden")?"url(#".concat(c,")"):void 0,M=kM(kM({clipPath:O},tt(this.props,!0)),{},{cx:y,cy:_});return W.createElement(Bt,{className:at("recharts-reference-dot",w)},e.renderDot(S,M),Ln.renderCallByParent(this.props,{x:y-s,y:_-s,width:2*s,height:2*s}))}}])}(W.Component);Zg(ey,"displayName","ReferenceDot");Zg(ey,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zg(ey,"renderDot",function(t,e){var n;return W.isValidElement(t)?n=W.cloneElement(t,e):We(t)?n=t(e):n=W.createElement(ox,NE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){ty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JF(r.key),r)}}function fie(t,e,n){return e&&cie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hie(t,e,n){return e=Wm(e),die(t,XF()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function die(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pie(t)}function pie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function mie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(t,e)}function ty(t,e,n){return e=JF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JF(t){var e=gie(t,"string");return _l(e)=="symbol"?e:e+""}function gie(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yie=function(e,n,r,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,d=o.xAxis,p=o.yAxis;if(!d||!p)return null;var y=ax({x:d.scale,y:p.scale}),_={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},T={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Li(o,"discard")&&(!y.isInRange(_)||!y.isInRange(T))?null:$F(_,T)},ny=function(t){function e(){return lie(this,e),hie(this,e,arguments)}return mie(e,t),fie(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,d=r.clipPathId;ho(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=rn(i),y=rn(o),_=rn(s),T=rn(l),S=this.props.shape;if(!p&&!y&&!_&&!T&&!S)return null;var w=yie(p,y,_,T,this.props);if(!w&&!S)return null;var O=Li(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(Bt,{className:at("recharts-reference-area",c)},e.renderRect(S,MM(MM({clipPath:O},tt(this.props,!0)),w)),Ln.renderCallByParent(this.props,w))}}])}(W.Component);ty(ny,"displayName","ReferenceArea");ty(ny,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ty(ny,"renderRect",function(t,e){var n;return W.isValidElement(t)?n=W.cloneElement(t,e):We(t)?n=t(e):n=W.createElement(ix,DE({},e,{className:"recharts-reference-area-rect"})),n});function ZF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function vie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Tre(r,n)}function _ie(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function Hm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function wie(t,e){return ZF(t,e+1)}function bie(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,l=e.end,c=0,f=1,d=s,p=function(){var T=r==null?void 0:r[c];if(T===void 0)return{v:ZF(r,f)};var S=c,w,O=function(){return w===void 0&&(w=n(T,S)),w},M=T.coordinate,k=c===0||Hm(t,M,O,d,l);k||(c=0,d=s,f+=1),k&&(d=M+t*(O()/2+i),c+=f)},y;f<=o.length;)if(y=p(),y)return y.v;return[]}function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=Sie(t,"string");return ch(e)=="symbol"?e:e+""}function Sie(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(y){var _=o[y],T,S=function(){return T===void 0&&(T=n(_,y)),T};if(y===s-1){var w=t*(_.coordinate+t*S()/2-c);o[y]=_=kn(kn({},_),{},{tickCoord:w>0?_.coordinate-w*t:_.coordinate})}else o[y]=_=kn(kn({},_),{},{tickCoord:_.coordinate});var O=Hm(t,_.tickCoord,S,l,c);O&&(c=_.tickCoord-t*(S()/2+i),o[y]=kn(kn({},_),{},{isShow:!0}))},d=s-1;d>=0;d--)f(d);return o}function Aie(t,e,n,r,i,o){var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var d=r[l-1],p=n(d,l-1),y=t*(d.coordinate+t*p/2-f);s[l-1]=d=kn(kn({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate});var _=Hm(t,d.tickCoord,function(){return p},c,f);_&&(f=d.tickCoord-t*(p/2+i),s[l-1]=kn(kn({},d),{},{isShow:!0}))}for(var T=o?l-1:l,S=function(M){var k=s[M],L,I=function(){return L===void 0&&(L=n(k,M)),L};if(M===0){var R=t*(k.coordinate-t*I()/2-c);s[M]=k=kn(kn({},k),{},{tickCoord:R<0?k.coordinate-R*t:k.coordinate})}else s[M]=k=kn(kn({},k),{},{tickCoord:k.coordinate});var x=Hm(t,k.tickCoord,I,c,f);x&&(c=k.tickCoord+t*(I()/2+i),s[M]=kn(kn({},k),{},{isShow:!0}))},w=0;w<T;w++)S(w);return s}function dx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,d=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(_e(c)||po.isSsr)return wie(i,typeof c=="number"&&_e(c)?c:0);var y=[],_=l==="top"||l==="bottom"?"width":"height",T=d&&_==="width"?ff(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(k,L){var I=We(f)?f(k.value,L):k.value;return _==="width"?vie(ff(I,{fontSize:e,letterSpacing:n}),T,p):ff(I,{fontSize:e,letterSpacing:n})[_]},w=i.length>=2?pi(i[1].coordinate-i[0].coordinate):1,O=_ie(o,w,_);return c==="equidistantPreserveStart"?bie(w,O,S,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=Aie(w,O,S,i,s,c==="preserveStartEnd"):y=xie(w,O,S,i,s),y.filter(function(M){return M.isShow}))}var Pie=["viewBox"],Iie=["viewBox"],Cie=["ticks"];function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wb(t,e){if(t==null)return{};var n=Oie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t4(r.key),r)}}function kie(t,e,n){return e&&LM(t.prototype,e),n&&LM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nie(t,e,n){return e=Gm(e),Mie(t,e4()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function Mie(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Die(t)}function Die(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function jie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LE(t,e)}function px(t,e,n){return e=t4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t4(t){var e=Lie(t,"string");return wl(e)=="symbol"?e:e+""}function Lie(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ql=function(t){function e(n){var r;return Rie(this,e),r=Nie(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return jie(e,t),kie(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Wb(r,Pie),l=this.props,c=l.viewBox,f=Wb(l,Iie);return!Bu(o,c)||!Bu(s,f)||!Bu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,d=i.tickSize,p=i.mirror,y=i.tickMargin,_,T,S,w,O,M,k=p?-1:1,L=r.tickSize||d,I=_e(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":_=T=r.coordinate,w=s+ +!p*c,S=w-k*L,M=S-k*y,O=I;break;case"left":S=w=r.coordinate,T=o+ +!p*l,_=T-k*L,O=_-k*y,M=I;break;case"right":S=w=r.coordinate,T=o+ +p*l,_=T+k*L,O=_+k*y,M=I;break;default:_=T=r.coordinate,w=s+ +p*c,S=w+k*L,M=S+k*y,O=I;break}return{line:{x1:_,y1:S,x2:T,y2:w},tick:{x:O,y:M}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,d=r.axisLine,p=Un(Un(Un({},tt(this.props,!1)),tt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=Un(Un({},p),{},{x1:i,y1:o+y*l,x2:i+s,y2:o+y*l})}else{var _=+(c==="left"&&!f||c==="right"&&f);p=Un(Un({},p),{},{x1:i+_*s,y1:o,x2:i+_*s,y2:o+l})}return W.createElement("line",Nu({},p,{className:at("recharts-cartesian-axis-line",Fr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,d=l.tick,p=l.tickFormatter,y=l.unit,_=dx(Un(Un({},this.props),{},{ticks:r}),i,o),T=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=tt(this.props,!1),O=tt(d,!1),M=Un(Un({},w),{},{fill:"none"},tt(c,!1)),k=_.map(function(L,I){var R=s.getTickLineCoord(L),x=R.line,P=R.tick,C=Un(Un(Un(Un({textAnchor:T,verticalAnchor:S},w),{},{stroke:"none",fill:f},O),P),{},{index:I,payload:L,visibleTicksCount:_.length,tickFormatter:p});return W.createElement(Bt,Nu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},im(s.props,L,I)),c&&W.createElement("line",Nu({},M,x,{className:at("recharts-cartesian-axis-tick-line",Fr(c,"className"))})),d&&e.renderTickItem(d,C,"".concat(We(p)?p(L.value,I):L.value).concat(y||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,d=i.hide;if(d)return null;var p=this.props,y=p.ticks,_=Wb(p,Cie),T=y;return We(c)&&(T=y&&y.length>0?c(this.props):c(_)),s<=0||l<=0||!T||!T.length?null:W.createElement(Bt,{className:at("recharts-cartesian-axis",f),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),Ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return W.isValidElement(r)?s=W.cloneElement(r,i):We(r)?s=r(i):s=W.createElement(mm,Nu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(de.Component);px(ql,"displayName","CartesianAxis");px(ql,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $ie=["x1","y1","x2","y2","key"],Vie=["offset"];function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){Fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fie(t,e,n){return e=qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=Bie(t,"string");return As(e)=="symbol"?e:e+""}function Bie(t,e){if(As(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fs.apply(this,arguments)}function VM(t,e){if(t==null)return{};var n=Uie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zie=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.ry;return W.createElement("rect",{x:i,y:o,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function n4(t,e){var n;if(W.isValidElement(t))n=W.cloneElement(t,e);else if(We(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,l=e.key,c=VM(e,$ie),f=tt(c,!1);f.offset;var d=VM(f,Vie);n=W.createElement("line",fs({},d,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:l}))}return n}function Wie(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=$n($n({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return n4(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Hie(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=$n($n({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return n4(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Gie(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var d=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,_){return y-_});i!==d[0]&&d.unshift(0);var p=d.map(function(y,_){var T=!d[_+1],S=T?i+s-y:d[_+1]-y;if(S<=0)return null;var w=_%e.length;return W.createElement("rect",{key:"react-".concat(_),y,x:r,height:S,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Kie(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var d=f.map(function(y){return Math.round(y+o-o)}).sort(function(y,_){return y-_});o!==d[0]&&d.unshift(0);var p=d.map(function(y,_){var T=!d[_+1],S=T?o+l-y:d[_+1]-y;if(S<=0)return null;var w=_%r.length;return W.createElement("rect",{key:"react-".concat(_),x:y,y:s,width:S,height:c,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Qie=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return mF(dx($n($n($n({},ql.defaultProps),r),{},{ticks:uo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Yie=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return mF(dx($n($n($n({},ql.defaultProps),r),{},{ticks:uo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},xu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function r4(t){var e,n,r,i,o,s,l=lx(),c=cx(),f=Lre(),d=$n($n({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:xu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:xu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:xu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:xu.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:xu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:xu.verticalFill,x:_e(t.x)?t.x:f.left,y:_e(t.y)?t.y:f.top,width:_e(t.width)?t.width:f.width,height:_e(t.height)?t.height:f.height}),p=d.x,y=d.y,_=d.width,T=d.height,S=d.syncWithTicks,w=d.horizontalValues,O=d.verticalValues,M=Mre(),k=Dre();if(!_e(_)||_<=0||!_e(T)||T<=0||!_e(p)||p!==+p||!_e(y)||y!==+y)return null;var L=d.verticalCoordinatesGenerator||Qie,I=d.horizontalCoordinatesGenerator||Yie,R=d.horizontalPoints,x=d.verticalPoints;if((!R||!R.length)&&We(I)){var P=w&&w.length,C=I({yAxis:k?$n($n({},k),{},{ticks:P?w:k.ticks}):void 0,width:l,height:c,offset:f},P?!0:S);ho(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(As(C),"]")),Array.isArray(C)&&(R=C)}if((!x||!x.length)&&We(L)){var V=O&&O.length,D=L({xAxis:M?$n($n({},M),{},{ticks:V?O:M.ticks}):void 0,width:l,height:c,offset:f},V?!0:S);ho(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(As(D),"]")),Array.isArray(D)&&(x=D)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(zie,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(Wie,fs({},d,{offset:f,horizontalPoints:R,xAxis:M,yAxis:k})),W.createElement(Hie,fs({},d,{offset:f,verticalPoints:x,xAxis:M,yAxis:k})),W.createElement(Gie,fs({},d,{horizontalPoints:R})),W.createElement(Kie,fs({},d,{verticalPoints:x})))}r4.displayName="CartesianGrid";var Xie=["type","layout","connectNulls","ref"],Jie=["key"];function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function FM(t,e){if(t==null)return{};var n=Zie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Au(t){return roe(t)||noe(t)||toe(t)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t,e){if(t){if(typeof t=="string")return $E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $E(t,e)}}function noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function roe(t){if(Array.isArray(t))return $E(t)}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o4(r.key),r)}}function ooe(t,e,n){return e&&BM(t.prototype,e),n&&BM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aoe(t,e,n){return e=Km(e),soe(t,i4()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function soe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uoe(t)}function uoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function loe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VE(t,e)}function VE(t,e){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VE(t,e)}function si(t,e,n){return e=o4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o4(t){var e=coe(t,"string");return bl(e)=="symbol"?e:e+""}function coe(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ys=function(t){function e(){var n;ioe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=aoe(this,e,[].concat(i)),si(n,"state",{isAnimationFinished:!0,totalLength:0}),si(n,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),si(n,"getStrokeDasharray",function(s,l,c){var f=c.reduce(function(O,M){return O+M});if(!f)return n.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/f),p=s%f,y=l-s,_=[],T=0,S=0;T<c.length;S+=c[T],++T)if(S+c[T]>p){_=[].concat(Au(c.slice(0,T)),[p-S]);break}var w=_.length%2===0?[0,y]:[y];return[].concat(Au(e.repeat(c,d)),Au(_),w).map(function(O){return"".concat(O,"px")}).join(", ")}),si(n,"id",Ih("recharts-line-")),si(n,"pathRef",function(s){n.mainCurve=s}),si(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),si(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return loe(e,t),ooe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,l=o.xAxis,c=o.yAxis,f=o.layout,d=o.children,p=qr(d,Mh);if(!p)return null;var y=function(S,w){return{x:S.x,y:S.y,value:S.value,errorVal:xr(S.payload,w)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return W.createElement(Bt,_,p.map(function(T){return W.cloneElement(T,{key:"bar-".concat(T.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,p=tt(this.props,!1),y=tt(c,!0),_=f.map(function(S,w){var O=vr(vr(vr({key:"dot-".concat(w),r:3},p),y),{},{value:S.value,dataKey:d,cx:S.x,cy:S.y,index:w,payload:S.payload});return e.renderDotItem(c,O)}),T={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return W.createElement(Bt,mf({className:"recharts-line-dots",key:"dots"},T),_)}},{key:"renderCurveStatically",value:function(r,i,o,s){var l=this.props,c=l.type,f=l.layout,d=l.connectNulls;l.ref;var p=FM(l,Xie),y=vr(vr(vr({},tt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:c,layout:f,connectNulls:d});return W.createElement(gE,mf({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,l=s.points,c=s.strokeDasharray,f=s.isAnimationActive,d=s.animationBegin,p=s.animationDuration,y=s.animationEasing,_=s.animationId,T=s.animateNewValues,S=s.width,w=s.height,O=this.state,M=O.prevPoints,k=O.totalLength;return W.createElement(To,{begin:d,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(L){var I=L.t;if(M){var R=M.length/l.length,x=l.map(function($,j){var X=Math.floor(j*R);if(M[X]){var J=M[X],re=ui(J.x,$.x),ie=ui(J.y,$.y);return vr(vr({},$),{},{x:re(I),y:ie(I)})}if(T){var Q=ui(S*2,$.x),ne=ui(w/2,$.y);return vr(vr({},$),{},{x:Q(I),y:ne(I)})}return vr(vr({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(x,r,i)}var P=ui(0,k),C=P(I),V;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});V=o.getStrokeDasharray(C,k,D)}else V=o.generateSimpleStrokeDasharray(k,C);return o.renderCurveStatically(l,r,i,{strokeDasharray:V})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!f&&d>0||!Gg(f,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,l=i.points,c=i.className,f=i.xAxis,d=i.yAxis,p=i.top,y=i.left,_=i.width,T=i.height,S=i.isAnimationActive,w=i.id;if(o||!l||!l.length)return null;var O=this.state.isAnimationFinished,M=l.length===1,k=at("recharts-line",c),L=f&&f.allowDataOverflow,I=d&&d.allowDataOverflow,R=L||I,x=Xe(w)?this.id:w,P=(r=tt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=P.r,V=C===void 0?3:C,D=P.strokeWidth,$=D===void 0?2:D,j=LW(s)?s:{},X=j.clipDot,J=X===void 0?!0:X,re=V*2+$;return W.createElement(Bt,{className:k},L||I?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(x)},W.createElement("rect",{x:L?y:y-_/2,y:I?p:p-T/2,width:L?_:_*2,height:I?T:T*2})),!J&&W.createElement("clipPath",{id:"clipPath-dots-".concat(x)},W.createElement("rect",{x:y-re/2,y:p-re/2,width:_+re,height:T+re}))):null,!M&&this.renderCurve(R,x),this.renderErrorBar(R,x),(M||s)&&this.renderDots(R,J,x),(!S||O)&&fa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Au(r),[0]):r,s=[],l=0;l<i;++l)s=[].concat(Au(s),Au(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(W.isValidElement(r))o=W.cloneElement(r,i);else if(We(r))o=r(i);else{var s=i.key,l=FM(i,Jie),c=at("recharts-line-dot",typeof r!="boolean"?r.className:"");o=W.createElement(ox,mf({key:s},l,{className:c}))}return o}}])}(de.PureComponent);si(ys,"displayName","Line");si(ys,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!po.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});si(ys,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,f=t.offset,d=e.layout,p=c.map(function(y,_){var T=xr(y,s);return d==="horizontal"?{x:n2({axis:n,ticks:i,bandSize:l,entry:y,index:_}),y:Xe(T)?null:r.scale(T),value:T,payload:y}:{x:Xe(T)?null:n.scale(T),y:n2({axis:r,ticks:o,bandSize:l,entry:y,index:_}),value:T,payload:y}});return vr({points:p,layout:d},f)});function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function foe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u4(r.key),r)}}function doe(t,e,n){return e&&hoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function poe(t,e,n){return e=Qm(e),moe(t,a4()?Reflect.construct(e,n||[],Qm(t).constructor):e.apply(t,n))}function moe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return goe(t)}function goe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function yoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FE(t,e)}function s4(t,e,n){return e=u4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4(t){var e=voe(t,"string");return El(e)=="symbol"?e:e+""}function voe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(this,arguments)}function _oe(t){var e=t.xAxisId,n=lx(),r=cx(),i=WF(e);return i==null?null:W.createElement(ql,qE({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return uo(s,!0)}}))}var ry=function(t){function e(){return foe(this,e),poe(this,e,arguments)}return yoe(e,t),doe(e,[{key:"render",value:function(){return W.createElement(_oe,this.props)}}])}(W.Component);s4(ry,"displayName","XAxis");s4(ry,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function woe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function boe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f4(r.key),r)}}function Eoe(t,e,n){return e&&boe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Toe(t,e,n){return e=Ym(e),Soe(t,l4()?Reflect.construct(e,n||[],Ym(t).constructor):e.apply(t,n))}function Soe(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xoe(t)}function xoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ym(t)}function Aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BE(t,e)}function BE(t,e){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BE(t,e)}function c4(t,e,n){return e=f4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f4(t){var e=Poe(t,"string");return Tl(e)=="symbol"?e:e+""}function Poe(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(this,arguments)}var Ioe=function(e){var n=e.yAxisId,r=lx(),i=cx(),o=HF(n);return o==null?null:W.createElement(ql,UE({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return uo(l,!0)}}))},mx=function(t){function e(){return woe(this,e),Toe(this,e,arguments)}return Aoe(e,t),Eoe(e,[{key:"render",value:function(){return W.createElement(Ioe,this.props)}}])}(W.Component);c4(mx,"displayName","YAxis");c4(mx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UM(t){return koe(t)||Roe(t)||Ooe(t)||Coe()}function Coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t,e){if(t){if(typeof t=="string")return zE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zE(t,e)}}function Roe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function koe(t){if(Array.isArray(t))return zE(t)}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WE=function(e,n,r,i,o){var s=qr(e,hx),l=qr(e,ey),c=[].concat(UM(s),UM(l)),f=qr(e,ny),d="".concat(i,"Id"),p=i[0],y=n;if(c.length&&(y=c.reduce(function(S,w){if(w.props[d]===r&&Li(w.props,"extendDomain")&&_e(w.props[p])){var O=w.props[p];return[Math.min(S[0],O),Math.max(S[1],O)]}return S},y)),f.length){var _="".concat(p,"1"),T="".concat(p,"2");y=f.reduce(function(S,w){if(w.props[d]===r&&Li(w.props,"extendDomain")&&_e(w.props[_])&&_e(w.props[T])){var O=w.props[_],M=w.props[T];return[Math.min(S[0],O,M),Math.max(S[1],O,M)]}return S},y)}return o&&o.length&&(y=o.reduce(function(S,w){return _e(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},y)),y},Hb={exports:{}},zM;function Noe(){return zM||(zM=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function o(c,f,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var _=new i(d,p||c,y),T=n?n+f:f;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],_]:c._events[T].push(_):(c._events[T]=_,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,_=p.length,T=new Array(_);y<_;y++)T[y]=p[y].fn;return T},l.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,y,_,T){var S=n?n+f:f;if(!this._events[S])return!1;var w=this._events[S],O=arguments.length,M,k;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),O){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,p),!0;case 4:return w.fn.call(w.context,d,p,y),!0;case 5:return w.fn.call(w.context,d,p,y,_),!0;case 6:return w.fn.call(w.context,d,p,y,_,T),!0}for(k=1,M=new Array(O-1);k<O;k++)M[k-1]=arguments[k];w.fn.apply(w.context,M)}else{var L=w.length,I;for(k=0;k<L;k++)switch(w[k].once&&this.removeListener(f,w[k].fn,void 0,!0),O){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,d);break;case 3:w[k].fn.call(w[k].context,d,p);break;case 4:w[k].fn.call(w[k].context,d,p,y);break;default:if(!M)for(I=1,M=new Array(O-1);I<O;I++)M[I-1]=arguments[I];w[k].fn.apply(w[k].context,M)}}return!0},l.prototype.on=function(f,d,p){return o(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return o(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,y){var _=n?n+f:f;if(!this._events[_])return this;if(!d)return s(this,_),this;var T=this._events[_];if(T.fn)T.fn===d&&(!y||T.once)&&(!p||T.context===p)&&s(this,_);else{for(var S=0,w=[],O=T.length;S<O;S++)(T[S].fn!==d||y&&!T[S].once||p&&T[S].context!==p)&&w.push(T[S]);w.length?this._events[_]=w.length===1?w[0]:w:s(this,_)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(Hb)),Hb.exports}var Moe=Noe();const Doe=vt(Moe);var Gb=new Doe,Kb="recharts.syncMouseEvents";function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Loe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h4(r.key),r)}}function $oe(t,e,n){return e&&Loe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qb(t,e,n){return e=h4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4(t){var e=Voe(t,"string");return fh(e)=="symbol"?e:e+""}function Voe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Foe=function(){function t(){joe(this,t),Qb(this,"activeIndex",0),Qb(this,"coordinateList",[]),Qb(this,"layout","horizontal")}return $oe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,d=n.offset,p=d===void 0?null:d,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+c+f,y=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function qoe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&_e(r)&&_e(i))return!0}return!1}function Boe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function d4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=xn(e,n,r,i),l=xn(e,n,r,o);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Uoe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,d=e.outerRadius,p=e.angle,y=xn(l,c,f,p),_=xn(l,c,d,p);r=y.x,i=y.y,o=_.x,s=_.y}else return d4(e);return[{x:r,y:i},{x:o,y:s}]}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zoe(t,e,n){return e=Woe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Hoe(t,"string");return hh(e)=="symbol"?e:e+""}function Hoe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Goe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,d=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!o||!s||y!=="ScatterChart"&&i!=="axis")return null;var T,S=gE;if(y==="ScatterChart")T=s,S=zte;else if(y==="BarChart")T=Boe(p,s,c,d),S=ix;else if(p==="radial"){var w=d4(s),O=w.cx,M=w.cy,k=w.radius,L=w.startAngle,I=w.endAngle;T={cx:O,cy:M,startAngle:L,endAngle:I,innerRadius:k,outerRadius:k},S=wF}else T={points:Uoe(p,s,c)},S=gE;var R=gp(gp(gp(gp({stroke:"#ccc",pointerEvents:"none"},c),T),tt(_,!1)),{},{payload:l,payloadIndex:f,className:at("recharts-tooltip-cursor",_.className)});return de.isValidElement(_)?de.cloneElement(_,R):de.createElement(S,R)}var Koe=["item"],Qoe=["children","className","width","height","style","compact","title","desc"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}function HM(t,e){return Joe(t)||Xoe(t,e)||m4(t,e)||Yoe()}function Yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Joe(t){if(Array.isArray(t))return t}function GM(t,e){if(t==null)return{};var n=Zoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g4(r.key),r)}}function nae(t,e,n){return e&&tae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rae(t,e,n){return e=Xm(e),iae(t,p4()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function iae(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oae(t)}function oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function aae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HE(t,e)}function HE(t,e){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HE(t,e)}function xl(t){return lae(t)||uae(t)||m4(t)||sae()}function sae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4(t,e){if(t){if(typeof t=="string")return GE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GE(t,e)}}function uae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lae(t){if(Array.isArray(t))return GE(t)}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Me(t,e,n){return e=g4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g4(t){var e=cae(t,"string");return Sl(e)=="symbol"?e:e+""}function cae(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fae={xAxis:["bottom","top"],yAxis:["left","right"]},hae={width:"100%",height:"100%"},y4={x:0,y:0};function yp(t){return t}var dae=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},pae=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return oe(oe(oe({},i),xn(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return oe(oe(oe({},i),xn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return y4},iy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(xl(l),xl(f)):l},[]);return s.length>0?s:e&&e.length&&_e(i)&&_e(o)?e.slice(i,o+1):[]};function v4(t){return t==="number"?[0,"auto"]:void 0}var KE=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,l=iy(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,f){var d,p=(d=f.props.data)!==null&&d!==void 0?d:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var _=p===void 0?l:p;y=nm(_,s.dataKey,i)}else y=p&&p[r]||l[r];return y?[].concat(xl(c),[yF(f,y)]):c},[])},QM=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=dae(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,d=LJ(s,l,f,c);if(d>=0&&f){var p=f[d]&&f[d].value,y=KE(e,n,d,p),_=pae(r,l,d,o);return{activeTooltipIndex:d,activeLabel:p,activePayload:y,activeCoordinate:_}}return null},mae=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.layout,p=e.children,y=e.stackOffset,_=pF(d,o);return r.reduce(function(T,S){var w,O=S.type.defaultProps!==void 0?oe(oe({},S.type.defaultProps),S.props):S.props,M=O.type,k=O.dataKey,L=O.allowDataOverflow,I=O.allowDuplicatedCategory,R=O.scale,x=O.ticks,P=O.includeHidden,C=O[s];if(T[C])return T;var V=iy(e.data,{graphicalItems:i.filter(function(H){var le,xe=s in H.props?H.props[s]:(le=H.type.defaultProps)===null||le===void 0?void 0:le[s];return xe===C}),dataStartIndex:c,dataEndIndex:f}),D=V.length,$,j,X;qoe(O.domain,L,M)&&($=fE(O.domain,null,L),_&&(M==="number"||R!=="auto")&&(X=df(V,k,"category")));var J=v4(M);if(!$||$.length===0){var re,ie=(re=O.domain)!==null&&re!==void 0?re:J;if(k){if($=df(V,k,M),M==="category"&&_){var Q=IW($);I&&Q?(j=$,$=$m(0,D)):I||($=a2(ie,$,S).reduce(function(H,le){return H.indexOf(le)>=0?H:[].concat(xl(H),[le])},[]))}else if(M==="category")I?$=$.filter(function(H){return H!==""&&!Xe(H)}):$=a2(ie,$,S).reduce(function(H,le){return H.indexOf(le)>=0||le===""||Xe(le)?H:[].concat(xl(H),[le])},[]);else if(M==="number"){var ne=BJ(V,i.filter(function(H){var le,xe,Oe=s in H.props?H.props[s]:(le=H.type.defaultProps)===null||le===void 0?void 0:le[s],je="hide"in H.props?H.props.hide:(xe=H.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Oe===C&&(P||!je)}),k,o,d);ne&&($=ne)}_&&(M==="number"||R!=="auto")&&(X=df(V,k,"category"))}else _?$=$m(0,D):l&&l[C]&&l[C].hasStack&&M==="number"?$=y==="expand"?[0,1]:gF(l[C].stackGroups,c,f):$=dF(V,i.filter(function(H){var le=s in H.props?H.props[s]:H.type.defaultProps[s],xe="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return le===C&&(P||!xe)}),M,d,!0);if(M==="number")$=WE(p,$,C,o,x),ie&&($=fE(ie,$,L));else if(M==="category"&&ie){var ae=ie,B=$.every(function(H){return ae.indexOf(H)>=0});B&&($=ae)}}return oe(oe({},T),{},Me({},C,oe(oe({},O),{},{axisType:o,domain:$,categoricalDomain:X,duplicateDomain:j,originalDomain:(w=O.domain)!==null&&w!==void 0?w:J,isCategorical:_,layout:d})))},{})},gae=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.layout,p=e.children,y=iy(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),_=y.length,T=pF(d,o),S=-1;return r.reduce(function(w,O){var M=O.type.defaultProps!==void 0?oe(oe({},O.type.defaultProps),O.props):O.props,k=M[s],L=v4("number");if(!w[k]){S++;var I;return T?I=$m(0,_):l&&l[k]&&l[k].hasStack?(I=gF(l[k].stackGroups,c,f),I=WE(p,I,k,o)):(I=fE(L,dF(y,r.filter(function(R){var x,P,C=s in R.props?R.props[s]:(x=R.type.defaultProps)===null||x===void 0?void 0:x[s],V="hide"in R.props?R.props.hide:(P=R.type.defaultProps)===null||P===void 0?void 0:P.hide;return C===k&&!V}),"number",d),i.defaultProps.allowDataOverflow),I=WE(p,I,k,o)),oe(oe({},w),{},Me({},k,oe(oe({axisType:o},i.defaultProps),{},{hide:!0,orientation:Fr(fae,"".concat(o,".").concat(S%2),null),domain:I,originalDomain:L,isCategorical:T,layout:d})))}return w},{})},yae=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.children,p="".concat(i,"Id"),y=qr(d,o),_={};return y&&y.length?_=mae(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(_=gae(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),_},vae=function(e){var n=ta(e),r=uo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:RS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Cm(n,r)}},YM=function(e){var n=e.children,r=e.defaultShowTooltip,i=br(n,ml),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},_ae=function(e){return!e||!e.length?!1:e.some(function(n){var r=fo(n&&n.type);return r&&r.indexOf("Bar")>=0})},XM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wae=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,d=r.height,p=r.children,y=r.margin||{},_=br(p,ml),T=br(p,ps),S=Object.keys(c).reduce(function(I,R){var x=c[R],P=x.orientation;return!x.mirror&&!x.hide?oe(oe({},I),{},Me({},P,I[P]+x.width)):I},{left:y.left||0,right:y.right||0}),w=Object.keys(s).reduce(function(I,R){var x=s[R],P=x.orientation;return!x.mirror&&!x.hide?oe(oe({},I),{},Me({},P,Fr(I,"".concat(P))+x.height)):I},{top:y.top||0,bottom:y.bottom||0}),O=oe(oe({},w),S),M=O.bottom;_&&(O.bottom+=_.props.height||ml.defaultProps.height),T&&n&&(O=FJ(O,i,r,n));var k=f-O.left-O.right,L=d-O.top-O.bottom;return oe(oe({brushBottom:M},O),{},{width:Math.max(k,0),height:Math.max(L,0)})},bae=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Eae=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,p=e.defaultProps,y=function(O,M){var k=M.graphicalItems,L=M.stackGroups,I=M.offset,R=M.updateId,x=M.dataStartIndex,P=M.dataEndIndex,C=O.barSize,V=O.layout,D=O.barGap,$=O.barCategoryGap,j=O.maxBarSize,X=XM(V),J=X.numericAxisName,re=X.cateAxisName,ie=_ae(k),Q=[];return k.forEach(function(ne,ae){var B=iy(O.data,{graphicalItems:[ne],dataStartIndex:x,dataEndIndex:P}),H=ne.type.defaultProps!==void 0?oe(oe({},ne.type.defaultProps),ne.props):ne.props,le=H.dataKey,xe=H.maxBarSize,Oe=H["".concat(J,"Id")],je=H["".concat(re,"Id")],ze={},Fe=c.reduce(function(yn,lr){var vi=M["".concat(lr.axisType,"Map")],Bi=H["".concat(lr.axisType,"Id")];vi&&vi[Bi]||lr.axisType==="zAxis"||xs();var Io=vi[Bi];return oe(oe({},yn),{},Me(Me({},lr.axisType,Io),"".concat(lr.axisType,"Ticks"),uo(Io)))},ze),pe=Fe[re],Ie=Fe["".concat(re,"Ticks")],De=L&&L[Oe]&&L[Oe].hasStack&&eZ(ne,L[Oe].stackGroups),ce=fo(ne.type).indexOf("Bar")>=0,ut=Cm(pe,Ie),Ue=[],_t=ie&&$J({barSize:C,stackGroups:L,totalSize:bae(Fe,re)});if(ce){var xt,Ut,sr=Xe(xe)?j:xe,ur=(xt=(Ut=Cm(pe,Ie,!0))!==null&&Ut!==void 0?Ut:sr)!==null&&xt!==void 0?xt:0;Ue=VJ({barGap:D,barCategoryGap:$,bandSize:ur!==ut?ur:ut,sizeList:_t[je],maxBarSize:sr}),ur!==ut&&(Ue=Ue.map(function(yn){return oe(oe({},yn),{},{position:oe(oe({},yn.position),{},{offset:yn.position.offset-ur/2})})}))}var Wn=ne&&ne.type&&ne.type.getComposedData;Wn&&Q.push({props:oe(oe({},Wn(oe(oe({},Fe),{},{displayedData:B,props:O,dataKey:le,item:ne,bandSize:ut,barPosition:Ue,offset:I,stackedData:De,layout:V,dataStartIndex:x,dataEndIndex:P}))),{},Me(Me(Me({key:ne.key||"item-".concat(ae)},J,Fe[J]),re,Fe[re]),"animationId",R)),childIndex:FW(ne,O.children),item:ne})}),Q},_=function(O,M){var k=O.props,L=O.dataStartIndex,I=O.dataEndIndex,R=O.updateId;if(!wO({props:k}))return null;var x=k.children,P=k.layout,C=k.stackOffset,V=k.data,D=k.reverseStackOrder,$=XM(P),j=$.numericAxisName,X=$.cateAxisName,J=qr(x,r),re=XJ(V,J,"".concat(j,"Id"),"".concat(X,"Id"),C,D),ie=c.reduce(function(H,le){var xe="".concat(le.axisType,"Map");return oe(oe({},H),{},Me({},xe,yae(k,oe(oe({},le),{},{graphicalItems:J,stackGroups:le.axisType===j&&re,dataStartIndex:L,dataEndIndex:I}))))},{}),Q=wae(oe(oe({},ie),{},{props:k,graphicalItems:J}),M==null?void 0:M.legendBBox);Object.keys(ie).forEach(function(H){ie[H]=d(k,ie[H],Q,H.replace("Map",""),n)});var ne=ie["".concat(X,"Map")],ae=vae(ne),B=y(k,oe(oe({},ie),{},{dataStartIndex:L,dataEndIndex:I,updateId:R,graphicalItems:J,stackGroups:re,offset:Q}));return oe(oe({formattedGraphicalItems:B,graphicalItems:J,offset:Q,stackGroups:re},ae),ie)},T=function(w){function O(M){var k,L,I;return eae(this,O),I=rae(this,O,[M]),Me(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Me(I,"accessibilityManager",new Foe),Me(I,"handleLegendBBoxUpdate",function(R){if(R){var x=I.state,P=x.dataStartIndex,C=x.dataEndIndex,V=x.updateId;I.setState(oe({legendBBox:R},_({props:I.props,dataStartIndex:P,dataEndIndex:C,updateId:V},oe(oe({},I.state),{},{legendBBox:R}))))}}),Me(I,"handleReceiveSyncEvent",function(R,x,P){if(I.props.syncId===R){if(P===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(x)}}),Me(I,"handleBrushChange",function(R){var x=R.startIndex,P=R.endIndex;if(x!==I.state.dataStartIndex||P!==I.state.dataEndIndex){var C=I.state.updateId;I.setState(function(){return oe({dataStartIndex:x,dataEndIndex:P},_({props:I.props,dataStartIndex:x,dataEndIndex:P,updateId:C},I.state))}),I.triggerSyncEvent({dataStartIndex:x,dataEndIndex:P})}}),Me(I,"handleMouseEnter",function(R){var x=I.getMouseInfo(R);if(x){var P=oe(oe({},x),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var C=I.props.onMouseEnter;We(C)&&C(P,R)}}),Me(I,"triggeredAfterMouseMove",function(R){var x=I.getMouseInfo(R),P=x?oe(oe({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(P),I.triggerSyncEvent(P);var C=I.props.onMouseMove;We(C)&&C(P,R)}),Me(I,"handleItemMouseEnter",function(R){I.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),Me(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),Me(I,"handleMouseMove",function(R){R.persist(),I.throttleTriggeredAfterMouseMove(R)}),Me(I,"handleMouseLeave",function(R){I.throttleTriggeredAfterMouseMove.cancel();var x={isTooltipActive:!1};I.setState(x),I.triggerSyncEvent(x);var P=I.props.onMouseLeave;We(P)&&P(x,R)}),Me(I,"handleOuterEvent",function(R){var x=VW(R),P=Fr(I.props,"".concat(x));if(x&&We(P)){var C,V;/.*touch.*/i.test(x)?V=I.getMouseInfo(R.changedTouches[0]):V=I.getMouseInfo(R),P((C=V)!==null&&C!==void 0?C:{},R)}}),Me(I,"handleClick",function(R){var x=I.getMouseInfo(R);if(x){var P=oe(oe({},x),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var C=I.props.onClick;We(C)&&C(P,R)}}),Me(I,"handleMouseDown",function(R){var x=I.props.onMouseDown;if(We(x)){var P=I.getMouseInfo(R);x(P,R)}}),Me(I,"handleMouseUp",function(R){var x=I.props.onMouseUp;if(We(x)){var P=I.getMouseInfo(R);x(P,R)}}),Me(I,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),Me(I,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&I.handleMouseDown(R.changedTouches[0])}),Me(I,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&I.handleMouseUp(R.changedTouches[0])}),Me(I,"handleDoubleClick",function(R){var x=I.props.onDoubleClick;if(We(x)){var P=I.getMouseInfo(R);x(P,R)}}),Me(I,"handleContextMenu",function(R){var x=I.props.onContextMenu;if(We(x)){var P=I.getMouseInfo(R);x(P,R)}}),Me(I,"triggerSyncEvent",function(R){I.props.syncId!==void 0&&Gb.emit(Kb,I.props.syncId,R,I.eventEmitterSymbol)}),Me(I,"applySyncEvent",function(R){var x=I.props,P=x.layout,C=x.syncMethod,V=I.state.updateId,D=R.dataStartIndex,$=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)I.setState(oe({dataStartIndex:D,dataEndIndex:$},_({props:I.props,dataStartIndex:D,dataEndIndex:$,updateId:V},I.state)));else if(R.activeTooltipIndex!==void 0){var j=R.chartX,X=R.chartY,J=R.activeTooltipIndex,re=I.state,ie=re.offset,Q=re.tooltipTicks;if(!ie)return;if(typeof C=="function")J=C(Q,R);else if(C==="value"){J=-1;for(var ne=0;ne<Q.length;ne++)if(Q[ne].value===R.activeLabel){J=ne;break}}var ae=oe(oe({},ie),{},{x:ie.left,y:ie.top}),B=Math.min(j,ae.x+ae.width),H=Math.min(X,ae.y+ae.height),le=Q[J]&&Q[J].value,xe=KE(I.state,I.props.data,J),Oe=Q[J]?{x:P==="horizontal"?Q[J].coordinate:B,y:P==="horizontal"?H:Q[J].coordinate}:y4;I.setState(oe(oe({},R),{},{activeLabel:le,activeCoordinate:Oe,activePayload:xe,activeTooltipIndex:J}))}else I.setState(R)}),Me(I,"renderCursor",function(R){var x,P=I.state,C=P.isTooltipActive,V=P.activeCoordinate,D=P.activePayload,$=P.offset,j=P.activeTooltipIndex,X=P.tooltipAxisBandSize,J=I.getTooltipEventType(),re=(x=R.props.active)!==null&&x!==void 0?x:C,ie=I.props.layout,Q=R.key||"_recharts-cursor";return W.createElement(Goe,{key:Q,activeCoordinate:V,activePayload:D,activeTooltipIndex:j,chartName:n,element:R,isActive:re,layout:ie,offset:$,tooltipAxisBandSize:X,tooltipEventType:J})}),Me(I,"renderPolarAxis",function(R,x,P){var C=Fr(R,"type.axisType"),V=Fr(I.state,"".concat(C,"Map")),D=R.type.defaultProps,$=D!==void 0?oe(oe({},D),R.props):R.props,j=V&&V[$["".concat(C,"Id")]];return de.cloneElement(R,oe(oe({},j),{},{className:at(C,j.className),key:R.key||"".concat(x,"-").concat(P),ticks:uo(j,!0)}))}),Me(I,"renderPolarGrid",function(R){var x=R.props,P=x.radialLines,C=x.polarAngles,V=x.polarRadius,D=I.state,$=D.radiusAxisMap,j=D.angleAxisMap,X=ta($),J=ta(j),re=J.cx,ie=J.cy,Q=J.innerRadius,ne=J.outerRadius;return de.cloneElement(R,{polarAngles:Array.isArray(C)?C:uo(J,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(V)?V:uo(X,!0).map(function(ae){return ae.coordinate}),cx:re,cy:ie,innerRadius:Q,outerRadius:ne,key:R.key||"polar-grid",radialLines:P})}),Me(I,"renderLegend",function(){var R=I.state.formattedGraphicalItems,x=I.props,P=x.children,C=x.width,V=x.height,D=I.props.margin||{},$=C-(D.left||0)-(D.right||0),j=fF({children:P,formattedGraphicalItems:R,legendWidth:$,legendContent:f});if(!j)return null;var X=j.item,J=GM(j,Koe);return de.cloneElement(X,oe(oe({},J),{},{chartWidth:C,chartHeight:V,margin:D,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),Me(I,"renderTooltip",function(){var R,x=I.props,P=x.children,C=x.accessibilityLayer,V=br(P,Oi);if(!V)return null;var D=I.state,$=D.isTooltipActive,j=D.activeCoordinate,X=D.activePayload,J=D.activeLabel,re=D.offset,ie=(R=V.props.active)!==null&&R!==void 0?R:$;return de.cloneElement(V,{viewBox:oe(oe({},re),{},{x:re.left,y:re.top}),active:ie,label:J,payload:ie?X:[],coordinate:j,accessibilityLayer:C})}),Me(I,"renderBrush",function(R){var x=I.props,P=x.margin,C=x.data,V=I.state,D=V.offset,$=V.dataStartIndex,j=V.dataEndIndex,X=V.updateId;return de.cloneElement(R,{key:R.key||"_recharts-brush",onChange:hp(I.handleBrushChange,R.props.onChange),data:C,x:_e(R.props.x)?R.props.x:D.left,y:_e(R.props.y)?R.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:_e(R.props.width)?R.props.width:D.width,startIndex:$,endIndex:j,updateId:"brush-".concat(X)})}),Me(I,"renderReferenceElement",function(R,x,P){if(!R)return null;var C=I,V=C.clipPathId,D=I.state,$=D.xAxisMap,j=D.yAxisMap,X=D.offset,J=R.type.defaultProps||{},re=R.props,ie=re.xAxisId,Q=ie===void 0?J.xAxisId:ie,ne=re.yAxisId,ae=ne===void 0?J.yAxisId:ne;return de.cloneElement(R,{key:R.key||"".concat(x,"-").concat(P),xAxis:$[Q],yAxis:j[ae],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:V})}),Me(I,"renderActivePoints",function(R){var x=R.item,P=R.activePoint,C=R.basePoint,V=R.childIndex,D=R.isRange,$=[],j=x.props.key,X=x.item.type.defaultProps!==void 0?oe(oe({},x.item.type.defaultProps),x.item.props):x.item.props,J=X.activeDot,re=X.dataKey,ie=oe(oe({index:V,dataKey:re,cx:P.x,cy:P.y,r:4,fill:rx(x.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},tt(J,!1)),rm(J));return $.push(O.renderActiveDot(J,ie,"".concat(j,"-activePoint-").concat(V))),C?$.push(O.renderActiveDot(J,oe(oe({},ie),{},{cx:C.x,cy:C.y}),"".concat(j,"-basePoint-").concat(V))):D&&$.push(null),$}),Me(I,"renderGraphicChild",function(R,x,P){var C=I.filterFormatItem(R,x,P);if(!C)return null;var V=I.getTooltipEventType(),D=I.state,$=D.isTooltipActive,j=D.tooltipAxis,X=D.activeTooltipIndex,J=D.activeLabel,re=I.props.children,ie=br(re,Oi),Q=C.props,ne=Q.points,ae=Q.isRange,B=Q.baseLine,H=C.item.type.defaultProps!==void 0?oe(oe({},C.item.type.defaultProps),C.item.props):C.item.props,le=H.activeDot,xe=H.hide,Oe=H.activeBar,je=H.activeShape,ze=!!(!xe&&$&&ie&&(le||Oe||je)),Fe={};V!=="axis"&&ie&&ie.props.trigger==="click"?Fe={onClick:hp(I.handleItemMouseEnter,R.props.onClick)}:V!=="axis"&&(Fe={onMouseLeave:hp(I.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:hp(I.handleItemMouseEnter,R.props.onMouseEnter)});var pe=de.cloneElement(R,oe(oe({},C.props),Fe));function Ie(lr){return typeof j.dataKey=="function"?j.dataKey(lr.payload):null}if(ze)if(X>=0){var De,ce;if(j.dataKey&&!j.allowDuplicatedCategory){var ut=typeof j.dataKey=="function"?Ie:"payload.".concat(j.dataKey.toString());De=nm(ne,ut,J),ce=ae&&B&&nm(B,ut,J)}else De=ne==null?void 0:ne[X],ce=ae&&B&&B[X];if(je||Oe){var Ue=R.props.activeIndex!==void 0?R.props.activeIndex:X;return[de.cloneElement(R,oe(oe(oe({},C.props),Fe),{},{activeIndex:Ue})),null,null]}if(!Xe(De))return[pe].concat(xl(I.renderActivePoints({item:C,activePoint:De,basePoint:ce,childIndex:X,isRange:ae})))}else{var _t,xt=(_t=I.getItemByXY(I.state.activeCoordinate))!==null&&_t!==void 0?_t:{graphicalItem:pe},Ut=xt.graphicalItem,sr=Ut.item,ur=sr===void 0?R:sr,Wn=Ut.childIndex,yn=oe(oe(oe({},C.props),Fe),{},{activeIndex:Wn});return[de.cloneElement(ur,yn),null,null]}return ae?[pe,null,null]:[pe,null]}),Me(I,"renderCustomized",function(R,x,P){return de.cloneElement(R,oe(oe({key:"recharts-customized-".concat(P)},I.props),I.state))}),Me(I,"renderMap",{CartesianGrid:{handler:yp,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:yp},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:yp},YAxis:{handler:yp},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((k=M.id)!==null&&k!==void 0?k:Ih("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=cV(I.triggeredAfterMouseMove,(L=M.throttleDelay)!==null&&L!==void 0?L:1e3/60),I.state={},I}return aae(O,w),nae(O,[{key:"componentDidMount",value:function(){var k,L;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,L=k.children,I=k.data,R=k.height,x=k.layout,P=br(L,Oi);if(P){var C=P.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,D=KE(this.state,I,C,V),$=this.state.tooltipTicks[C].coordinate,j=(this.state.offset.top+R)/2,X=x==="horizontal",J=X?{x:$,y:j}:{y:$,x:j},re=this.state.formattedGraphicalItems.find(function(Q){var ne=Q.item;return ne.type.name==="Scatter"});re&&(J=oe(oe({},J),re.props.points[C].tooltipPosition),D=re.props.points[C].tooltipPayload);var ie={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:V,activePayload:D,activeCoordinate:J};this.setState(ie),this.renderCursor(P),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,L){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==L.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var I,R;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(k){N1([br(k.children,Oi)],[br(this.props.children,Oi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=br(this.props.children,Oi);if(k&&typeof k.props.shared=="boolean"){var L=k.props.shared?"axis":"item";return l.indexOf(L)>=0?L:o}return o}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var L=this.container,I=L.getBoundingClientRect(),R=PK(I),x={chartX:Math.round(k.pageX-R.left),chartY:Math.round(k.pageY-R.top)},P=I.width/L.offsetWidth||1,C=this.inRange(x.chartX,x.chartY,P);if(!C)return null;var V=this.state,D=V.xAxisMap,$=V.yAxisMap,j=this.getTooltipEventType();if(j!=="axis"&&D&&$){var X=ta(D).scale,J=ta($).scale,re=X&&X.invert?X.invert(x.chartX):null,ie=J&&J.invert?J.invert(x.chartY):null;return oe(oe({},x),{},{xValue:re,yValue:ie})}var Q=QM(this.state,this.props.data,this.props.layout,C);return Q?oe(oe({},x),Q):null}},{key:"inRange",value:function(k,L){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,x=k/I,P=L/I;if(R==="horizontal"||R==="vertical"){var C=this.state.offset,V=x>=C.left&&x<=C.left+C.width&&P>=C.top&&P<=C.top+C.height;return V?{x,y:P}:null}var D=this.state,$=D.angleAxisMap,j=D.radiusAxisMap;if($&&j){var X=ta($);return l2({x,y:P},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,L=this.getTooltipEventType(),I=br(k,Oi),R={};I&&L==="axis"&&(I.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var x=rm(this.props,this.handleOuterEvent);return oe(oe({},x),R)}},{key:"addListener",value:function(){Gb.on(Kb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gb.removeListener(Kb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,L,I){for(var R=this.state.formattedGraphicalItems,x=0,P=R.length;x<P;x++){var C=R[x];if(C.item===k||C.props.key===k.key||L===fo(C.item.type)&&I===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,L=this.state.offset,I=L.left,R=L.top,x=L.height,P=L.width;return W.createElement("defs",null,W.createElement("clipPath",{id:k},W.createElement("rect",{x:I,y:R,height:x,width:P})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(L,I){var R=HM(I,2),x=R[0],P=R[1];return oe(oe({},L),{},Me({},x,P.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(L,I){var R=HM(I,2),x=R[0],P=R[1];return oe(oe({},L),{},Me({},x,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var L;return(L=this.state.xAxisMap)===null||L===void 0||(L=L[k])===null||L===void 0?void 0:L.scale}},{key:"getYScaleByAxisId",value:function(k){var L;return(L=this.state.yAxisMap)===null||L===void 0||(L=L[k])===null||L===void 0?void 0:L.scale}},{key:"getItemByXY",value:function(k){var L=this.state,I=L.formattedGraphicalItems,R=L.activeItem;if(I&&I.length)for(var x=0,P=I.length;x<P;x++){var C=I[x],V=C.props,D=C.item,$=D.type.defaultProps!==void 0?oe(oe({},D.type.defaultProps),D.props):D.props,j=fo(D.type);if(j==="Bar"){var X=(V.data||[]).find(function(Q){return Mte(k,Q)});if(X)return{graphicalItem:C,payload:X}}else if(j==="RadialBar"){var J=(V.data||[]).find(function(Q){return l2(k,Q)});if(J)return{graphicalItem:C,payload:J}}else if(Yg(C,R)||Xg(C,R)||ah(C,R)){var re=Sne({graphicalItem:C,activeTooltipItem:R,itemData:$.data}),ie=$.activeIndex===void 0?re:$.activeIndex;return{graphicalItem:oe(oe({},C),{},{childIndex:ie}),payload:ah(C,R)?$.data[re]:C.props.data[re]}}}return null}},{key:"render",value:function(){var k=this;if(!wO(this))return null;var L=this.props,I=L.children,R=L.className,x=L.width,P=L.height,C=L.style,V=L.compact,D=L.title,$=L.desc,j=GM(L,Qoe),X=tt(j,!1);if(V)return W.createElement(PM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(D1,Mu({},X,{width:x,height:P,title:D,desc:$}),this.renderClipPath(),EO(I,this.renderMap)));if(this.props.accessibilityLayer){var J,re;X.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,X.role=(re=this.props.role)!==null&&re!==void 0?re:"application",X.onKeyDown=function(Q){k.accessibilityManager.keyboardEvent(Q)},X.onFocus=function(){k.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return W.createElement(PM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",Mu({className:at("recharts-wrapper",R),style:oe({position:"relative",cursor:"default",width:x,height:P},C)},ie,{ref:function(ne){k.container=ne}}),W.createElement(D1,Mu({},X,{width:x,height:P,title:D,desc:$,style:hae}),this.renderClipPath(),EO(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(de.Component);Me(T,"displayName",n),Me(T,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Me(T,"getDerivedStateFromProps",function(w,O){var M=w.dataKey,k=w.data,L=w.children,I=w.width,R=w.height,x=w.layout,P=w.stackOffset,C=w.margin,V=O.dataStartIndex,D=O.dataEndIndex;if(O.updateId===void 0){var $=YM(w);return oe(oe(oe({},$),{},{updateId:0},_(oe(oe({props:w},$),{},{updateId:0}),O)),{},{prevDataKey:M,prevData:k,prevWidth:I,prevHeight:R,prevLayout:x,prevStackOffset:P,prevMargin:C,prevChildren:L})}if(M!==O.prevDataKey||k!==O.prevData||I!==O.prevWidth||R!==O.prevHeight||x!==O.prevLayout||P!==O.prevStackOffset||!Bu(C,O.prevMargin)){var j=YM(w),X={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},J=oe(oe({},QM(O,k,x)),{},{updateId:O.updateId+1}),re=oe(oe(oe({},j),X),J);return oe(oe(oe({},re),_(oe({props:w},re),O)),{},{prevDataKey:M,prevData:k,prevWidth:I,prevHeight:R,prevLayout:x,prevStackOffset:P,prevMargin:C,prevChildren:L})}if(!N1(L,O.prevChildren)){var ie,Q,ne,ae,B=br(L,ml),H=B&&(ie=(Q=B.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&ie!==void 0?ie:V,le=B&&(ne=(ae=B.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&ne!==void 0?ne:D,xe=H!==V||le!==D,Oe=!Xe(k),je=Oe&&!xe?O.updateId:O.updateId+1;return oe(oe({updateId:je},_(oe(oe({props:w},O),{},{updateId:je,dataStartIndex:H,dataEndIndex:le}),O)),{},{prevChildren:L,dataStartIndex:H,dataEndIndex:le})}return null}),Me(T,"renderActiveDot",function(w,O,M){var k;return de.isValidElement(w)?k=de.cloneElement(w,O):We(w)?k=w(O):k=W.createElement(ox,O),W.createElement(Bt,{className:"recharts-active-dot",key:M},k)});var S=de.forwardRef(function(O,M){return W.createElement(T,Mu({},O,{ref:M}))});return S.displayName=T.displayName,S},Tae=Eae({chartName:"LineChart",GraphicalChild:ys,axisComponents:[{axisType:"xAxis",AxisComp:ry},{axisType:"yAxis",AxisComp:mx}],formatAxisMap:wre});const hs={TEMPERATURE:"C",HUMIDITY:"%"};function Sae(){const[t,e]=de.useState(!1),[n,r]=de.useState(!1),[i,o]=de.useState(0),[s,l]=de.useState(0),[c,f]=de.useState(0),[d,p]=de.useState(0),y=async(T,S,w,O)=>{const M=C1(ra,"thresholds","threshold"),L=(await u$(M)).data();e(L.leftTemperature<=T&&L.leftHumidity<=S),r(L.rightTemperature<=w&&L.rightHumidity<=O)},_=()=>t&&n?"Both":t?"Left":n?"Right":"Safe";return de.useEffect(()=>{const T=s9(F8);l9(T,S=>{const w=S.val(),O=w.leftTemperature,M=w.leftHumidity,k=w.rightTemperature,L=w.rightHumidity;o(O),l(M),f(k),p(L),y(O,M,k,L)})},[]),te.jsxs("div",{className:"live-monitoring",children:[te.jsx("p",{className:"content-title",children:"Live Sensor Monitoring"}),te.jsx("div",{className:"card card-background live-measure-status "+(t||n?"live-measure-danger":"live-measure-safe"),children:_()}),te.jsxs("div",{className:"lg:content",children:[te.jsxs("div",{className:"grow",children:[te.jsx("div",{className:"card-unimportant card-title",children:te.jsx("p",{children:"DHT Left"})}),te.jsx("div",{className:"card card-background",children:te.jsxs("div",{className:"live-measure-row",children:[te.jsx(ZM,{dhtid:0}),te.jsx(JM,{value:t}),te.jsx(vp,{unit:hs.TEMPERATURE,value:i}),te.jsx(vp,{unit:hs.HUMIDITY,value:s})]})})]}),te.jsxs("div",{className:"grow",children:[te.jsx("div",{className:"card-unimportant card-title",children:te.jsx("p",{children:"DHT Right"})}),te.jsx("div",{className:"card card-background",children:te.jsxs("div",{className:"live-measure-row",children:[te.jsx(ZM,{dhtid:1}),te.jsx(JM,{value:n}),te.jsx(vp,{unit:hs.TEMPERATURE,value:c}),te.jsx(vp,{unit:hs.HUMIDITY,value:d})]})})]})]})]})}function JM({value:t}){return te.jsx("p",{className:"live-measure-status "+(t?"live-measure-danger":"live-measure-safe"),children:t?"Danger":"Safe"})}function vp({unit:t,value:e}){return te.jsxs("div",{className:"sm:live-measure",children:[te.jsx("p",{className:"ml-auto my-auto sm:text-xl",children:t==hs.TEMPERATURE?"Temperature":"Humidity"}),te.jsx("p",{className:"live-measure-units min-w-24",children:e+t})]})}function ZM({dhtid:t}){const n=c=>c.toDate().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),r=c=>c.toDate().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),[i,o]=de.useState(null),s=async()=>{const c=await Cp(Xc(Yc(ra,"records"),yr("dhtid","==",t),Pp("timestamp","desc"),O1(24)));o(c)},l=()=>{const c=i?i.docs.map((f,d)=>({humidity:f.data().humidity,temperature:f.data().temperature,date:n(f.data().timestamp),time:r(f.data().timestamp)})):[];return console.log(c),c.reverse()};return de.useEffect(()=>{s()},[]),te.jsx(wK,{width:"99%",height:200,className:"mx-auto",children:te.jsxs(Tae,{data:l(),syncId:"dht-records",margin:{top:5,right:30,left:20,bottom:5},children:[te.jsx(r4,{strokeDasharray:"3 3"}),te.jsx(ry,{dataKey:"time"}),te.jsx(Oi,{}),te.jsx(ps,{}),te.jsx(ys,{name:"Date",type:"monotone",dataKey:"date",stroke:"#d66884",legendType:"none",hide:"true"}),te.jsx(ys,{name:"Humidity",type:"monotone",dataKey:"humidity",stroke:"#8884d8",unit:hs.TEMPERATURE}),te.jsx(ys,{name:"Temperature",type:"monotone",dataKey:"temperature",stroke:"#82ca9d",unit:hs.HUMIDITY})]})})}const xae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23434343'%3e%3cpath%20d='M480-160q-134%200-227-93t-93-227q0-134%2093-227t227-93q69%200%20132%2028.5T720-690v-110h80v280H520v-80h168q-32-56-87.5-88T480-720q-100%200-170%2070t-70%20170q0%20100%2070%20170t170%2070q77%200%20139-44t87-116h84q-28%20106-114%20173t-196%2067Z'/%3e%3c/svg%3e",eD="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23434343'%3e%3cpath%20d='m313-440%20224%20224-57%2056-320-320%20320-320%2057%2056-224%20224h487v80H313Z'/%3e%3c/svg%3e",tD="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23434343'%3e%3cpath%20d='M647-440H160v-80h487L423-744l57-56%20320%20320-320%20320-57-56%20224-224Z'/%3e%3c/svg%3e";function nD({dhtid:t}){const n=()=>new Date().toISOString().slice(0,10),r=()=>{const L=new Date;return L.setDate(L.getDate()-1),L.toISOString().slice(0,10)},[i,o]=de.useState(null),[s,l]=de.useState(0),[c,f]=de.useState(0),[d,p]=de.useState(r()),[y,_]=de.useState(n()),T=async(L=null,I=!0,R=0)=>{const x=await L8(Xc(Yc(ra,"records"),yr("dhtid","==",t),yr("timestamp",">=",k(d,!1)),yr("timestamp","<=",k(y,!0))));l(x.data().count);let P;R==0?P=await Cp(Xc(Yc(ra,"records"),yr("dhtid","==",t),yr("timestamp",">=",k(d,!1)),yr("timestamp","<=",k(y,!0)),Pp("timestamp","desc"),O1(10))):I?P=await Cp(Xc(Yc(ra,"records"),yr("dhtid","==",t),yr("timestamp",">=",k(d,!1)),yr("timestamp","<=",k(y,!0)),Pp("timestamp","desc"),I8(L),O1(10))):P=await Cp(Xc(Yc(ra,"records"),yr("dhtid","==",t),yr("timestamp",">=",k(d,!1)),yr("timestamp","<=",k(y,!0)),Pp("timestamp","desc"),C8(L),P8(10))),o(P)},S=()=>{T(i.docs[i.docs.length-1],!0,c+1),f(c+1)},w=()=>{T(i.docs[0],!1,c-1),f(c-1)},O=()=>i?i.docs.map((L,I)=>L.data()):[],M=L=>L.toDate().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),k=(L,I=!1)=>{const R=Math.floor(Date.parse(L))+(I?86399999:0);return new Date(R)};return de.useEffect(()=>{T()},[d,y]),te.jsxs("div",{className:"records-table",children:[te.jsx("div",{className:"card card-emphasis bg-slate-200",children:te.jsxs("div",{className:"flex flex-col sm:flex-row",children:[te.jsx("input",{value:d,className:"records-table-date",type:"date",onChange:L=>{p(L.target.value)}}),te.jsx("p",{className:"grow hidden sm:block",children:"-"}),te.jsx("hr",{className:"bg-slate-300 h-0.5"}),te.jsx("input",{value:y,className:"records-table-date",type:"date",onChange:L=>{_(L.target.value)}})]})}),te.jsxs("table",{children:[te.jsx("thead",{children:te.jsxs("tr",{children:[te.jsx("th",{className:"hidden sm:table-cell",children:"No."}),te.jsx("th",{children:"Waktu Pencatatan"}),te.jsx("th",{children:"Suhu"}),te.jsx("th",{children:"Kelembapan"})]})}),te.jsx("tbody",{children:O().map((L,I)=>te.jsxs("tr",{children:[te.jsx("td",{className:"hidden sm:table-cell",children:I+c*10+1}),te.jsx("td",{children:M(L.timestamp)}),te.jsx("td",{children:L.temperature}),te.jsx("td",{children:L.humidity})]},I))})]}),te.jsxs("div",{className:"flex px-4 pt-2",children:[te.jsx("div",{className:"flex-shrink pr-4 py-2 hidden sm:block",children:`Jumlah data: ${s}`}),te.jsx("button",{className:"records-table-button",type:"button",onClick:()=>T(null,!1),children:te.jsx("img",{src:xae})}),te.jsx("div",{className:"flex-grow"}),c>0?te.jsx("button",{className:"records-table-button",type:"button",onClick:w,children:te.jsx("img",{src:eD})}):te.jsx("button",{className:"records-table-button",type:"button",disabled:!0,children:te.jsx("img",{className:"invisible",src:eD})}),(c+1)*10<s?te.jsx("button",{className:"records-table-button",type:"button",onClick:S,children:te.jsx("img",{src:tD})}):te.jsx("button",{className:"records-table-button",type:"button",disabled:!0,children:te.jsx("img",{className:"invisible",src:tD})})]})]})}function Aae(){return te.jsxs("div",{className:"records",children:[te.jsx("p",{className:"content-title",children:"Measurement Records"}),te.jsxs("div",{className:"lg:content",children:[te.jsxs("div",{className:"grow",children:[te.jsx("div",{className:"card-unimportant card-title",children:te.jsx("p",{children:"DHT Left"})}),te.jsx("div",{className:"card card-background",children:te.jsx(nD,{dhtid:0})})]}),te.jsxs("div",{className:"grow",children:[te.jsx("div",{className:"card-unimportant card-title",children:te.jsx("p",{children:"DHT Right"})}),te.jsx("div",{className:"card card-background",children:te.jsx(nD,{dhtid:1})})]})]})]})}const Du={TEMPERATURE:"C",HUMIDITY:"%"},ju={LEFT:"0",RIGHT:"1"};function Pae(){const[t,e]=de.useState({leftTemperature:"0",leftHumidity:"0",rightTemperature:"0",rightHumidity:"0"}),n=async()=>{const o=C1(ra,"thresholds","threshold"),s=await u$(o);e(s.data())},r=o=>{e(s=>({...s,[o.target.name]:o.target.value}))},i=async o=>{o.preventDefault();const s=C1(ra,"thresholds","threshold");await M8(s,{leftTemperature:parseFloat(t.leftTemperature),leftHumidity:parseFloat(t.leftHumidity),rightTemperature:parseFloat(t.rightTemperature),rightHumidity:parseFloat(t.rightHumidity)})};return de.useEffect(()=>{n()},[]),te.jsxs("div",{className:"settings",children:[te.jsx("p",{className:"content-title",children:"Sensor Settings"}),te.jsx("div",{className:"lg:content",children:te.jsxs("form",{className:"grow lg:grow-0 lg:mx-auto",onSubmit:i,children:[te.jsx("div",{className:"card-unimportant card-title",children:te.jsx("p",{children:"Threshold"})}),te.jsxs("div",{className:"card card-background",children:[te.jsx(_p,{sensor:ju.LEFT,unit:Du.TEMPERATURE,value:t.leftTemperature,onChange:r}),te.jsx(_p,{sensor:ju.LEFT,unit:Du.HUMIDITY,value:t.leftHumidity,onChange:r}),te.jsx(_p,{sensor:ju.RIGHT,unit:Du.TEMPERATURE,value:t.rightTemperature,onChange:r}),te.jsx(_p,{sensor:ju.RIGHT,unit:Du.HUMIDITY,value:t.rightHumidity,onChange:r}),te.jsx("div",{className:"w-full",children:te.jsx("button",{className:"card card-emphasis block ml-auto bg-yellow-200 focus:bg-green-200",children:"Save"})})]})]})})]})}function _p({sensor:t,unit:e,value:n,onChange:r}){const i=()=>(t==ju.LEFT?"left":"right")+(e==Du.TEMPERATURE?"Temperature":"Humidity"),o=()=>(t==ju.LEFT?"Left":"Right")+" "+(e==Du.TEMPERATURE?"Temperature":"Humidity");return te.jsxs("div",{className:"sm:threshold",children:[te.jsx("label",{htmlFor:i(),className:"mr-auto my-auto sm:text-xl smcol-span-1",children:o()}),te.jsxs("div",{className:"flex sm:col-span-2 my-auto",children:[te.jsx("input",{type:"number",step:"0.1",id:i(),name:i(),value:n,className:"threshold-units grow w-24 sm:text-right",onChange:r,size:0,required:!0}),te.jsx("p",{className:"threshold-units",children:e})]})]})}const Iae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23F3F3F3'%3e%3cpath%20d='M197-197q-54-55-85.5-127.5T80-480q0-84%2031.5-156.5T197-763l57%2057q-44%2044-69%20102t-25%20124q0%2067%2025%20125t69%20101l-57%2057Zm113-113q-32-33-51-76.5T240-480q0-51%2019-94.5t51-75.5l57%2057q-22%2022-34.5%2051T320-480q0%2033%2012.5%2062t34.5%2051l-57%2057Zm170-90q-33%200-56.5-23.5T400-480q0-33%2023.5-56.5T480-560q33%200%2056.5%2023.5T560-480q0%2033-23.5%2056.5T480-400Zm170%2090-57-57q22-22%2034.5-51t12.5-62q0-33-12.5-62T593-593l57-57q32%2032%2051%2075.5t19%2094.5q0%2050-19%2093.5T650-310Zm113%20113-57-57q44-44%2069-102t25-124q0-67-25-125t-69-101l57-57q54%2054%2085.5%20126.5T880-480q0%2083-31.5%20155.5T763-197Z'/%3e%3c/svg%3e",Cae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23F3F3F3'%3e%3cpath%20d='M280-600v-80h560v80H280Zm0%20160v-80h560v80H280Zm0%20160v-80h560v80H280ZM160-600q-17%200-28.5-11.5T120-640q0-17%2011.5-28.5T160-680q17%200%2028.5%2011.5T200-640q0%2017-11.5%2028.5T160-600Zm0%20160q-17%200-28.5-11.5T120-480q0-17%2011.5-28.5T160-520q17%200%2028.5%2011.5T200-480q0%2017-11.5%2028.5T160-440Zm0%20160q-17%200-28.5-11.5T120-320q0-17%2011.5-28.5T160-360q17%200%2028.5%2011.5T200-320q0%2017-11.5%2028.5T160-280Z'/%3e%3c/svg%3e",Oae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23F3F3F3'%3e%3cpath%20d='m370-80-16-128q-13-5-24.5-12T307-235l-119%2050L78-375l103-78q-1-7-1-13.5v-27q0-6.5%201-13.5L78-585l110-190%20119%2050q11-8%2023-15t24-12l16-128h220l16%20128q13%205%2024.5%2012t22.5%2015l119-50%20110%20190-103%2078q1%207%201%2013.5v27q0%206.5-2%2013.5l103%2078-110%20190-118-50q-11%208-23%2015t-24%2012L590-80H370Zm70-80h79l14-106q31-8%2057.5-23.5T639-327l99%2041%2039-68-86-65q5-14%207-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99%2042q-22-23-48.5-38.5T533-694l-13-106h-79l-14%20106q-31%208-57.5%2023.5T321-633l-99-41-39%2068%2086%2064q-5%2015-7%2030t-2%2032q0%2016%202%2031t7%2030l-86%2065%2039%2068%2099-42q22%2023%2048.5%2038.5T427-266l13%20106Zm42-180q58%200%2099-41t41-99q0-58-41-99t-99-41q-59%200-99.5%2041T342-480q0%2058%2040.5%2099t99.5%2041Zm-2-140Z'/%3e%3c/svg%3e",rD={LIVE_MONITORING:{label:"Live Monitoring",page:te.jsx(Sae,{}),icon:te.jsx("img",{src:Iae})},RECORDS:{label:"Records",page:te.jsx(Aae,{}),icon:te.jsx("img",{src:Cae})},SETTINGS:{label:"Settings",page:te.jsx(Pae,{}),icon:te.jsx("img",{src:Oae})}};function Rae(){const[t,e]=de.useState(rD.LIVE_MONITORING),[n,r]=de.useState(!1);return te.jsxs("div",{className:"outer-webpage",children:[n?te.jsx(kae,{}):te.jsx(te.Fragment,{}),te.jsxs("div",{className:"inner-webpage",children:[te.jsx(Nae,{items:rD,onClick:i=>e(i)}),te.jsx("div",{className:"content-page",children:t.page})]})]})}function kae(){return te.jsx("div",{className:"topbar",children:te.jsx("p",{children:"IoT Digital Humidity and Temperature Monitoring"})})}function Nae({items:t,onClick:e}){const[n,r]=de.useState(1);return te.jsx(te.Fragment,{children:te.jsxs("div",{className:"sidebar",children:[te.jsx("a",{className:"no-hover mx-auto",href:"https://console.firebase.google.com/u/0/project/dht-firebase-if51/",children:te.jsx(Mae,{status:n})}),Object.keys(t).map((i,o)=>te.jsx(Dae,{item:t[i],onClick:()=>e(t[i])},o))]})})}function Mae({status:t}){return te.jsx(te.Fragment,{children:t?te.jsxs("div",{className:"sidebar-status",children:[te.jsx("span",{className:"dot dot-online md:mr-3"}),te.jsx("span",{className:"hidden md:inline",children:"Online"})]}):te.jsxs("div",{className:"sidebar-status",children:[te.jsx("span",{className:"dot dot-offline md:mr-3"}),te.jsx("span",{className:"hidden md:inline",children:"Offline"})]})})}function Dae({item:t,onClick:e}){return te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"sidebar-item md:block hidden",onClick:()=>e(),children:te.jsx("p",{children:t.label})}),te.jsx("div",{className:"sidebar-item block md:hidden",onClick:()=>e(),children:t.icon})]})}Oq.createRoot(document.getElementById("root")).render(te.jsx(Rae,{}));
